<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online PERGUNU Situbondo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-primary: #6a11cb;
            --color-secondary: #2575fc;
            --color-tertiary: #00c6fb;
            --color-success: #4CAF50;
            --color-error: #f44336;
            --color-warning: #ff9800;
            --color-info: #2196F3;
            --color-dark: #1a1a2e;
            --color-light: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-tertiary));
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Particle Background */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }

        #celebration-particles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            pointer-events: none;
            display: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .logo {
            height: 80px;
            margin-bottom: 15px;
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 50px;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
            margin: 5px;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 117, 252, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-success {
            background: linear-gradient(to right, var(--color-success), #2ecc71);
        }

        .btn-danger {
            background: linear-gradient(to right, var(--color-error), #e74c3c);
        }

        .btn-warning {
            background: linear-gradient(to right, var(--color-warning), #f39c12);
        }

        .btn-info {
            background: linear-gradient(to right, var(--color-info), #3498db);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-secondary);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 3px rgba(37, 117, 252, 0.2);
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        /* Radio and Checkbox Styles */
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option, .checkbox-option {
            display: none;
        }

        .radio-label, .checkbox-label {
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-option:checked + .radio-label,
        .checkbox-option:checked + .checkbox-label {
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
        }

        /* Animation Classes */
        .slide-in {
            animation: slideIn 0.5s forwards;
        }

        .slide-out {
            animation: slideOut 0.5s forwards;
        }

        .fade-in {
            animation: fadeIn 0.5s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Timer Styles */
        .timer {
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
            color: white;
            transition: all 0.3s ease;
        }

        .timer-warning {
            color: var(--color-warning);
            font-size: 28px;
        }

        .timer-danger {
            color: var(--color-error);
            font-size: 32px;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 1000;
            animation: slideUp 0.5s forwards;
            max-width: 90%;
            text-align: center;
        }

        @keyframes slideUp {
            from { bottom: -50px; opacity: 0; }
            to { bottom: 20px; opacity: 1; }
        }

        /* Question Styles */
        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .option {
            padding: 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .option.correct {
            background: var(--color-success);
            animation: correctAnswer 0.5s;
        }

        .option.incorrect {
            background: var(--color-error);
            animation: incorrectAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            display: none;
        }

        /* Certificate Styles - REVISED FOR PRINTING */
        .certificate {
            background: white;
            color: #333;
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            width: 210mm; /* A4 width */
            height: 297mm; /* A4 height */
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            page-break-after: avoid;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .certificate-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 40px 60px;
            margin: 0 auto;
            width: 80%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .certificate-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--color-primary);
            text-transform: uppercase;
        }

        .certificate-code {
            font-size: 14px;
            margin-bottom: 30px;
            color: #555;
            letter-spacing: 1px;
        }

        .certificate-recipient {
            font-size: 48px;
            margin: 20px 0;
            font-weight: 600;
            color: #333;
            font-family: 'Dancing Script', cursive;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .certificate-body {
            font-size: 16px;
            line-height: 1.6;
            margin: 10px 0;
            color: #333;
        }

        .certificate-score {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-primary);
            margin: 20px 0;
        }

        .certificate-motivation {
            font-style: italic;
            margin: 15px 0;
            font-size: 14px;
            color: #555;
        }

        .certificate-footer {
            margin-top: 30px;
            font-size: 12px;
            color: #555;
        }

        .certificate-signature {
            margin-top: 40px;
            font-size: 14px;
        }

        .certificate-barcode {
            margin: 15px auto;
            height: 80px;
            width: auto;
        }

        /* Floating Button Styles */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .floating-btn .tooltip {
            position: absolute;
            right: 60px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .floating-btn:hover .tooltip {
            opacity: 1;
            right: 70px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Roman numeral styles */
        .roman {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }

        /* Print Styles - REVISED FOR BETTER PRINTING */
        @media print {
            body * {
                visibility: hidden;
                background: white !important;
                color: black !important;
            }
            
            .certificate, 
            .certificate * {
                visibility: visible;
                background: transparent !important;
                color: #333 !important;
            }
            
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png') !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
            }
            
            .certificate-content {
                padding: 40px 60px !important;
                margin: 0 auto !important;
                width: 80% !important;
                height: 100% !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
            }
            
            .certificate-recipient {
                font-size: 48px !important;
                font-family: 'Dancing Script', cursive !important;
            }
            
            .floating-buttons, 
            .results-summary, 
            .result-actions {
                display: none !important;
            }
            
            @page {
                size: A4 portrait;
                margin: 0;
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .certificate-content {
                padding: 30px;
                width: 90%;
            }
            
            .certificate-title {
                font-size: 24px;
            }
            
            .certificate-recipient {
                font-size: 36px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .form-control {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .certificate-content {
                padding: 20px;
                width: 95%;
            }
            
            .certificate-title {
                font-size: 20px;
            }
            
            .certificate-recipient {
                font-size: 28px;
            }
        }

        /* Admin Panel Specific Styles */
        .admin-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .admin-section h5 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .admin-control-group {
            margin-bottom: 15px;
        }

        .admin-control-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
        }

        .admin-control-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        .admin-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-success);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .participant-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
        }

        .participant-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .participant-item:last-child {
            border-bottom: none;
        }

        .export-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        .data-table th, .data-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }

        .data-table tr:hover {
            background-color: #f9f9f9;
        }

        /* Checkbox styles for participant selection */
        .select-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .select-all-checkbox {
            margin-right: 5px;
        }

        .participant-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        /* Search Box */
        .search-box {
            margin-bottom: 15px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        /* Edit Participant Modal */
        .edit-participant-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .edit-participant-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .edit-participant-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Certificate Validation Section */
        .certificate-validation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 8px;
        }

        .validation-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .valid-certificate {
            background-color: #dff0d8;
            color: #3c763d;
        }

        .invalid-certificate {
            background-color: #f2dede;
            color: #a94442;
        }

        /* Alert Styles */
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-size: 14px;
        }

        .alert-success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }

        .alert-danger {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div id="celebration-particles"></div>
    
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="card slide-in">
            <div class="header">
                <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/logo.png" alt="PERGUNU Logo" class="logo">
                <h1>Ujian Online PERGUNU Situbondo</h1>
            </div>
            
            <div id="greeting-message">
                <p id="greeting-text">Selamat datang di sistem ujian online PERGUNU Situbondo, Sistem tes kemampuan akademik untuk pelajar. Silakan masukkan kode login untuk melanjutkan.</p>
            </div>
            
            <div class="form-group">
                <label for="login-code" class="form-label">Kode Login</label>
                <input type="password" id="login-code" class="form-control" placeholder="Masukkan kode login">
                <small class="text-muted">Kode login diberikan oleh admin</small>
            </div>
            
            <button id="login-btn" class="btn">Masuk</button>
        </div>
        
        <!-- Terms Screen (Hidden Initially) -->
        <div id="terms-screen" class="card" style="display: none;">
            <h2>Peraturan dan Kebijakan Ujian Online</h2>
            <div class="terms-content" style="max-height: 300px; overflow-y: auto; margin: 20px 0; padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                <p>1. Ujian ini dikembangkan oleh Cendhanu Tim Kreator PERGUNU Situbondo.</p>
                <p>2. Peserta wajib mengisi data diri dengan benar dan lengkap.</p>
                <p>3. Dilarang keras melakukan kecurangan selama ujian berlangsung.</p>
                <p>4. Waktu ujian akan berjalan terus dan tidak dapat dihentikan.</p>
                <p>5. Jawaban yang sudah dipilih tidak dapat diubah.</p>
                <p>6. Soal yang tidak dijawab akan dianggap salah.</p>
                <p>7. Hasil ujian akan ditampilkan setelah waktu habis atau peserta menyelesaikan ujian.</p>
                <p>8. Sertifikat akan diberikan kepada peserta yang menyelesaikan ujian.</p>
                <p>9. Keputusan panitia ujian bersifat mutlak dan tidak dapat diganggu gugat.</p>
            </div>
            
            <div class="form-group">
                <input type="checkbox" id="agree-terms" class="checkbox-option">
                <label for="agree-terms" class="checkbox-label">Saya menyetujui</label>
            </div>
            
            <button id="continue-btn" class="btn" disabled>Lanjut Ikut Ujian</button>
        </div>
        
        <!-- Participant Form (Hidden Initially) -->
        <div id="participant-form" class="card" style="display: none;">
            <h2>Formulir Data Peserta</h2>
            <p>Silakan isi data diri Anda dengan benar. Data ini akan digunakan untuk sertifikat ujian.</p>
            
            <div class="form-group">
                <label for="fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="fullname" class="form-control" placeholder="Masukkan nama lengkap" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="status-student" name="status" value="pelajar" class="radio-option" checked>
                    <label for="status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <!-- Student Fields -->
            <div id="student-fields">
                <div class="form-group">
                    <label for="school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="school-name" class="form-control" placeholder="Masukkan nama sekolah">
                </div>
                
                <div class="form-group">
                    <label for="student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="student-id" class="form-control" placeholder="Masukkan NIS" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="purpose-task" name="purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="purpose-exam" name="purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="purpose-test" name="purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="level-elementary" name="level" value="SD" class="radio-option">
                        <label for="level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="level-junior" name="level" value="SMP" class="radio-option">
                        <label for="level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="level-senior" name="level" value="SMA/SMK" class="radio-option">
                        <label for="level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
            </div>
            
            <!-- Grade Selection (Will be shown based on school level) -->
            <div id="grade-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Subject Selection -->
            <div id="subject-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Pilih Jenis Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="subject-science" name="subject" value="IPA" class="radio-option" checked>
                        <label for="subject-science" class="radio-label">IPA</label>
                    </div>
                </div>
            </div>
            
            <!-- Admin Information -->
            <div class="form-group" id="admin-info" style="margin-top: 30px;">
                <p>Informasi berkala dari admin:</p>
                <div style="padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                    <p id="admin-message">Tidak ada informasi terbaru saat ini.</p>
                </div>
            </div>
            
            <button id="save-participant-btn" class="btn" disabled>Simpan & Ikut Ujian</button>
        </div>
        
        <!-- Exam Screen (Hidden Initially) -->
        <div id="exam-screen" class="card" style="display: none;">
            <div class="timer" id="exam-timer">02:00:00</div>
            
            <div class="question-container">
                <div class="question" id="question-text">Memuat soal...</div>
                <div id="question-image-container" style="margin-bottom: 15px;"></div>
                
                <div class="options" id="options-container">
                    <!-- Options will be populated by JavaScript -->
                </div>
                
                <div class="explanation" id="explanation-text">
                    <!-- Explanation will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="exam-controls">
                <button id="finish-exam-btn" class="btn btn-danger">Selesaikan Ujian Sekarang</button>
                <button id="skip-question-btn" class="btn btn-warning">Lewati Soal</button>
                <button id="unanswered-btn" class="btn btn-info">Soal Belum Dijawab</button>
            </div>
        </div>
        
        <!-- Results Screen (Hidden Initially) -->
        <div id="results-screen" class="card" style="display: none;">
            <h2>Hasil Ujian</h2>
            
            <div class="results-summary">
                <p>Nama: <span id="result-name"></span></p>
                <p>Status: <span id="result-status"></span></p>
                <p>Tingkat: <span id="result-level"></span></p>
                <p>Kelas: <span id="result-grade"></span></p>
                <p>Mata Ujian: <span id="result-subject"></span></p>
                <p>Jumlah Soal: <span id="total-questions"></span></p>
                <p>Jawaban Benar: <span id="correct-answers"></span></p>
                <p>Jawaban Salah: <span id="wrong-answers"></span></p>
                <p>Tidak Dijawab: <span id="unanswered-questions"></span></p>
                <p>Nilai: <span id="exam-score"></span></p>
            </div>
            
            <div class="certificate-container" id="certificate-container" style="display: none;">
                <!-- Certificate will be generated here -->
            </div>
            
            <div class="result-actions">
                <button id="print-certificate-btn" class="btn btn-success">Cetak Sertifikat</button>
                <button id="retake-exam-btn" class="btn btn-info">Ulangi Ujian</button>
            </div>
        </div>
    </div>
    
    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn" id="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span class="tooltip">Chat Admin</span>
        </button>
        
        <button class="floating-btn" id="admin-panel-btn">
            <i class="fas fa-cog"></i>
            <span class="tooltip">Admin Panel</span>
        </button>
    </div>
    
    <!-- Admin Panel Modal -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Kontrol Panel Admin</h3>
                <button class="modal-close" id="close-admin-panel-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="admin-panel-code" class="form-label">Kode Admin</label>
                    <input type="password" id="admin-panel-code" class="form-control" placeholder="Masukkan kode admin" style="color: #333;">
                    <button id="submit-admin-panel-code" class="btn">Masuk</button>
                </div>
                
                <div id="admin-panel-content" style="display: none;">
                    <div class="admin-section">
                        <h5>Pengaturan Kode</h5>
                        <div class="form-group">
                            <label class="form-label">Kode Login Baru</label>
                            <input type="password" id="new-login-code" class="form-control" placeholder="Masukkan kode login baru" style="color: #333;">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Admin Baru</label>
                            <input type="password" id="new-admin-code" class="form-control" placeholder="Masukkan kode admin baru" style="color: #333;">
                        </div>
                        
                        <button id="save-codes-btn" class="btn btn-success">Simpan Kode</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Ujian</h5>
                        <div class="admin-controls">
                            <div class="admin-control-group">
                                <label class="admin-control-label">Durasi Ujian (menit)</label>
                                <input type="number" id="exam-duration" class="admin-control-input" value="120" min="5" max="300">
                            </div>
                            <div class="admin-control-group">
                                <label class="admin-control-label">Jumlah Soal</label>
                                <select id="question-count" class="admin-control-input">
                                    <option value="5">5</option>
                                    <option value="10">10</option>
                                    <option value="15">15</option>
                                    <option value="20">20</option>
                                    <option value="25">25</option>
                                    <option value="30">30</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                    <option value="150">150</option>
                                </select>
                            </div>
                        </div>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Acak Soal</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="randomize-questions" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="randomize-status">Aktif</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Konten</h5>
                        <div class="form-group">
                            <label class="form-label">Pesan Pembuka</label>
                            <textarea id="greeting-message-input" class="form-control" rows="3" style="color: #333;">Selamat datang di sistem ujian online PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Informasi Berkala</label>
                            <textarea id="admin-message-input" class="form-control" rows="3" style="color: #333;">Tidak ada informasi terbaru saat ini.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nama Ketua PERGUNU</label>
                            <input type="text" id="chairman-name" class="form-control" value="Moh. Nuril Hudha, S.Pd., M.Si." style="color: #333;">
                        </div>
                        <button id="save-content-btn" class="btn btn-success">Simpan Perubahan</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Manajemen Peserta</h5>
                        <div class="search-box">
                            <input type="text" id="participant-search" class="search-input" placeholder="Cari peserta berdasarkan nama, NIS, atau kode sertifikat...">
                        </div>
                        <div class="participant-actions">
                            <button id="select-all-participants" class="btn btn-info">
                                <input type="checkbox" id="select-all-checkbox" class="select-all-checkbox">
                                Pilih Semua
                            </button>
                            <button id="edit-selected-participants" class="btn btn-warning" disabled>
                                <i class="fas fa-edit"></i> Edit Terpilih
                            </button>
                            <button id="delete-selected-participants" class="btn btn-danger" disabled>
                                <i class="fas fa-trash"></i> Hapus Terpilih
                            </button>
                        </div>
                        <div class="participant-list">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th width="30px">
                                            <!-- Select all checkbox -->
                                        </th>
                                        <th>Tanggal</th>
                                        <th>Nama</th>
                                        <th>NIS</th>
                                        <th>Status</th>
                                        <th>Tingkat</th>
                                        <th>Kelas</th>
                                        <th>Mata Ujian</th>
                                        <th>Nilai</th>
                                        <th>Kode Sertifikat</th>
                                    </tr>
                                </thead>
                                <tbody id="participants-table-body">
                                    <!-- Participant data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Validasi Sertifikat</h5>
                        <div class="certificate-validation">
                            <div class="form-group">
                                <label class="form-label">Masukkan Kode Sertifikat</label>
                                <input type="text" id="certificate-code-input" class="form-control" placeholder="Masukkan kode sertifikat" style="color: #333;">
                                <button id="validate-certificate-btn" class="btn btn-info">Validasi</button>
                            </div>
                            <div id="validation-result" class="validation-result" style="display: none;">
                                <!-- Validation result will be shown here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Aktifkan/Nonaktifkan Ujian</h5>
                        <div class="admin-control-group">
                            <label class="admin-control-label">IPA</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-science" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="science-status">Aktif</span>
                            </div>
                        </div>
                        <button id="save-settings-btn" class="btn btn-success">Simpan Pengaturan</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Participant Modal -->
    <div class="edit-participant-modal" id="edit-participant-modal">
        <div class="edit-participant-content">
            <span class="edit-participant-close" id="close-edit-participant-modal">&times;</span>
            <h3>Edit Data Peserta</h3>
            
            <div class="form-group">
                <label for="edit-fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="edit-fullname" class="form-control" style="color: #333;" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="edit-status-student" name="edit-status" value="pelajar" class="radio-option" checked>
                    <label for="edit-status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <div id="edit-student-fields">
                <div class="form-group">
                    <label for="edit-school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="edit-school-name" class="form-control" style="color: #333;">
                </div>
                
                <div class="form-group">
                    <label for="edit-student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="edit-student-id" class="form-control" style="color: #333;" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-purpose-task" name="edit-purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="edit-purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="edit-purpose-exam" name="edit-purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="edit-purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="edit-purpose-test" name="edit-purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="edit-purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-level-elementary" name="edit-level" value="SD" class="radio-option">
                        <label for="edit-level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="edit-level-junior" name="edit-level" value="SMP" class="radio-option">
                        <label for="edit-level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="edit-level-senior" name="edit-level" value="SMA/SMK" class="radio-option">
                        <label for="edit-level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="edit-grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Mata Ujian</label>
                <select id="edit-subject" class="form-control" style="color: #333;">
                    <option value="IPA">IPA</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="edit-score" class="form-label">Nilai</label>
                <input type="number" id="edit-score" class="form-control" min="0" max="100" style="color: #333;">
            </div>
            
            <div class="form-group">
                <label for="edit-certificate-code" class="form-label">Kode Sertifikat</label>
                <input type="text" id="edit-certificate-code" class="form-control" style="color: #333;" readonly>
            </div>
            
            <button id="save-edit-participant-btn" class="btn btn-success">Simpan Perubahan</button>
            
            <input type="hidden" id="edit-participant-index">
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="time-warning" style="display: none;">
        Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.
    </div>

    <!-- Audio Elements -->
    <audio id="button-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/audiotombol.mp3" preload="auto"></audio>
    <audio id="correct-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabanbenar.mp3" preload="auto"></audio>
    <audio id="wrong-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabansalah.mp3" preload="auto"></audio>
    <audio id="certificate-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/applause.mp3" preload="auto"></audio>
    <audio id="opening-sound" src="https://github.com/pergunu/ujian-online/raw/main/assets/audio/opening.mp3" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Global variables
        let currentScreen = 'welcome';
        let participantData = {};
        let examData = {};
        let questions = [];
        let currentQuestionIndex = 0;
        let answeredQuestions = {};
        let examTimer;
        let examTimeLeft = 120 * 60; // 120 minutes in seconds
        let selectedParticipants = [];
        
        // Audio elements
        const buttonSound = document.getElementById('button-sound');
        const correctAnswerSound = document.getElementById('correct-answer-sound');
        const wrongAnswerSound = document.getElementById('wrong-answer-sound');
        const certificateSound = document.getElementById('certificate-sound');
        const openingSound = document.getElementById('opening-sound');
        
        // Default codes (should be changed in production)
        const DEFAULT_LOGIN_CODE = '12345';
        const DEFAULT_ADMIN_PANEL_CODE = '65614222';
        
        // Store participants data
        let participantsData = JSON.parse(localStorage.getItem('participantsData')) || [];
        
        // Store admin settings
        let adminSettings = JSON.parse(localStorage.getItem('adminSettings')) || {
            loginCode: DEFAULT_LOGIN_CODE,
            adminCode: DEFAULT_ADMIN_PANEL_CODE,
            examDuration: 120,
            questionCount: 20,
            randomizeQuestions: true,
            greetingMessage: "Selamat datang di sistem ujian online PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.",
            adminMessage: "Tidak ada informasi terbaru saat ini.",
            chairmanName: "Moh. Nuril Hudha, S.Pd., M.Si.",
            enabledSubjects: {
                IPA: true
            }
        };

        // Question bank structure with levels (IPA only)
        let QUESTION_BANK = {
            'SD': {
                'IPA': [
                    {
                question: "Proses fotosintesis pada tumbuhan menghasilkan...",
                options: [
                    "A. Oksigen dan air",
                    "B. Karbon dioksida dan glukosa",
                    "C. Oksigen dan glukosa",
                    "D. Air dan karbon dioksida",
                    "E. Nitrogen dan oksigen"
                ],
                correctAnswer: 2,
                explanation: "Fotosintesis mengubah karbon dioksida dan air menjadi glukosa dan oksigen dengan bantuan sinar matahari. Jadi jawaban yang benar adalah C. Oksigen dan glukosa"
            },
            {
                question: "Planet terdekat dari matahari dalam tata surya kita adalah...",
                options: [
                    "A. Venus",
                    "B. Bumi",
                    "C. Mars",
                    "D. Merkurius",
                    "E. Jupiter"
                ],
                correctAnswer: 3,
                explanation: "Merkurius adalah planet terdekat dari matahari. Jadi jawaban yang benar adalah D. Merkurius"
            },
            {
                question: "Zat yang dihasilkan oleh lebah madu yang bermanfaat untuk kesehatan adalah...",
                options: [
                    "A. Lilin",
                    "B. Propolis",
                    "C. Royal jelly",
                    "D. Madu",
                    "E. Semua jawaban benar"
                ],
                correctAnswer: 4,
                explanation: "Lebah madu menghasilkan lilin, propolis, royal jelly, dan madu yang semuanya bermanfaat untuk kesehatan. Jadi jawaban yang benar adalah E. Semua jawaban benar"
            },
            {
                question: "Proses perubahan wujud dari gas menjadi cair disebut...",
                options: [
                    "A. Membeku",
                    "B. Mencair",
                    "C. Menguap",
                    "D. Mengembun",
                    "E. Menyublim"
                ],
                correctAnswer: 3,
                explanation: "Mengembun adalah proses perubahan wujud dari gas menjadi cair. Jadi jawaban yang benar adalah D. Mengembun"
            },
            {
                question: "Hewan yang mengalami metamorfosis sempurna adalah...",
                options: [
                    "A. Kecoa",
                    "B. Belalang",
                    "C. Kupu-kupu",
                    "D. Jangkrik",
                    "E. Lipan"
                ],
                correctAnswer: 2,
                explanation: "Kupu-kupu mengalami metamorfosis sempurna (telur-larva-kepompong-imago). Jadi jawaban yang benar adalah C. Kupu-kupu"
            },
            {
                question: "Bagian tumbuhan yang berfungsi untuk menyerap air dan mineral dari tanah adalah...",
                options: [
                    "A. Batang",
                    "B. Daun",
                    "C. Akar",
                    "D. Bunga",
                    "E. Buah"
                ],
                correctAnswer: 2,
                explanation: "Akar berfungsi untuk menyerap air dan mineral dari tanah. Jadi jawaban yang benar adalah C. Akar"
            },
            {
                question: "Energi alternatif yang berasal dari panas bumi disebut...",
                options: [
                    "A. Energi surya",
                    "B. Energi geotermal",
                    "C. Energi hidroelektrik",
                    "D. Energi biomassa",
                    "E. Energi nuklir"
                ],
                correctAnswer: 1,
                explanation: "Energi geotermal adalah energi yang berasal dari panas bumi. Jadi jawaban yang benar adalah B. Energi geotermal"
            },
            {
                question: "Proses pelapukan batuan oleh aktivitas makhluk hidup disebut pelapukan...",
                options: [
                    "A. Fisika",
                    "B. Kimia",
                    "C. Biologi",
                    "D. Mekanik",
                    "E. Organik"
                ],
                correctAnswer: 2,
                explanation: "Pelapukan biologi adalah pelapukan yang disebabkan oleh aktivitas makhluk hidup. Jadi jawaban yang benar adalah C. Biologi"
            },
            {
                question: "Alat pernapasan pada ikan adalah...",
                options: [
                    "A. Paru-paru",
                    "B. Insang",
                    "C. Trakea",
                    "D. Kulit",
                    "E. Spirakel"
                ],
                correctAnswer: 1,
                explanation: "Ikan bernapas menggunakan insang. Jadi jawaban yang benar adalah B. Insang"
            },
            {
                question: "Planet yang dikenal sebagai planet merah adalah...",
                options: [
                    "A. Venus",
                    "B. Mars",
                    "C. Jupiter",
                    "D. Saturnus",
                    "E. Neptunus"
                ],
                correctAnswer: 1,
                explanation: "Mars dikenal sebagai planet merah karena permukaannya yang berwarna kemerahan. Jadi jawaban yang benar adalah B. Mars"
            },
            {
                question: "Zat yang menyebabkan warna hijau pada daun adalah...",
                options: [
                    "A. Xantofil",
                    "B. Klorofil",
                    "C. Karoten",
                    "D. Antosianin",
                    "E. Fikosianin"
                ],
                correctAnswer: 1,
                explanation: "Klorofil adalah pigmen yang memberi warna hijau pada daun. Jadi jawaban yang benar adalah B. Klorofil"
            },
            {
                question: "Hewan yang termasuk kelompok omnivora adalah...",
                options: [
                    "A. Sapi",
                    "B. Harimau",
                    "C. Ayam",
                    "D. Elang",
                    "E. Ular"
                ],
                correctAnswer: 2,
                explanation: "Ayam adalah omnivora karena makan tumbuhan dan hewan kecil. Jadi jawaban yang benar adalah C. Ayam"
            },
            {
                question: "Bagian mata yang berfungsi mengatur jumlah cahaya yang masuk adalah...",
                options: [
                    "A. Kornea",
                    "B. Retina",
                    "C. Iris",
                    "D. Lensa",
                    "E. Pupil"
                ],
                correctAnswer: 2,
                explanation: "Iris mengatur besar kecilnya pupil yang menentukan jumlah cahaya yang masuk. Jadi jawaban yang benar adalah C. Iris"
            },
            {
                question: "Proses perubahan wujud dari padat langsung menjadi gas disebut...",
                options: [
                    "A. Membeku",
                    "B. Mencair",
                    "C. Menguap",
                    "D. Mengembun",
                    "E. Menyublim"
                ],
                correctAnswer: 4,
                explanation: "Menyublim adalah perubahan wujud dari padat langsung menjadi gas. Jadi jawaban yang benar adalah E. Menyublim"
            },
            {
                question: "Tumbuhan yang menyimpan makanan cadangan di akar adalah...",
                options: [
                    "A. Padi",
                    "B. Singkong",
                    "C. Mangga",
                    "D. Kelapa",
                    "E. Tebu"
                ],
                correctAnswer: 1,
                explanation: "Singkong menyimpan makanan cadangan di akarnya. Jadi jawaban yang benar adalah B. Singkong"
            },
            {
                question: "Alat indera yang peka terhadap rangsangan bau adalah...",
                options: [
                    "A. Mata",
                    "B. Telinga",
                    "C. Hidung",
                    "D. Lidah",
                    "E. Kulit"
                ],
                correctAnswer: 2,
                explanation: "Hidung adalah indera penciuman yang peka terhadap bau. Jadi jawaban yang benar adalah C. Hidung"
            },
            {
                question: "Gerak tumbuhan yang dipengaruhi oleh arah datangnya cahaya disebut...",
                options: [
                    "A. Geotropisme",
                    "B. Fototropisme",
                    "C. Hidrotropisme",
                    "D. Tigmotropisme",
                    "E. Niktinasti"
                ],
                correctAnswer: 1,
                explanation: "Fototropisme adalah gerak tumbuhan menuju arah cahaya. Jadi jawaban yang benar adalah B. Fototropisme"
            },
            {
                question: "Hewan yang mengalami metamorfosis tidak sempurna adalah...",
                options: [
                    "A. Nyamuk",
                    "B. Lalat",
                    "C. Katak",
                    "D. Capung",
                    "E. Kupu-kupu"
                ],
                correctAnswer: 3,
                explanation: "Capung mengalami metamorfosis tidak sempurna (telur-nimfa-imago). Jadi jawaban yang benar adalah D. Capung"
            },
            {
                question: "Bagian sel tumbuhan yang tidak dimiliki oleh sel hewan adalah...",
                options: [
                    "A. Membran sel",
                    "B. Sitoplasma",
                    "C. Inti sel",
                    "D. Dinding sel",
                    "E. Mitokondria"
                ],
                correctAnswer: 3,
                explanation: "Dinding sel hanya dimiliki oleh sel tumbuhan, tidak dimiliki sel hewan. Jadi jawaban yang benar adalah D. Dinding sel"
            },
            {
                question: "Planet terbesar dalam tata surya kita adalah...",
                options: [
                    "A. Bumi",
                    "B. Mars",
                    "C. Jupiter",
                    "D. Saturnus",
                    "E. Neptunus"
                ],
                correctAnswer: 2,
                explanation: "Jupiter adalah planet terbesar dalam tata surya. Jadi jawaban yang benar adalah C. Jupiter"
            },
            {
                question: "Proses penguapan air dari permukaan daun tumbuhan disebut...",
                options: [
                    "A. Transpirasi",
                    "B. Evaporasi",
                    "C. Kondensasi",
                    "D. Presipitasi",
                    "E. Respirasi"
                ],
                correctAnswer: 0,
                explanation: "Transpirasi adalah proses penguapan air dari permukaan daun. Jadi jawaban yang benar adalah A. Transpirasi"
            },
            {
                question: "Hewan yang termasuk kelompok herbivora adalah...",
                options: [
                    "A. Singa",
                    "B. Ular",
                    "C. Kambing",
                    "D. Elang",
                    "E. Harimau"
                ],
                correctAnswer: 2,
                explanation: "Kambing adalah herbivora karena hanya memakan tumbuhan. Jadi jawaban yang benar adalah C. Kambing"
            },
            {
                question: "Bagian telinga yang berfungsi menangkap gelombang suara adalah...",
                options: [
                    "A. Daun telinga",
                    "B. Saluran telinga",
                    "C. Gendang telinga",
                    "D. Koklea",
                    "E. Tulang pendengaran"
                ],
                correctAnswer: 0,
                explanation: "Daun telinga berfungsi menangkap dan mengumpulkan gelombang suara. Jadi jawaban yang benar adalah A. Daun telinga"
            },
            {
                question: "Tumbuhan yang berkembang biak dengan umbi batang adalah...",
                options: [
                    "A. Wortel",
                    "B. Kentang",
                    "C. Bawang merah",
                    "D. Singkong",
                    "E. Lobak"
                ],
                correctAnswer: 1,
                explanation: "Kentang berkembang biak dengan umbi batang. Jadi jawaban yang benar adalah B. Kentang"
            },
            {
                question: "Alat pernapasan pada serangga adalah...",
                options: [
                    "A. Paru-paru",
                    "B. Insang",
                    "C. Trakea",
                    "D. Kulit",
                    "E. Spirakel"
                ],
                correctAnswer: 2,
                explanation: "Serangga bernapas menggunakan sistem trakea. Jadi jawaban yang benar adalah C. Trakea"
            },
            {
                question: "Planet yang memiliki cincin yang jelas terlihat adalah...",
                options: [
                    "A. Jupiter",
                    "B. Mars",
                    "C. Venus",
                    "D. Saturnus",
                    "E. Uranus"
                ],
                correctAnswer: 3,
                explanation: "Saturnus terkenal dengan cincinnya yang jelas terlihat. Jadi jawaban yang benar adalah D. Saturnus"
            },
            {
                question: "Proses pembuatan makanan pada tumbuhan hijau dengan bantuan sinar matahari disebut...",
                options: [
                    "A. Respirasi",
                    "B. Fotosintesis",
                    "C. Transpirasi",
                    "D. Evaporasi",
                    "E. Fermentasi"
                ],
                correctAnswer: 1,
                explanation: "Fotosintesis adalah proses pembuatan makanan pada tumbuhan hijau dengan bantuan sinar matahari. Jadi jawaban yang benar adalah B. Fotosintesis"
            },
            {
                question: "Hewan yang termasuk kelompok karnivora adalah...",
                options: [
                    "A. Sapi",
                    "B. Kelinci",
                    "C. Harimau",
                    "D. Kambing",
                    "E. Rusa"
                ],
                correctAnswer: 2,
                explanation: "Harimau adalah karnivora karena memakan daging. Jadi jawaban yang benar adalah C. Harimau"
            },
            {
                question: "Bagian lidah yang peka terhadap rasa manis terletak di...",
                options: [
                    "A. Ujung lidah",
                    "B. Pangkal lidah",
                    "C. Samping lidah",
                    "D. Tengah lidah",
                    "E. Seluruh permukaan lidah"
                ],
                correctAnswer: 0,
                explanation: "Ujung lidah peka terhadap rasa manis. Jadi jawaban yang benar adalah A. Ujung lidah"
            },
            {
                question: "Tumbuhan yang berkembang biak dengan geragih adalah...",
                options: [
                    "A. Mangga",
                    "B. Pisang",
                    "C. Stroberi",
                    "D. Jambu",
                    "E. Rambutan"
                ],
                correctAnswer: 2,
                explanation: "Stroberi berkembang biak dengan geragih (stolon). Jadi jawaban yang benar adalah C. Stroberi"
            },
            {
                question: "Alat pernapasan pada cacing tanah adalah...",
                options: [
                    "A. Paru-paru",
                    "B. Insang",
                    "C. Trakea",
                    "D. Kulit",
                    "E. Spirakel"
                ],
                correctAnswer: 3,
                explanation: "Cacing tanah bernapas melalui permukaan kulitnya yang lembab. Jadi jawaban yang benar adalah D. Kulit"
            },
            {
                question: "Satelit alami bumi adalah...",
                options: [
                    "A. Matahari",
                    "B. Bulan",
                    "C. Mars",
                    "D. Venus",
                    "E. Jupiter"
                ],
                correctAnswer: 1,
                explanation: "Bulan adalah satelit alami bumi. Jadi jawaban yang benar adalah B. Bulan"
            },
            {
                question: "Proses pernapasan yang melepaskan karbon dioksida disebut...",
                options: [
                    "A. Inspirasi",
                    "B. Ekspirasi",
                    "C. Fotosintesis",
                    "D. Transpirasi",
                    "E. Evaporasi"
                ],
                correctAnswer: 1,
                explanation: "Ekspirasi adalah proses mengeluarkan udara pernapasan yang mengandung CO2. Jadi jawaban yang benar adalah B. Ekspirasi"
            },
            {
                question: "Hewan yang termasuk kelompok insektivora adalah...",
                options: [
                    "A. Sapi",
                    "B. Katak",
                    "C. Harimau",
                    "D. Kambing",
                    "E. Rusa"
                ],
                correctAnswer: 1,
                explanation: "Katak termasuk insektivora karena memakan serangga. Jadi jawaban yang benar adalah B. Katak"
            },
            {
                question: "Bagian kulit yang peka terhadap rangsangan sentuhan adalah...",
                options: [
                    "A. Epidermis",
                    "B. Dermis",
                    "C. Hipodermis",
                    "D. Kelenjar keringat",
                    "E. Kelenjar minyak"
                ],
                correctAnswer: 1,
                explanation: "Dermis mengandung ujung-ujung saraf yang peka terhadap sentuhan. Jadi jawaban yang benar adalah B. Dermis"
            },
            {
                question: "Tumbuhan yang berkembang biak dengan tunas adventif adalah...",
                options: [
                    "A. Pisang",
                    "B. Cocor bebek",
                    "C. Mangga",
                    "D. Jambu",
                    "E. Rambutan"
                ],
                correctAnswer: 1,
                explanation: "Cocor bebek berkembang biak dengan tunas adventif di daun. Jadi jawaban yang benar adalah B. Cocor bebek"
            },
            {
                question: "Alat pernapasan pada katak dewasa adalah...",
                options: [
                    "A. Insang",
                    "B. Paru-paru dan kulit",
                    "C. Trakea",
                    "D. Spirakel",
                    "E. Paru-paru buku"
                ],
                correctAnswer: 1,
                explanation: "Katak dewasa bernapas dengan paru-paru dan kulit. Jadi jawaban yang benar adalah B. Paru-paru dan kulit"
            },
            {
                question: "Bintang terdekat dengan bumi adalah...",
                options: [
                    "A. Sirius",
                    "B. Alpha Centauri",
                    "C. Matahari",
                    "D. Polaris",
                    "E. Vega"
                ],
                correctAnswer: 2,
                explanation: "Matahari adalah bintang terdekat dengan bumi. Jadi jawaban yang benar adalah C. Matahari"
            },
            {
                question: "Proses pertukaran oksigen dan karbon dioksida terjadi di...",
                options: [
                    "A. Hidung",
                    "B. Tenggorokan",
                    "C. Bronkus",
                    "D. Alveolus",
                    "E. Diafragma"
                ],
                correctAnswer: 3,
                explanation: "Pertukaran gas terjadi di alveolus paru-paru. Jadi jawaban yang benar adalah D. Alveolus"
            },
            {
                question: "Hewan yang termasuk kelompok piscivora adalah...",
                options: [
                    "A. Singa",
                    "B. Elang",
                    "C. Penguin",
                    "D. Lumba-lumba",
                    "E. Kucing"
                ],
                correctAnswer: 2,
                explanation: "Penguin termasuk piscivora karena memakan ikan. Jadi jawaban yang benar adalah C. Penguin"
            },
            {
                question: "Bagian mata yang berfungsi memfokuskan cahaya ke retina adalah...",
                options: [
                    "A. Kornea",
                    "B. Iris",
                    "C. Pupil",
                    "D. Lensa",
                    "E. Retina"
                ],
                correctAnswer: 3,
                explanation: "Lensa mata berfungsi memfokuskan cahaya ke retina. Jadi jawaban yang benar adalah D. Lensa"
            },
            {
                question: "Tumbuhan yang berkembang biak dengan rhizoma adalah...",
                options: [
                    "A. Jahe",
                    "B. Pisang",
                    "C. Mangga",
                    "D. Rambutan",
                    "E. Jambu"
                ],
                correctAnswer: 0,
                explanation: "Jahe berkembang biak dengan rhizoma (akar tinggal). Jadi jawaban yang benar adalah A. Jahe"
            },
            {
                question: "Alat pernapasan pada burung selain paru-paru adalah...",
                options: [
                    "A. Insang",
                    "B. Trakea",
                    "C. Pundi-pundi udara",
                    "D. Kulit",
                    "E. Spirakel"
                ],
                correctAnswer: 2,
                explanation: "Burung memiliki pundi-pundi udara yang membantu pernapasan. Jadi jawaban yang benar adalah C. Pundi-pundi udara"
            },
            {
                question: "Gerhana matahari terjadi ketika...",
                options: [
                    "A. Bulan berada antara bumi dan matahari",
                    "B. Bumi berada antara bulan dan matahari",
                    "C. Matahari berada antara bumi dan bulan",
                    "D. Bulan dan matahari berada di sisi yang sama",
                    "E. Bumi menutupi bulan"
                ],
                correctAnswer: 0,
                explanation: "Gerhana matahari terjadi ketika bulan berada antara bumi dan matahari. Jadi jawaban yang benar adalah A. Bulan berada antara bumi dan matahari"
            },
            {
                question: "Proses pencernaan makanan secara mekanik terjadi di...",
                options: [
                    "A. Mulut",
                    "B. Kerongkongan",
                    "C. Lambung",
                    "D. Usus halus",
                    "E. Usus besar"
                ],
                correctAnswer: 0,
                explanation: "Pencernaan mekanik terutama terjadi di mulut oleh gigi. Jadi jawaban yang benar adalah A. Mulut"
            },
            {
                question: "Hewan yang termasuk kelompok scavenger adalah...",
                options: [
                    "A. Singa",
                    "B. Burung nasar",
                    "C. Harimau",
                    "D. Serigala",
                    "E. Cheetah"
                ],
                correctAnswer: 1,
                explanation: "Burung nasar termasuk scavenger karena memakan bangkai. Jadi jawaban yang benar adalah B. Burung nasar"
            },
            {
                question: "Bagian hidung yang berfungsi menyaring udara adalah...",
                options: [
                    "A. Rambut hidung",
                    "B. Selaput lendir",
                    "C. Saraf penciuman",
                    "D. Sinus",
                    "E. Semua jawaban benar"
                ],
                correctAnswer: 4,
                explanation: "Rambut hidung dan selaput lendir bekerja bersama menyaring udara. Jadi jawaban yang benar adalah E. Semua jawaban benar"
            },
            {
                question: "Tumbuhan yang berkembang biak dengan spora adalah...",
                options: [
                    "A. Paku",
                    "B. Mangga",
                    "C. Jambu",
                    "D. Rambutan",
                    "E. Pisang"
                ],
                correctAnswer: 0,
                explanation: "Tumbuhan paku berkembang biak dengan spora. Jadi jawaban yang benar adalah A. Paku"
            },
            {
                question: "Alat pernapasan pada laba-laba adalah...",
                options: [
                    "A. Paru-paru buku",
                    "B. Insang",
                    "C. Trakea",
                    "D. Kulit",
                    "E. Spirakel"
                ],
                correctAnswer: 0,
                explanation: "Laba-laba bernapas dengan paru-paru buku. Jadi jawaban yang benar adalah A. Paru-paru buku"
            },
            {
                question: "Fase bulan ketika seluruh permukaan bulan yang terkena sinar matahari terlihat dari bumi disebut...",
                options: [
                    "A. Bulan baru",
                    "B. Bulan sabit",
                    "C. Bulan separuh",
                    "D. Bulan purnama",
                    "E. Bulan mati"
                ],
                correctAnswer: 3,
                explanation: "Bulan purnama terjadi ketika seluruh permukaan bulan yang terkena sinar matahari terlihat dari bumi. Jadi jawaban yang benar adalah D. Bulan purnama"
            },
            {
                question: "Enzim yang berfungsi mengubah protein menjadi pepton adalah...",
                options: [
                    "A. Amilase",
                    "B. Lipase",
                    "C. Pepsin",
                    "D. Tripsin",
                    "E. Sukrase"
                ],
                correctAnswer: 2,
                explanation: "Pepsin mengubah protein menjadi pepton di lambung. Jadi jawaban yang benar adalah C. Pepsin"
            },
            {
                question: "Hewan yang termasuk kelompok filter feeder adalah...",
                options: [
                    "A. Hiu",
                    "B. Paus baleen",
                    "C. Lumba-lumba",
                    "D. Singa laut",
                    "E. Penguin"
                ],
                correctAnswer: 1,
                explanation: "Paus baleen adalah filter feeder yang menyaring plankton dari air. Jadi jawaban yang benar adalah B. Paus baleen"
            },
            {
                question: "Bagian telinga yang berfungsi mengubah getaran suara menjadi impuls saraf adalah...",
                options: [
                    "A. Daun telinga",
                    "B. Gendang telinga",
                    "C. Tulang pendengaran",
                    "D. Koklea",
                    "E. Saluran eustachius"
                ],
                correctAnswer: 3,
                explanation: "Koklea berisi sel-sel rambut yang mengubah getaran menjadi impuls saraf. Jadi jawaban yang benar adalah D. Koklea"
            },
            {
                question: "Tumbuhan yang berkembang biak dengan umbi lapis adalah...",
                options: [
                    "A. Kentang",
                    "B. Bawang merah",
                    "C. Singkong",
                    "D. Wortel",
                    "E. Lobak"
                ],
                correctAnswer: 1,
                explanation: "Bawang merah berkembang biak dengan umbi lapis. Jadi jawaban yang benar adalah B. Bawang merah"
            }
                ]
            },
            'SMP': {
                'IPA': [
                    {
                question: "Perhatikan pernyataan berikut tentang ciri-ciri makhluk hidup: 1) Bernapas, 2) Tumbuh, 3) Bergerak, 4) Berkembang biak. Manakah yang merupakan ciri utama yang membedakan makhluk hidup dengan benda mati?",
                options: [
                    "A. 1 dan 2",
                    "B. 2 dan 3",
                    "C. 3 dan 4",
                    "D. 1 dan 4",
                    "E. Semua benar"
                ],
                correctAnswer: 4,
                explanation: "Semua pernyataan (1-4) merupakan ciri-ciri makhluk hidup yang membedakannya dari benda mati. Jadi jawaban yang benar adalah E. Semua benar"
            },
            {
                question: "Dalam ekosistem sawah, tikus berperan sebagai...",
                options: [
                    "A. Produsen",
                    "B. Konsumen primer",
                    "C. Konsumen sekunder",
                    "D. Dekomposer",
                    "E. Pengurai"
                ],
                correctAnswer: 1,
                explanation: "Tikus memakan tanaman padi (produsen) sehingga berperan sebagai konsumen primer. Jadi jawaban yang benar adalah B. Konsumen primer"
            },
            {
                question: "Perubahan energi yang terjadi pada pembangkit listrik tenaga air adalah...",
                options: [
                    "A. Energi kinetik → energi potensial → energi listrik",
                    "B. Energi potensial → energi kinetik → energi listrik",
                    "C. Energi listrik → energi kinetik → energi potensial",
                    "D. Energi kimia → energi panas → energi listrik",
                    "E. Energi panas → energi mekanik → energi listrik"
                ],
                correctAnswer: 1,
                explanation: "Air di bendungan memiliki energi potensial, saat jatuh berubah menjadi energi kinetik, lalu menggerakkan turbin menjadi energi listrik. Jadi jawaban yang benar adalah B. Energi potensial → energi kinetik → energi listrik"
            },
            {
                question: "Bunyi tidak dapat merambat melalui...",
                options: [
                    "A. Padat",
                    "B. Cair",
                    "C. Gas",
                    "D. Ruang hampa",
                    "E. Plasma"
                ],
                correctAnswer: 3,
                explanation: "Bunyi memerlukan medium untuk merambat dan tidak bisa merambat di ruang hampa. Jadi jawaban yang benar adalah D. Ruang hampa"
            },
            {
                question: "Perhatikan gambar struktur bumi berikut: 1) Inti dalam, 2) Inti luar, 3) Mantel, 4) Kerak bumi. Urutan lapisan bumi dari dalam ke luar adalah...",
                options: [
                    "A. 1-2-3-4",
                    "B. 2-1-3-4",
                    "C. 3-4-1-2",
                    "D. 4-3-2-1",
                    "E. 1-3-2-4"
                ],
                correctAnswer: 0,
                explanation: "Urutan lapisan bumi dari dalam: Inti dalam (1), Inti luar (2), Mantel (3), Kerak bumi (4). Jadi jawaban yang benar adalah A. 1-2-3-4"
            },
            {
                question: "Zat yang dapat mempercepat reaksi kimia tetapi tidak mengalami perubahan permanen disebut...",
                options: [
                    "A. Inhibitor",
                    "B. Katalis",
                    "C. Reaktan",
                    "D. Produk",
                    "E. Pelarut"
                ],
                correctAnswer: 1,
                explanation: "Katalis mempercepat reaksi tanpa ikut bereaksi secara permanen. Jadi jawaban yang benar adalah B. Katalis"
            },
            {
                question: "Pada sistem pencernaan manusia, enzim pepsin diproduksi di...",
                options: [
                    "A. Mulut",
                    "B. Lambung",
                    "C. Usus halus",
                    "D. Pankreas",
                    "E. Hati"
                ],
                correctAnswer: 1,
                explanation: "Pepsin diproduksi di lambung untuk mencerna protein. Jadi jawaban yang benar adalah B. Lambung"
            },
            {
                question: "Peristiwa perubahan wujud dari gas menjadi cair disebut...",
                options: [
                    "A. Membeku",
                    "B. Mencair",
                    "C. Menguap",
                    "D. Mengembun",
                    "E. Menyublim"
                ],
                correctAnswer: 3,
                explanation: "Perubahan dari gas ke cair disebut pengembunan. Jadi jawaban yang benar adalah D. Mengembun"
            },
            {
                question: "Planet dalam tata surya yang memiliki suhu permukaan terpanas adalah...",
                options: [
                    "A. Merkurius",
                    "B. Venus",
                    "C. Bumi",
                    "D. Mars",
                    "E. Jupiter"
                ],
                correctAnswer: 1,
                explanation: "Venus memiliki efek rumah kaca ekstrim membuat suhunya lebih panas dari Merkurius. Jadi jawaban yang benar adalah B. Venus"
            },
            {
                question: "Penyakit osteoporosis disebabkan oleh kekurangan...",
                options: [
                    "A. Vitamin A",
                    "B. Vitamin C",
                    "C. Kalsium",
                    "D. Zat besi",
                    "E. Protein"
                ],
                correctAnswer: 2,
                explanation: "Osteoporosis adalah pengeroposan tulang akibat kekurangan kalsium. Jadi jawaban yang benar adalah C. Kalsium"
            },
            {
                question: "Dalam rantai makanan: padi → tikus → ular → elang, ular berperan sebagai...",
                options: [
                    "A. Produsen",
                    "B. Konsumen I",
                    "C. Konsumen II",
                    "D. Konsumen III",
                    "E. Dekomposer"
                ],
                correctAnswer: 2,
                explanation: "Ular memakan tikus (konsumen I) sehingga menjadi konsumen II. Jadi jawaban yang benar adalah C. Konsumen II"
            },
            {
                question: "Alat optik yang menggunakan dua lensa cembung adalah...",
                options: [
                    "A. Lup",
                    "B. Mikroskop",
                    "C. Teropong bintang",
                    "D. Kamera",
                    "E. Periskop"
                ],
                correctAnswer: 1,
                explanation: "Mikroskop menggunakan lensa objektif dan okuler yang keduanya cembung. Jadi jawaban yang benar adalah B. Mikroskop"
            },
            {
                question: "Proses pembentukan urine yang terjadi di glomerulus adalah...",
                options: [
                    "A. Filtrasi",
                    "B. Reabsorpsi",
                    "C. Augmentasi",
                    "D. Sekresi",
                    "E. Ekskresi"
                ],
                correctAnswer: 0,
                explanation: "Di glomerulus terjadi filtrasi (penyaringan) darah. Jadi jawaban yang benar adalah A. Filtrasi"
            },
            {
                question: "Bahan yang termasuk konduktor listrik terbaik adalah...",
                options: [
                    "A. Kayu",
                    "B. Karet",
                    "C. Tembaga",
                    "D. Plastik",
                    "E. Kaca"
                ],
                correctAnswer: 2,
                explanation: "Tembaga adalah logam yang sangat baik menghantarkan listrik. Jadi jawaban yang benar adalah C. Tembaga"
            },
            {
                question: "Penyakit yang disebabkan oleh virus adalah...",
                options: [
                    "A. TBC",
                    "B. Malaria",
                    "C. Demam berdarah",
                    "D. Kolera",
                    "E. Tifus"
                ],
                correctAnswer: 2,
                explanation: "Demam berdarah disebabkan oleh virus dengue. Jadi jawaban yang benar adalah C. Demam berdarah"
            },
            {
                question: "Dalam reaksi fotosintesis, karbon dioksida dan air dengan bantuan cahaya matahari menghasilkan...",
                options: [
                    "A. Glukosa dan oksigen",
                    "B. Glukosa dan karbon dioksida",
                    "C. Oksigen dan nitrogen",
                    "D. Air dan oksigen",
                    "E. Karbon dioksida dan nitrogen"
                ],
                correctAnswer: 0,
                explanation: "6CO₂ + 6H₂O + cahaya → C₆H₁₂O₆ + 6O₂. Jadi jawaban yang benar adalah A. Glukosa dan oksigen"
            },
            {
                question: "Gerak tumbuhan yang dipengaruhi oleh arah datangnya cahaya disebut...",
                options: [
                    "A. Geotropisme",
                    "B. Fototropisme",
                    "C. Hidrotropisme",
                    "D. Tigmotropisme",
                    "E. Niktinasti"
                ],
                correctAnswer: 1,
                explanation: "Fototropisme adalah gerak tumbuhan menuju/menjauhi cahaya. Jadi jawaban yang benar adalah B. Fototropisme"
            },
            {
                question: "Zat yang dihasilkan oleh hati dan berfungsi untuk mengemulsikan lemak adalah...",
                options: [
                    "A. Enzim amilase",
                    "B. Enzim pepsin",
                    "C. Asam klorida",
                    "D. Empedu",
                    "E. Insulin"
                ],
                correctAnswer: 3,
                explanation: "Empedu mengemulsikan lemak untuk mempermudah pencernaan. Jadi jawaban yang benar adalah D. Empedu"
            },
            {
                question: "Perubahan energi pada baterai yang digunakan untuk menyalakan senter adalah...",
                options: [
                    "A. Kimia → listrik → cahaya",
                    "B. Listrik → kimia → cahaya",
                    "C. Cahaya → listrik → kimia",
                    "D. Kimia → cahaya → listrik",
                    "E. Listrik → cahaya → kimia"
                ],
                correctAnswer: 0,
                explanation: "Baterai menyimpan energi kimia yang diubah menjadi listrik lalu menjadi cahaya. Jadi jawaban yang benar adalah A. Kimia → listrik → cahaya"
            },
            {
                question: "Bagian sel yang berfungsi sebagai tempat berlangsungnya fotosintesis adalah...",
                options: [
                    "A. Mitokondria",
                    "B. Ribosom",
                    "C. Kloroplas",
                    "D. Nukleus",
                    "E. Vakuola"
                ],
                correctAnswer: 2,
                explanation: "Kloroplas mengandung klorofil untuk fotosintesis. Jadi jawaban yang benar adalah C. Kloroplas"
            },
            {
                question: "Hukum Newton I menjelaskan tentang...",
                options: [
                    "A. F = m × a",
                    "B. Aksi-reaksi",
                    "C. Kelembaman",
                    "D. Gravitasi",
                    "E. Momentum"
                ],
                correctAnswer: 2,
                explanation: "Hukum Newton I (Kelembaman): benda cenderung mempertahankan keadaan diam/geraknya. Jadi jawaban yang benar adalah C. Kelembaman"
            },
            {
                question: "Penyakit akibat kekurangan vitamin C adalah...",
                options: [
                    "A. Rakitis",
                    "B. Skorbut",
                    "C. Beri-beri",
                    "D. Anemia",
                    "E. Rabun senja"
                ],
                correctAnswer: 1,
                explanation: "Skorbut adalah penyakit akibat kekurangan vitamin C. Jadi jawaban yang benar adalah B. Skorbut"
            },
            {
                question: "Alat yang digunakan untuk mengukur tekanan udara adalah...",
                options: [
                    "A. Barometer",
                    "B. Termometer",
                    "C. Hygrometer",
                    "D. Anemometer",
                    "E. Altimeter"
                ],
                correctAnswer: 0,
                explanation: "Barometer mengukur tekanan udara. Jadi jawaban yang benar adalah A. Barometer"
            },
            {
                question: "Peristiwa berikut yang termasuk perubahan kimia adalah...",
                options: [
                    "A. Es mencair",
                    "B. Besi meleleh",
                    "C. Kayu terbakar",
                    "D. Air menguap",
                    "E. Gula larut"
                ],
                correctAnswer: 2,
                explanation: "Kayu terbakar menghasilkan zat baru (CO₂ dan abu) termasuk perubahan kimia. Jadi jawaban yang benar adalah C. Kayu terbakar"
            },
            {
                question: "Organ pernapasan pada serangga disebut...",
                options: [
                    "A. Insang",
                    "B. Paru-paru",
                    "C. Trakea",
                    "D. Stomata",
                    "E. Kulit"
                ],
                correctAnswer: 2,
                explanation: "Serangga bernapas dengan sistem trakea. Jadi jawaban yang benar adalah C. Trakea"
            },
            {
                question: "Planet terbesar dalam tata surya kita adalah...",
                options: [
                    "A. Bumi",
                    "B. Saturnus",
                    "C. Jupiter",
                    "D. Uranus",
                    "E. Neptunus"
                ],
                correctAnswer: 2,
                explanation: "Jupiter adalah planet terbesar di tata surya. Jadi jawaban yang benar adalah C. Jupiter"
            },
            {
                question: "Bagian bunga yang berfungsi sebagai alat kelamin betina adalah...",
                options: [
                    "A. Benang sari",
                    "B. Putik",
                    "C. Kelopak",
                    "D. Mahkota",
                    "E. Tangkai"
                ],
                correctAnswer: 1,
                explanation: "Putik adalah alat kelamin betina pada bunga. Jadi jawaban yang benar adalah B. Putik"
            },
            {
                question: "Zat yang dapat menetralkan asam adalah...",
                options: [
                    "A. Asam",
                    "B. Basa",
                    "C. Garam",
                    "D. Oksida",
                    "E. Logam"
                ],
                correctAnswer: 1,
                explanation: "Basa dapat menetralkan asam melalui reaksi netralisasi. Jadi jawaban yang benar adalah B. Basa"
            },
            {
                question: "Penyakit menular seksual yang disebabkan oleh bakteri adalah...",
                options: [
                    "A. HIV/AIDS",
                    "B. Hepatitis B",
                    "C. Sifilis",
                    "D. Herpes",
                    "E. Kutil kelamin"
                ],
                correctAnswer: 2,
                explanation: "Sifilis disebabkan oleh bakteri Treponema pallidum. Jadi jawaban yang benar adalah C. Sifilis"
            },
            {
                question: "Perubahan energi pada panel surya adalah...",
                options: [
                    "A. Cahaya → listrik",
                    "B. Listrik → cahaya",
                    "C. Kimia → listrik",
                    "D. Panas → listrik",
                    "E. Mekanik → listrik"
                ],
                correctAnswer: 0,
                explanation: "Panel surya mengubah energi cahaya matahari menjadi listrik. Jadi jawaban yang benar adalah A. Cahaya → listrik"
            },
            {
                question: "Bagian telinga yang berfungsi mengubah getaran suara menjadi impuls listrik adalah...",
                options: [
                    "A. Gendang telinga",
                    "B. Tulang pendengaran",
                    "C. Koklea",
                    "D. Saluran eustachius",
                    "E. Daun telinga"
                ],
                correctAnswer: 2,
                explanation: "Koklea mengandung sel rambut yang mengubah getaran menjadi sinyal saraf. Jadi jawaban yang benar adalah C. Koklea"
            },
            {
                question: "Hukum kekekalan energi menyatakan bahwa energi...",
                options: [
                    "A. Dapat diciptakan",
                    "B. Dapat dimusnahkan",
                    "C. Tidak dapat diubah bentuknya",
                    "D. Tidak dapat diciptakan atau dimusnahkan",
                    "E. Hanya ada dalam bentuk panas"
                ],
                correctAnswer: 3,
                explanation: "Energi tidak dapat diciptakan atau dimusnahkan, hanya berubah bentuk. Jadi jawaban yang benar adalah D. Tidak dapat diciptakan atau dimusnahkan"
            },
            {
                question: "Organisme yang berperan sebagai dekomposer dalam ekosistem adalah...",
                options: [
                    "A. Tumbuhan",
                    "B. Herbivora",
                    "C. Karnivora",
                    "D. Jamur dan bakteri",
                    "E. Omnivora"
                ],
                correctAnswer: 3,
                explanation: "Dekomposer (pengurai) seperti jamur dan bakteri menguraikan materi organik. Jadi jawaban yang benar adalah D. Jamur dan bakteri"
            },
            {
                question: "Penyakit yang disebabkan oleh gangguan produksi insulin adalah...",
                options: [
                    "A. Diabetes melitus",
                    "B. Diabetes insipidus",
                    "C. Hipertensi",
                    "D. Anemia",
                    "E. Leukimia"
                ],
                correctAnswer: 0,
                explanation: "Diabetes melitus disebabkan oleh gangguan produksi/kerja insulin. Jadi jawaban yang benar adalah A. Diabetes melitus"
            },
            {
                question: "Alat yang digunakan untuk mengukur kuat arus listrik adalah...",
                options: [
                    "A. Voltmeter",
                    "B. Amperemeter",
                    "C. Ohmmeter",
                    "D. Wattmeter",
                    "E. Galvanometer"
                ],
                correctAnswer: 1,
                explanation: "Amperemeter mengukur kuat arus (ampere). Jadi jawaban yang benar adalah B. Amperemeter"
            },
            {
                question: "Proses pernapasan yang mengeluarkan karbon dioksida dari tubuh disebut...",
                options: [
                    "A. Inspirasi",
                    "B. Ekspirasi",
                    "C. Difusi",
                    "D. Respirasi",
                    "E. Fermentasi"
                ],
                correctAnswer: 1,
                explanation: "Ekspirasi adalah proses mengeluarkan udara (CO₂) dari paru-paru. Jadi jawaban yang benar adalah B. Ekspirasi"
            },
            {
                question: "Benda bermuatan listrik positif terjadi karena...",
                options: [
                    "A. Kelebihan elektron",
                    "B. Kekurangan elektron",
                    "C. Kelebihan proton",
                    "D. Kekurangan neutron",
                    "E. Kelebihan foton"
                ],
                correctAnswer: 1,
                explanation: "Benda bermuatan positif karena kekurangan elektron. Jadi jawaban yang benar adalah B. Kekurangan elektron"
            },
            {
                question: "Bagian mata yang berfungsi mengatur jumlah cahaya yang masuk adalah...",
                options: [
                    "A. Kornea",
                    "B. Lensa",
                    "C. Iris",
                    "D. Retina",
                    "E. Pupil"
                ],
                correctAnswer: 2,
                explanation: "Iris mengatur besar kecilnya pupil untuk mengontrol cahaya. Jadi jawaban yang benar adalah C. Iris"
            },
            {
                question: "Peristiwa naiknya air dari akar ke daun pada tumbuhan disebabkan oleh...",
                options: [
                    "A. Tekanan akar",
                    "B. Kapilaritas",
                    "C. Daya isap daun",
                    "D. Osmosis",
                    "E. Difusi"
                ],
                correctAnswer: 1,
                explanation: "Kapilaritas (sifat adhesi dan kohesi) membantu air naik melalui xilem. Jadi jawaban yang benar adalah B. Kapilaritas"
            },
            {
                question: "Zat yang termasuk unsur adalah...",
                options: [
                    "A. Air",
                    "B. Garam",
                    "C. Gula",
                    "D. Oksigen",
                    "E. Karbon dioksida"
                ],
                correctAnswer: 3,
                explanation: "Oksigen (O₂) adalah unsur, lainnya adalah senyawa. Jadi jawaban yang benar adalah D. Oksigen"
            },
            {
                question: "Penyakit akibat kekurangan yodium adalah...",
                options: [
                    "A. Gondok",
                    "B. Anemia",
                    "C. Rakitis",
                    "D. Skorbut",
                    "E. Beri-beri"
                ],
                correctAnswer: 0,
                explanation: "Kekurangan yodium menyebabkan pembengkakan kelenjar tiroid (gondok). Jadi jawaban yang benar adalah A. Gondok"
            },
            {
                question: "Alat yang bekerja berdasarkan hukum Pascal adalah...",
                options: [
                    "A. Kapal selam",
                    "B. Dongkrak hidrolik",
                    "C. Termos",
                    "D. Balon udara",
                    "E. Pompa air"
                ],
                correctAnswer: 1,
                explanation: "Dongkrak hidrolik menggunakan hukum Pascal tentang tekanan fluida. Jadi jawaban yang benar adalah B. Dongkrak hidrolik"
            },
            {
                question: "Proses pembentukan sperma disebut...",
                options: [
                    "A. Oogenesis",
                    "B. Spermatogenesis",
                    "C. Fertilisasi",
                    "D. Ovulasi",
                    "E. Menstruasi"
                ],
                correctAnswer: 1,
                explanation: "Spermatogenesis adalah proses pembentukan sperma di testis. Jadi jawaban yang benar adalah B. Spermatogenesis"
            },
            {
                question: "Benda akan terapung di air jika...",
                options: [
                    "A. Massa jenis benda > massa jenis air",
                    "B. Massa jenis benda < massa jenis air",
                    "C. Massa benda > massa air",
                    "D. Massa benda < massa air",
                    "E. Volume benda > volume air"
                ],
                correctAnswer: 1,
                explanation: "Benda terapung jika massa jenisnya lebih kecil dari air. Jadi jawaban yang benar adalah B. Massa jenis benda < massa jenis air"
            },
            {
                question: "Enzim yang berfungsi mengubah amilum menjadi maltosa adalah...",
                options: [
                    "A. Pepsin",
                    "B. Lipase",
                    "C. Amilase",
                    "D. Tripsin",
                    "E. Sukrase"
                ],
                correctAnswer: 2,
                explanation: "Amilase mengubah amilum (pati) menjadi maltosa. Jadi jawaban yang benar adalah C. Amilase"
            },
            {
                question: "Planet yang memiliki cincin paling jelas terlihat adalah...",
                options: [
                    "A. Jupiter",
                    "B. Saturnus",
                    "C. Uranus",
                    "D. Neptunus",
                    "E. Mars"
                ],
                correctAnswer: 1,
                explanation: "Saturnus memiliki sistem cincin yang paling jelas terlihat. Jadi jawaban yang benar adalah B. Saturnus"
            },
            {
                question: "Pembuluh darah yang membawa darah kaya oksigen dari paru-paru ke jantung adalah...",
                options: [
                    "A. Vena pulmonalis",
                    "B. Arteri pulmonalis",
                    "C. Vena cava",
                    "D. Aorta",
                    "E. Arteri koroner"
                ],
                correctAnswer: 0,
                explanation: "Vena pulmonalis membawa darah beroksigen dari paru ke jantung. Jadi jawaban yang benar adalah A. Vena pulmonalis"
            },
            {
                question: "Perubahan wujud dari padat langsung menjadi gas disebut...",
                options: [
                    "A. Membeku",
                    "B. Mencair",
                    "C. Menguap",
                    "D. Mengembun",
                    "E. Menyublim"
                ],
                correctAnswer: 4,
                explanation: "Menyublim adalah perubahan padat langsung ke gas. Jadi jawaban yang benar adalah E. Menyublim"
            },
            {
                question: "Bagian sel yang berfungsi sebagai pusat kontrol aktivitas sel adalah...",
                options: [
                    "A. Mitokondria",
                    "B. Ribosom",
                    "C. Nukleus",
                    "D. Sitoplasma",
                    "E. Membran sel"
                ],
                correctAnswer: 2,
                explanation: "Nukleus mengandung DNA yang mengontrol aktivitas sel. Jadi jawaban yang benar adalah C. Nukleus"
            },
            {
                question: "Hukum Newton II dirumuskan sebagai...",
                options: [
                    "A. F = m × a",
                    "B. F₁ = F₂",
                    "C. p = m × v",
                    "D. W = F × d",
                    "E. P = W/t"
                ],
                correctAnswer: 0,
                explanation: "Hukum Newton II: F = m × a (gaya = massa × percepatan). Jadi jawaban yang benar adalah A. F = m × a"
            },
            {
                question: "Penyakit akibat kekurangan vitamin D adalah...",
                options: [
                    "A. Skorbut",
                    "B. Beri-beri",
                    "C. Rakitis",
                    "D. Anemia",
                    "E. Rabun senja"
                ],
                correctAnswer: 2,
                explanation: "Rakitis adalah pelunakan tulang akibat kekurangan vitamin D. Jadi jawaban yang benar adalah C. Rakitis"
            },
            {
                question: "Alat yang digunakan untuk mengukur kelembaban udara adalah...",
                options: [
                    "A. Barometer",
                    "B. Termometer",
                    "C. Hygrometer",
                    "D. Anemometer",
                    "E. Altimeter"
                ],
                correctAnswer: 2,
                explanation: "Hygrometer mengukur kelembaban udara. Jadi jawaban yang benar adalah C. Hygrometer"
            },
            {
                question: "Peristiwa berikut yang termasuk perubahan fisika adalah...",
                options: [
                    "A. Besi berkarat",
                    "B. Kayu terbakar",
                    "C. Nasi menjadi basi",
                    "D. Es mencair",
                    "E. Fotosintesis"
                ],
                correctAnswer: 3,
                explanation: "Es mencair hanya perubahan wujud tanpa membentuk zat baru. Jadi jawaban yang benar adalah D. Es mencair"
            },
            {
                question: "Organ pernapasan pada ikan adalah...",
                options: [
                    "A. Paru-paru",
                    "B. Insang",
                    "C. Trakea",
                    "D. Kulit",
                    "E. Stomata"
                ],
                correctAnswer: 1,
                explanation: "Ikan bernapas dengan insang. Jadi jawaban yang benar adalah B. Insang"
            }
                ]
            },
            'SMA/SMK': {
                'IPA': [
                    {
                question: "Sebuah benda bermassa 2 kg bergerak dengan kecepatan 5 m/s. Jika benda tersebut menumbuk benda lain bermassa 3 kg yang awalnya diam dan keduanya menyatu setelah tumbukan, kecepatan gabungan kedua benda setelah tumbukan adalah...",
                options: [
                    "A. 1 m/s",
                    "B. 2 m/s",
                    "C. 3 m/s",
                    "D. 4 m/s",
                    "E. 5 m/s"
                ],
                correctAnswer: 1,
                explanation: "Gunakan hukum kekekalan momentum: m1v1 + m2v2 = (m1+m2)v'. (2×5)+(3×0) = (2+3)v' → 10 = 5v' → v' = 2 m/s. Jawaban benar B. 2 m/s"
            },
            {
                question: "Dalam suatu reaksi inti, defek massa yang terjadi adalah 0,02 sma. Jika 1 sma setara dengan 931 MeV, energi yang dibebaskan dalam reaksi tersebut adalah...",
                options: [
                    "A. 9,31 MeV",
                    "B. 18,62 MeV",
                    "C. 27,93 MeV",
                    "D. 37,24 MeV",
                    "E. 46,55 MeV"
                ],
                correctAnswer: 1,
                explanation: "E = Δm × 931 MeV = 0,02 × 931 = 18,62 MeV. Jawaban benar B. 18,62 MeV"
            },
            {
                question: "Sebuah kawat lurus panjang dialiri arus listrik 4 A. Jika terdapat elektron bergerak sejajar kawat dengan kecepatan 2×10^5 m/s pada jarak 5 cm dari kawat, besar gaya Lorentz yang bekerja pada elektron adalah... (μ₀ = 4π×10^-7 Tm/A, q = -1,6×10^-19 C)",
                options: [
                    "A. 1,28×10^-19 N",
                    "B. 2,56×10^-19 N",
                    "C. 3,84×10^-19 N",
                    "D. 5,12×10^-19 N",
                    "E. 6,40×10^-19 N"
                ],
                correctAnswer: 1,
                explanation: "B = μ₀I/(2πr) = (4π×10^-7×4)/(2π×0,05) = 1,6×10^-5 T. F = qvB = 1,6×10^-19 × 2×10^5 × 1,6×10^-5 = 5,12×10^-19 N. Arah gaya ditentukan dengan kaidah tangan kanan. Jawaban benar D. 5,12×10^-19 N"
            },
            {
                question: "Suatu senyawa organik memiliki rumus molekul C4H8O2. Jika senyawa tersebut dapat bereaksi dengan NaOH menghasilkan alkohol dan garam karboksilat, struktur yang mungkin untuk senyawa tersebut adalah...",
                options: [
                    "A. Etil asetat",
                    "B. Propil format",
                    "C. Asam butanoat",
                    "D. Metil propanoat",
                    "E. Isopropil format"
                ],
                correctAnswer: 0,
                explanation: "Reaksi dengan NaOH menghasilkan alkohol dan garam menunjukkan senyawa ester. Etil asetat (CH3COOCH2CH3) memenuhi rumus C4H8O2 dan bereaksi dengan NaOH menghasilkan etanol dan natrium asetat. Jawaban benar A. Etil asetat"
            },
            {
                question: "Dalam suatu ekosistem, aliran energi dimulai dari produsen dan berakhir pada konsumen puncak. Jika efisiensi transfer energi antar trofik adalah 10%, dan produsen menangkap 10.000 kkal energi matahari, energi yang sampai pada konsumen tersier adalah...",
                options: [
                    "A. 1 kkal",
                    "B. 10 kkal",
                    "C. 100 kkal",
                    "D. 1.000 kkal",
                    "E. 10.000 kkal"
                ],
                correctAnswer: 1,
                explanation: "Produsen (10.000) → konsumen I (1.000) → konsumen II (100) → konsumen III (10). Efisiensi 10% per trofik. Jawaban benar B. 10 kkal"
            },
            {
                question: "Sebuah lensa cembung memiliki jarak fokus 20 cm. Jika sebuah benda diletakkan 30 cm di depan lensa, perbesaran bayangan yang dihasilkan adalah...",
                options: [
                    "A. 0,5 kali",
                    "B. 1 kali",
                    "C. 1,5 kali",
                    "D. 2 kali",
                    "E. 3 kali"
                ],
                correctAnswer: 3,
                explanation: "1/f = 1/s + 1/s' → 1/20 = 1/30 + 1/s' → s' = 60 cm. M = |s'/s| = 60/30 = 2 kali. Jawaban benar D. 2 kali"
            },
            {
                question: "Suatu reaksi kimia memiliki persamaan laju v = k[A]^2[B]. Jika konsentrasi A diperbesar 2 kali dan konsentrasi B diperbesar 3 kali, laju reaksi akan berubah menjadi... kali semula",
                options: [
                    "A. 6",
                    "B. 12",
                    "C. 18",
                    "D. 24",
                    "E. 36"
                ],
                correctAnswer: 1,
                explanation: "v baru = k(2[A])^2(3[B]) = k×4[A]^2×3[B] = 12k[A]^2[B] = 12v. Jawaban benar B. 12"
            },
            {
                question: "Dalam sistem pernapasan manusia, pertukaran gas antara alveolus dan kapiler darah terjadi melalui proses...",
                options: [
                    "A. Difusi",
                    "B. Osmosis",
                    "C. Transpor aktif",
                    "D. Endositosis",
                    "E. Eksositosis"
                ],
                correctAnswer: 0,
                explanation: "Pertukaran O2 dan CO2 antara alveolus dan darah terjadi melalui difusi berdasarkan gradien konsentrasi. Jawaban benar A. Difusi"
            },
            {
                question: "Sebuah partikel bergerak melingkar dengan kecepatan sudut 4 rad/s. Jika jari-jari lintasan partikel tersebut diperbesar dari 0,5 m menjadi 2 m sementara kecepatan sudutnya dipertahankan, percepatan sentripetal partikel akan berubah menjadi... kali semula",
                options: [
                    "A. 1/4",
                    "B. 1/2",
                    "C. 1",
                    "D. 2",
                    "E. 4"
                ],
                correctAnswer: 3,
                explanation: "a_s = ω²r. a_s baru/a_s lama = (ω²×2)/(ω²×0,5) = 4. Jawaban benar E. 4"
            },
            {
                question: "Dalam suatu percobaan genetika, persilangan dihibrid antara dua individu heterozigot (AaBb × AaBb) menghasilkan keturunan dengan perbandingan fenotip...",
                options: [
                    "A. 1:1:1:1",
                    "B. 3:1",
                    "C. 9:3:3:1",
                    "D. 1:2:1",
                    "E. 3:3:1:1"
                ],
                correctAnswer: 2,
                explanation: "Persilangan dihibrid heterozigot menghasilkan perbandingan fenotip 9:3:3:1 (Mendel). Jawaban benar C. 9:3:3:1"
            },
            {
                question: "Suatu gas ideal mengalami proses adiabatik. Jika volume gas diperbesar 8 kali volume semula, tekanan gas akan menjadi... (γ = Cp/Cv = 1,4)",
                options: [
                    "A. 1/8 tekanan semula",
                    "B. 1/4 tekanan semula",
                    "C. 1/2 tekanan semula",
                    "D. 1/16 tekanan semula",
                    "E. 1/32 tekanan semula"
                ],
                correctAnswer: 3,
                explanation: "Proses adiabatik: PV^γ = konstan. P1V1^γ = P2V2^γ → P2 = P1(V1/V2)^γ = P1(1/8)^1,4 ≈ P1/16. Jawaban benar D. 1/16"
            },
            {
                question: "Dalam reaksi redoks berikut: MnO4- + H2O2 + H+ → Mn2+ + O2 + H2O, perubahan bilangan oksidasi mangan adalah dari...",
                options: [
                    "A. +2 ke +7",
                    "B. +4 ke +2",
                    "C. +7 ke +2",
                    "D. -1 ke -2",
                    "E. +5 ke +2"
                ],
                correctAnswer: 2,
                explanation: "Biloks Mn dalam MnO4- adalah +7 (total -1, biloks O = -2×4 = -8, jadi Mn = +7). Dalam Mn2+, biloks Mn = +2. Perubahan dari +7 ke +2. Jawaban benar C. +7 ke +2"
            },
            {
                question: "Sebuah kawat dengan hambatan R dipotong menjadi tiga bagian sama panjang. Jika ketiga potongan kawat disusun paralel, hambatan penggantinya adalah...",
                options: [
                    "A. R/9",
                    "B. R/3",
                    "C. R",
                    "D. 3R",
                    "E. 9R"
                ],
                correctAnswer: 0,
                explanation: "Setiap potongan memiliki hambatan R/3. Susunan paralel: 1/Rp = 3/(R/3) = 9/R → Rp = R/9. Jawaban benar A. R/9"
            },
            {
                question: "Enzim yang berperan dalam sintesis DNA dengan cara menambahkan nukleotida ke ujung 3' dari rantai DNA yang sedang tumbuh adalah...",
                options: [
                    "A. DNA ligase",
                    "B. DNA polimerase",
                    "C. RNA polimerase",
                    "D. Helicase",
                    "E. Primase"
                ],
                correctAnswer: 1,
                explanation: "DNA polimerase bertanggung jawab untuk sintesis DNA dengan menambahkan nukleotida ke ujung 3'. Jawaban benar B. DNA polimerase"
            },
            {
                question: "Sebuah partikel bermuatan q bergerak dengan kecepatan v memasuki medan magnet homogen B yang arahnya tegak lurus terhadap v. Jika besar muatan diperbesar 2 kali dan kecepatan diperbesar 3 kali, jari-jari lintasan partikel akan berubah menjadi... kali semula",
                options: [
                    "A. 1/6",
                    "B. 1/3",
                    "C. 1",
                    "D. 1,5",
                    "E. 6"
                ],
                correctAnswer: 3,
                explanation: "r = mv/qB. r baru = m(3v)/(2q)B = (3/2)(mv/qB) = 1,5r. Jawaban benar D. 1,5"
            },
            {
                question: "Dalam sistem periodik, unsur-unsur transisi terletak pada blok...",
                options: [
                    "A. s",
                    "B. p",
                    "C. d",
                    "D. f",
                    "E. g"
                ],
                correctAnswer: 2,
                explanation: "Unsur transisi terletak pada blok d dalam sistem periodik. Jawaban benar C. d"
            },
            {
                question: "Sebuah benda melakukan gerak harmonik sederhana dengan persamaan simpangan y = 10 sin(2πt + π/3) cm. Kecepatan maksimum benda tersebut adalah... cm/s",
                options: [
                    "A. 5π",
                    "B. 10π",
                    "C. 20π",
                    "D. 30π",
                    "E. 40π"
                ],
                correctAnswer: 2,
                explanation: "v_max = Aω = 10 × 2π = 20π cm/s. Jawaban benar C. 20π"
            },
            {
                question: "Dalam fotosintesis, reaksi terang terjadi di...",
                options: [
                    "A. Stroma",
                    "B. Membran tilakoid",
                    "C. Matriks mitokondria",
                    "D. Sitoplasma",
                    "E. Nukleus"
                ],
                correctAnswer: 1,
                explanation: "Reaksi terang fotosintesis terjadi di membran tilakoid kloroplas. Jawaban benar B. Membran tilakoid"
            },
            {
                question: "Jika 100 mL larutan HCl 0,1 M dicampurkan dengan 150 mL larutan NaOH 0,1 M, pH campuran yang terbentuk adalah... (Kw = 10^-14)",
                options: [
                    "A. 1",
                    "B. 2",
                    "C. 7",
                    "D. 12",
                    "E. 13"
                ],
                correctAnswer: 3,
                explanation: "n HCl = 100×0,1 = 10 mmol; n NaOH = 150×0,1 = 15 mmol. Sisa OH- = 5 mmol dalam 250 mL → [OH-] = 0,02 M → pOH = 1,7 → pH = 12,3 ≈ 12. Jawaban benar D. 12"
            },
            {
                question: "Sebuah transformator step-up memiliki perbandingan lilitan primer dan sekunder 1:5. Jika efisiensi transformator 80% dan daya input 100 W, daya output transformator adalah...",
                options: [
                    "A. 20 W",
                    "B. 50 W",
                    "C. 80 W",
                    "D. 100 W",
                    "E. 125 W"
                ],
                correctAnswer: 2,
                explanation: "η = P_out/P_in → 0,8 = P_out/100 → P_out = 80 W. Jawaban benar C. 80 W"
            },
            {
                question: "Dalam sistem ekskresi manusia, bagian nefron yang terutama bertanggung jawab untuk reabsorbsi air adalah...",
                options: [
                    "A. Glomerulus",
                    "B. Tubulus kontortus proksimal",
                    "C. Lengkung Henle",
                    "D. Tubulus kontortus distal",
                    "E. Tubulus kolektivus"
                ],
                correctAnswer: 2,
                explanation: "Lengkung Henle (khususnya bagian descending) sangat permeabel terhadap air dan berperan utama dalam reabsorbsi air. Jawaban benar C. Lengkung Henle"
            },
            {
                question: "Sebuah balok kayu dengan massa jenis 0,8 g/cm³ mengapung di air (massa jenis 1 g/cm³). Jika volume balok 100 cm³, volume balok yang tercelup dalam air adalah... cm³",
                options: [
                    "A. 20",
                    "B. 40",
                    "C. 60",
                    "D. 80",
                    "E. 100"
                ],
                correctAnswer: 3,
                explanation: "Gaya apung = berat balok → ρ_air V_celup g = ρ_balok V_balok g → 1×V_celup = 0,8×100 → V_celup = 80 cm³. Jawaban benar D. 80"
            },
            {
                question: "Reaksi antara etena dengan bromin menghasilkan...",
                options: [
                    "A. Etanol",
                    "B. 1,2-dibromoetana",
                    "C. Bromoetana",
                    "D. Asetilena",
                    "E. Etil bromida"
                ],
                correctAnswer: 1,
                explanation: "C2H4 + Br2 → C2H4Br2 (1,2-dibromoetana). Reaksi adisi pada ikatan rangkap. Jawaban benar B. 1,2-dibromoetana"
            },
            {
                question: "Dalam sistem saraf, sel yang berfungsi sebagai penyokong dan pelindung neuron adalah...",
                options: [
                    "A. Akson",
                    "B. Dendrit",
                    "C. Sel Schwann",
                    "D. Sinapsis",
                    "E. Badan sel"
                ],
                correctAnswer: 2,
                explanation: "Sel Schwann (neuroglia) membentuk selubung mielin yang melindungi akson. Jawaban benar C. Sel Schwann"
            },
            {
                question: "Sebuah kapasitor keping sejajar dengan kapasitansi C diisi muatan Q. Jika jarak antar keping diperbesar 2 kali semula, energi yang tersimpan dalam kapasitor menjadi...",
                options: [
                    "A. 1/4 kali semula",
                    "B. 1/2 kali semula",
                    "C. Sama dengan semula",
                    "D. 2 kali semula",
                    "E. 4 kali semula"
                ],
                correctAnswer: 3,
                explanation: "C berbanding terbalik dengan d → C baru = C/2. Energi U = Q²/2C → U baru = Q²/(2×(C/2)) = 2U. Jawaban benar D. 2 kali semula"
            },
            {
                question: "Dalam reaksi kesetimbangan: N2(g) + 3H2(g) ⇌ 2NH3(g) ΔH = -92 kJ, jika suhu sistem dinaikkan, kesetimbangan akan bergeser ke...",
                options: [
                    "A. Kanan, karena reaksi eksoterm",
                    "B. Kiri, karena reaksi endoterm",
                    "C. Kanan, karena reaksi endoterm",
                    "D. Kiri, karena reaksi eksoterm",
                    "E. Tidak bergeser"
                ],
                correctAnswer: 3,
                explanation: "Kenaikan suhu akan menggeser kesetimbangan ke arah reaksi endoterm (ke kiri untuk reaksi eksoterm). Jawaban benar D. Kiri, karena reaksi eksoterm"
            },
            {
                question: "Pada tumbuhan, hormon yang terutama berperan dalam pembentukan buah tanpa biji (partenokarpi) adalah...",
                options: [
                    "A. Auksin",
                    "B. Giberelin",
                    "C. Sitokinin",
                    "D. Etilen",
                    "E. Asam absisat"
                ],
                correctAnswer: 0,
                explanation: "Auksin dapat merangsang pembentukan buah tanpa pembuahan (partenokarpi). Jawaban benar A. Auksin"
            },
            {
                question: "Sebuah benda bermassa 1 kg dijatuhkan dari ketinggian 20 m. Jika percepatan gravitasi 10 m/s² dan gesekan udara diabaikan, energi kinetik benda saat ketinggiannya 5 m adalah...",
                options: [
                    "A. 50 J",
                    "B. 100 J",
                    "C. 150 J",
                    "D. 200 J",
                    "E. 250 J"
                ],
                correctAnswer: 2,
                explanation: "Hukum kekekalan energi: mgh1 = mgh2 + Ek → 1×10×20 = 1×10×5 + Ek → Ek = 200 - 50 = 150 J. Jawaban benar C. 150 J"
            },
            {
                question: "Dalam reaksi substitusi nukleofilik, reaktivitas alkil halida mengikuti urutan...",
                options: [
                    "A. RI > RBr > RCl > RF",
                    "B. RF > RCl > RBr > RI",
                    "C. RCl > RBr > RI > RF",
                    "D. RBr > RI > RCl > RF",
                    "E. RF > RI > RBr > RCl"
                ],
                correctAnswer: 0,
                explanation: "Reaktivitas meningkat dengan menurunnya kekuatan ikatan C-X: RI > RBr > RCl > RF. Jawaban benar A. RI > RBr > RCl > RF"
            },
            {
                question: "Dalam sistem pencernaan manusia, enzim yang dihasilkan oleh pankreas dan berfungsi memecah protein menjadi pepton adalah...",
                options: [
                    "A. Amilase",
                    "B. Lipase",
                    "C. Tripsin",
                    "D. Sukrase",
                    "E. Maltase"
                ],
                correctAnswer: 2,
                explanation: "Tripsin adalah enzim proteolitik pankreas yang memecah protein menjadi pepton. Jawaban benar C. Tripsin"
            },
            {
                question: "Sebuah benda bermassa 0,5 kg bergerak dengan kecepatan 4 m/s menumbuk benda lain bermassa 1,5 kg yang diam. Jika tumbukan lenting sempurna, kecepatan masing-masing benda setelah tumbukan adalah...",
                options: [
                    "A. -2 m/s dan 2 m/s",
                    "B. 0 m/s dan 2 m/s",
                    "C. 1 m/s dan 1 m/s",
                    "D. 2 m/s dan -2 m/s",
                    "E. 3 m/s dan 1 m/s"
                ],
                correctAnswer: 0,
                explanation: "Hukum kekekalan momentum: 0,5×4 + 1,5×0 = 0,5v1 + 1,5v2. Koefisien restitusi e=1: v2-v1 = 4. Solusi: v1 = -2 m/s, v2 = 2 m/s. Jawaban benar A. -2 m/s dan 2 m/s"
            },
            {
                question: "Senyawa yang menunjukkan isomer geometri cis-trans adalah...",
                options: [
                    "A. CH3-CH=CH2",
                    "B. CH2=CH2",
                    "C. CH3-CH=CH-CH3",
                    "D. CH3-C≡CH",
                    "E. CH4"
                ],
                correctAnswer: 2,
                explanation: "CH3-CH=CH-CH3 memiliki isomer geometri karena ada gugus berbeda pada kedua karbon ikatan rangkap. Jawaban benar C. CH3-CH=CH-CH3"
            },
            {
                question: "Dalam sistem peredaran darah manusia, katup yang terletak antara ventrikel kiri dan aorta disebut...",
                options: [
                    "A. Katup trikuspid",
                    "B. Katup mitral",
                    "C. Katup semilunar aorta",
                    "D. Katup semilunar pulmonal",
                    "E. Katup eustachius"
                ],
                correctAnswer: 2,
                explanation: "Katup semilunar aorta terletak antara ventrikel kiri dan aorta. Jawaban benar C. Katup semilunar aorta"
            },
            {
                question: "Sebuah partikel dengan muatan 2 μC bergerak dalam medan magnet 0,5 T dengan kecepatan 10^6 m/s yang membentuk sudut 30° terhadap arah medan magnet. Gaya Lorentz yang dialami partikel adalah...",
                options: [
                    "A. 0 N",
                    "B. 0,5×10^-3 N",
                    "C. 1×10^-3 N",
                    "D. 2×10^-3 N",
                    "E. 4×10^-3 N"
                ],
                correctAnswer: 1,
                explanation: "F = qvB sinθ = 2×10^-6 × 10^6 × 0,5 × sin30° = 1 × 0,5 = 0,5×10^-3 N. Jawaban benar B. 0,5×10^-3 N"
            },
            {
                question: "Dalam sistem periodik, sifat keelektronegatifan unsur-unsur dalam satu golongan...",
                options: [
                    "A. Meningkat dari atas ke bawah",
                    "B. Menurun dari atas ke bawah",
                    "C. Tetap sama",
                    "D. Meningkat kemudian menurun",
                    "E. Tidak memiliki pola tertentu"
                ],
                correctAnswer: 1,
                explanation: "Dalam satu golongan, keelektronegatifan cenderung menurun dari atas ke bawah karena bertambahnya jarak elektron valensi dari inti. Jawaban benar B. Menurun dari atas ke bawah"
            },
            {
                question: "Sebuah lensa divergen memiliki jarak fokus 15 cm. Jika sebuah benda diletakkan 30 cm di depan lensa, sifat bayangan yang terbentuk adalah...",
                options: [
                    "A. Nyata, terbalik, diperkecil",
                    "B. Maya, tegak, diperkecil",
                    "C. Nyata, tegak, diperbesar",
                    "D. Maya, terbalik, diperbesar",
                    "E. Nyata, tegak, diperkecil"
                ],
                correctAnswer: 1,
                explanation: "Lensa divergen selalu menghasilkan bayangan maya, tegak, diperkecil. Jawaban benar B. Maya, tegak, diperkecil"
            },
            {
                question: "Dalam respirasi aerob, jumlah total ATP yang dihasilkan dari satu molekul glukosa adalah...",
                options: [
                    "A. 2 ATP",
                    "B. 4 ATP",
                    "C. 8 ATP",
                    "D. 32 ATP",
                    "E. 38 ATP"
                ],
                correctAnswer: 4,
                explanation: "Respirasi aerob menghasilkan total ~38 ATP (2 dari glikolisis, 2 dari siklus Krebs, ~34 dari rantai transpor elektron). Jawaban benar E. 38 ATP"
            },
            {
                question: "Suatu larutan penyangga dibuat dengan mencampurkan 100 mL NH3 0,1 M dan 50 mL HCl 0,1 M. Jika Kb NH3 = 10^-5, pH larutan penyangga tersebut adalah...",
                options: [
                    "A. 4",
                    "B. 5",
                    "C. 7",
                    "D. 9",
                    "E. 11"
                ],
                correctAnswer: 3,
                explanation: "n NH3 = 10 mmol; n HCl = 5 mmol. Sisa NH3 = 5 mmol, NH4+ terbentuk = 5 mmol. [OH-] = Kb × (n basa/n garam) = 10^-5 × (5/5) = 10^-5 → pOH = 5 → pH = 9. Jawaban benar D. 9"
            },
            {
                question: "Sebuah kawat lurus panjang dialiri arus 5 A. Besar medan magnet pada jarak 10 cm dari kawat adalah... (μ₀ = 4π×10^-7 Tm/A)",
                options: [
                    "A. 10^-6 T",
                    "B. 10^-5 T",
                    "C. 10^-4 T",
                    "D. 10^-3 T",
                    "E. 10^-2 T"
                ],
                correctAnswer: 1,
                explanation: "B = μ₀I/(2πr) = (4π×10^-7×5)/(2π×0,1) = 10^-5 T. Jawaban benar B. 10^-5 T"
            },
            {
                question: "Dalam sintesis protein, kodon stop yang mengakhiri translasi adalah...",
                options: [
                    "A. AUG",
                    "B. UAA",
                    "C. UAC",
                    "D. GUA",
                    "E. CUG"
                ],
                correctAnswer: 1,
                explanation: "Kodon stop (terminasi) adalah UAA, UAG, dan UGA. Jawaban benar B. UAA"
            },
            {
                question: "Sebuah benda bermassa 2 kg bergerak melingkar dengan jari-jari 1 m dan kecepatan linear 2 m/s. Momentum sudut benda tersebut terhadap pusat lingkaran adalah... kg.m²/s",
                options: [
                    "A. 1",
                    "B. 2",
                    "C. 3",
                    "D. 4",
                    "E. 5"
                ],
                correctAnswer: 3,
                explanation: "L = mvr = 2×2×1 = 4 kg.m²/s. Jawaban benar D. 4"
            },
            {
                question: "Dalam reaksi kimia, katalis berfungsi untuk...",
                options: [
                    "A. Menggeser posisi kesetimbangan",
                    "B. Meningkatkan hasil produk",
                    "C. Menurunkan energi aktivasi",
                    "D. Mengubah entalpi reaksi",
                    "E. Menyediakan energi untuk reaksi"
                ],
                correctAnswer: 2,
                explanation: "Katalis bekerja dengan menurunkan energi aktivasi tanpa mengubah entalpi reaksi atau posisi kesetimbangan. Jawaban benar C. Menurunkan energi aktivasi"
            },
            {
                question: "Pada tumbuhan, jaringan yang bertanggung jawab untuk pertumbuhan sekunder (pertambahan diameter batang) adalah...",
                options: [
                    "A. Epidermis",
                    "B. Kambium",
                    "C. Xilem",
                    "D. Floem",
                    "E. Meristem apikal"
                ],
                correctAnswer: 1,
                explanation: "Kambium vaskular bertanggung jawab untuk pertumbuhan sekunder dengan menghasilkan xilem sekunder ke dalam dan floem sekunder ke luar. Jawaban benar B. Kambium"
            },
            {
                question: "Sebuah partikel bergerak dengan persamaan posisi x = 2t³ - 4t² + 5 (x dalam meter, t dalam sekon). Percepatan partikel pada t = 2 s adalah... m/s²",
                options: [
                    "A. 4",
                    "B. 8",
                    "C. 12",
                    "D. 16",
                    "E. 20"
                ],
                correctAnswer: 3,
                explanation: "v = dx/dt = 6t² - 8t; a = dv/dt = 12t - 8. Pada t=2: a = 24-8 = 16 m/s². Jawaban benar D. 16"
            },
            {
                question: "Dalam elektrolisis larutan NaCl dengan elektroda inert, produk yang dihasilkan di katoda adalah...",
                options: [
                    "A. Na",
                    "B. Cl2",
                    "C. H2",
                    "D. NaOH",
                    "E. O2"
                ],
                correctAnswer: 2,
                explanation: "Di katoda air tereduksi menghasilkan H2 karena potensial reduksi air lebih besar daripada Na+. Jawaban benar C. H2"
            },
            {
                question: "Pada sistem kekebalan tubuh, sel yang berperan dalam respon imun spesifik dengan cara menghasilkan antibodi adalah...",
                options: [
                    "A. Sel T helper",
                    "B. Sel T sitotoksik",
                    "C. Sel B",
                    "D. Makrofag",
                    "E. Neutrofil"
                ],
                correctAnswer: 2,
                explanation: "Sel B berdiferensiasi menjadi sel plasma yang menghasilkan antibodi. Jawaban benar C. Sel B"
            },
            {
                question: "Sebuah benda bermassa 5 kg ditarik oleh gaya 20 N yang membentuk sudut 37° terhadap horizontal. Jika koefisien gesek kinetik 0,2 dan percepatan gravitasi 10 m/s², percepatan benda adalah... (sin 37° = 0,6; cos 37° = 0,8)",
                options: [
                    "A. 0,8 m/s²",
                    "B. 1,2 m/s²",
                    "C. 1,6 m/s²",
                    "D. 2,0 m/s²",
                    "E. 2,4 m/s²"
                ],
                correctAnswer: 3,
                explanation: "F_x = 20×0,8 = 16 N; F_y = 20×0,6 = 12 N. N = mg - F_y = 50 - 12 = 38 N. f_k = μN = 0,2×38 = 7,6 N. ΣF = 16 - 7,6 = 8,4 N. a = ΣF/m = 8,4/5 = 1,68 ≈ 1,6 m/s². Jawaban benar C. 1,6 m/s²"
            },
            {
                question: "Senyawa berikut yang memiliki geometri molekul tetrahedral adalah...",
                options: [
                    "A. CO2",
                    "B. H2O",
                    "C. NH3",
                    "D. CH4",
                    "E. BF3"
                ],
                correctAnswer: 3,
                explanation: "CH4 memiliki 4 pasangan elektron ikatan dan tidak ada PEB, sehingga geometrinya tetrahedral. Jawaban benar D. CH4"
            }
                ]
            }
        };

        // Motivational messages based on score
        const MOTIVATIONAL_MESSAGES = {
            '90-100': 'Sempurna! Anda sangat luar biasa dalam menguasai materi ini. Pertahankan prestasi ini.',
            '80-89': 'Hasil yang sangat baik! Anda telah menunjukkan pemahaman yang mendalam tentang materi.',
            '70-79': 'Kerja bagus! Anda memiliki pemahaman yang baik tentang materi ini.',
            '60-69': 'Hasil yang cukup baik. Tingkatkan lagi pemahaman Anda untuk hasil yang lebih baik.',
            '50-59': 'Anda sudah memahami dasar-dasarnya. Terus berlatih untuk meningkatkan pemahaman.',
            '0-49': 'Jangan menyerah! Gunakan hasil ini sebagai motivasi untuk belajar lebih giat lagi.'
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles.js for background
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#ffffff"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
            
            // Initialize celebration particles (hidden by default)
            particlesJS('celebration-particles', {
                "particles": {
                    "number": {
                        "value": 150,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF", "#00FFFF"]
                    },
                    "shape": {
                        "type": ["circle", "triangle", "star"],
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.7,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 4,
                            "size_min": 0.3,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": false
                    },
                    "move": {
                        "enable": true,
                        "speed": 6,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false
                        },
                        "onclick": {
                            "enable": false
                        },
                        "resize": true
                    }
                },
                "retina_detect": true
            });
            
            // Load admin settings
            loadAdminSettings();
            
            // Set greeting message from admin settings
            document.getElementById('greeting-text').textContent = adminSettings.greetingMessage;
            document.getElementById('admin-message').textContent = adminSettings.adminMessage;
            
            // Event listeners for buttons with sound
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', function() {
                    // Play button sound if not disabled
                    if (!this.disabled) {
                        buttonSound.currentTime = 0;
                        buttonSound.play().catch(e => console.log("Button sound prevented:", e));
                    }
                });
            });
            
            // Event listeners
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('agree-terms').addEventListener('change', toggleContinueButton);
            document.getElementById('continue-btn').addEventListener('click', showParticipantForm);
            
            // Status radio buttons
            document.querySelectorAll('input[name="status"]').forEach(radio => {
                radio.addEventListener('change', toggleParticipantFields);
            });
            
            // School level radio buttons
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', showGradeSelection);
            });
            
            document.getElementById('save-participant-btn').addEventListener('click', startExam);
            document.getElementById('finish-exam-btn').addEventListener('click', finishExam);
            document.getElementById('skip-question-btn').addEventListener('click', skipQuestion);
            document.getElementById('unanswered-btn').addEventListener('click', showUnansweredQuestions);
            document.getElementById('print-certificate-btn').addEventListener('click', printCertificate);
            document.getElementById('retake-exam-btn').addEventListener('click', retakeExam);
            
            // Floating buttons
            document.getElementById('whatsapp-btn').addEventListener('click', contactAdmin);
            document.getElementById('admin-panel-btn').addEventListener('click', showAdminPanelModal);
            
            // Modal close buttons
            document.getElementById('close-admin-panel-modal').addEventListener('click', hideAdminPanelModal);
            document.getElementById('close-edit-participant-modal').addEventListener('click', hideEditParticipantModal);
            
            // Modal submit buttons
            document.getElementById('submit-admin-panel-code').addEventListener('click', submitAdminPanelCode);
            
            // Check form validity when fields change
            document.getElementById('fullname').addEventListener('input', function() {
                // Convert input to uppercase automatically
                this.value = this.value.toUpperCase();
                checkParticipantFormValidity();
            });
            
            document.getElementById('school-name').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('student-id').addEventListener('input', checkParticipantFormValidity);
            document.querySelectorAll('input[name="purpose"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="grade"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="subject"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });

            // Admin panel toggle switches
            document.querySelectorAll('.toggle-switch input').forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const statusElement = document.getElementById(`${this.id}-status`);
                    statusElement.textContent = this.checked ? 'Aktif' : 'Nonaktif';
                });
            });

            // Admin panel buttons
            document.getElementById('save-codes-btn').addEventListener('click', saveCodes);
            document.getElementById('save-content-btn').addEventListener('click', saveContent);
            document.getElementById('save-settings-btn').addEventListener('click', saveSettings);
            
            // Participant management buttons
            document.getElementById('select-all-participants').addEventListener('click', toggleSelectAllParticipants);
            document.getElementById('edit-selected-participants').addEventListener('click', editSelectedParticipants);
            document.getElementById('delete-selected-participants').addEventListener('click', deleteSelectedParticipants);
            document.getElementById('validate-certificate-btn').addEventListener('click', validateCertificate);
            
            // Search functionality
            document.getElementById('participant-search').addEventListener('input', searchParticipants);
            
            // Edit participant form
            document.getElementById('save-edit-participant-btn').addEventListener('click', saveEditedParticipant);
            document.querySelectorAll('input[name="edit-status"]').forEach(radio => {
                radio.addEventListener('change', toggleEditParticipantFields);
            });
            document.querySelectorAll('input[name="edit-level"]').forEach(radio => {
                radio.addEventListener('change', showEditGradeSelection);
            });
            
            // Load participants data for admin panel
            loadParticipantsData();
            
            // Auto uppercase for edit fullname field
            document.getElementById('edit-fullname').addEventListener('input', function() {
                this.value = this.value.toUpperCase();
            });
        });
        
        // Functions
        function loadAdminSettings() {
            // Load exam duration
            document.getElementById('exam-duration').value = adminSettings.examDuration;
            
            // Load question count
            document.getElementById('question-count').value = adminSettings.questionCount;
            
            // Load randomize questions setting
            document.getElementById('randomize-questions').checked = adminSettings.randomizeQuestions;
            document.getElementById('randomize-status').textContent = adminSettings.randomizeQuestions ? 'Aktif' : 'Nonaktif';
            
            // Load greeting message
            document.getElementById('greeting-message-input').value = adminSettings.greetingMessage;
            
            // Load admin message
            document.getElementById('admin-message-input').value = adminSettings.adminMessage;
            
            // Load chairman name
            document.getElementById('chairman-name').value = adminSettings.chairmanName;
            
            // Load subject toggle
            document.getElementById('toggle-science').checked = adminSettings.enabledSubjects.IPA;
            document.getElementById('science-status').textContent = adminSettings.enabledSubjects.IPA ? 'Aktif' : 'Nonaktif';
        }
        
        function saveParticipantsData() {
            localStorage.setItem('participantsData', JSON.stringify(participantsData));
        }
        
        function saveAdminSettings() {
            localStorage.setItem('adminSettings', JSON.stringify(adminSettings));
        }
        
        function handleLogin() {
            const loginCode = document.getElementById('login-code').value;
            
            if (loginCode === adminSettings.loginCode) {
                // Play opening sound
                openingSound.play().catch(e => console.log("Opening sound prevented:", e));
                
                // Hide welcome screen with slide out animation
                document.getElementById('welcome-screen').classList.add('slide-out');
                
                // Show terms screen after animation completes
                setTimeout(() => {
                    document.getElementById('welcome-screen').style.display = 'none';
                    document.getElementById('terms-screen').style.display = 'block';
                    document.getElementById('terms-screen').classList.add('slide-in');
                    currentScreen = 'terms';
                }, 500);
            } else {
                alert('Kode login salah. Silakan coba lagi.');
            }
        }
        
        function toggleContinueButton() {
            const agreeCheckbox = document.getElementById('agree-terms');
            document.getElementById('continue-btn').disabled = !agreeCheckbox.checked;
        }
        
        function showParticipantForm() {
            // Hide terms screen with slide out animation
            document.getElementById('terms-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('terms-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
            }, 500);
        }
        
        function toggleParticipantFields() {
            // Only student status is available now
            document.getElementById('student-fields').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function showGradeSelection() {
            const level = document.querySelector('input[name="level"]:checked').value;
            const gradeOptions = document.getElementById('grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            // Add options based on level
            if (level === 'SD') {
                addGradeOption('grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addGradeOption('grade-5', 'Kelas <span class="roman">V</span>', '5');
                addGradeOption('grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addGradeOption('grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addGradeOption('grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addGradeOption('grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addGradeOption('grade-10', 'Kelas <span class="roman">X</span>', '10');
                addGradeOption('grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addGradeOption('grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
            
            document.getElementById('grade-selection').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function addGradeOption(id, label, value) {
            const container = document.getElementById('grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            // Add event listener for grade selection
            radio.addEventListener('change', function() {
                document.getElementById('subject-selection').style.display = 'block';
                checkParticipantFormValidity();
            });
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function checkParticipantFormValidity() {
            let isValid = true;
            
            // Check common fields
            const fullname = document.getElementById('fullname').value.trim();
            if (!fullname || !/^[A-Za-z ]+$/.test(fullname)) {
                isValid = false;
            }
            
            // Check student fields
            if (!document.getElementById('school-name').value.trim()) {
                isValid = false;
            }
            
            const studentId = document.getElementById('student-id').value.trim();
            if (!studentId || !/^[0-9]+$/.test(studentId)) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="purpose"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="level"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="grade"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="subject"]:checked')) {
                isValid = false;
            }
            
            document.getElementById('save-participant-btn').disabled = !isValid;
        }
        
        function startExam() {
            // Collect participant data
            participantData = {
                fullname: document.getElementById('fullname').value.trim(),
                status: 'pelajar',
                purpose: document.querySelector('input[name="purpose"]:checked')?.value,
                level: document.querySelector('input[name="level"]:checked')?.value,
                grade: document.querySelector('input[name="grade"]:checked')?.value,
                subject: document.querySelector('input[name="subject"]:checked')?.value,
                school: document.getElementById('school-name')?.value.trim(),
                studentId: document.getElementById('student-id')?.value.trim(),
                examDate: new Date().toISOString()
            };
            
            // Load questions based on level - hanya IPA
            if (participantData.level && QUESTION_BANK[participantData.level]['IPA']) {
                questions = QUESTION_BANK[participantData.level]['IPA'];
            } else {
                // Default questions
                questions = QUESTION_BANK['SD']['IPA'];
            }
            
            // Randomize questions if setting is enabled
            if (adminSettings.randomizeQuestions) {
                questions = shuffleArray(questions).slice(0, adminSettings.questionCount);
            } else {
                questions = questions.slice(0, adminSettings.questionCount);
            }
            
            // Initialize exam data
            examData = {
                startTime: new Date(),
                answered: 0,
                correct: 0,
                wrong: 0,
                unanswered: questions.length,
                answers: Array(questions.length).fill(null)
            };
            
            // Set exam time from admin settings
            examTimeLeft = adminSettings.examDuration * 60;
            
            // Hide participant form with slide out animation
            document.getElementById('participant-form').classList.add('slide-out');
            
            // Show exam screen after animation completes
            setTimeout(() => {
                document.getElementById('participant-form').style.display = 'none';
                document.getElementById('exam-screen').style.display = 'block';
                document.getElementById('exam-screen').classList.add('slide-in');
                currentScreen = 'exam';
                
                // Start timer
                startTimer();
                
                // Load first question
                loadQuestion(0);
            }, 500);
        }
        
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function startTimer() {
            // Update timer display immediately
            updateTimerDisplay();
            
            // Start timer interval
            examTimer = setInterval(function() {
                examTimeLeft--;
                updateTimerDisplay();
                
                // Check if time is up
                if (examTimeLeft <= 0) {
                    clearInterval(examTimer);
                    finishExam();
                }
                
                // Show warning when 10 minutes left
                if (examTimeLeft === 600) { // 10 minutes = 600 seconds
                    showTimeWarning();
                }
                
                // Hide warning when 1 minute left
                if (examTimeLeft === 60) {
                    hideTimeWarning();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const hours = Math.floor(examTimeLeft / 3600);
            const minutes = Math.floor((examTimeLeft % 3600) / 60);
            const seconds = examTimeLeft % 60;
            
            const timerElement = document.getElementById('exam-timer');
            timerElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change style based on remaining time
            if (examTimeLeft <= 600) { // 10 minutes or less
                timerElement.classList.add('timer-warning');
                
                if (examTimeLeft <= 60) { // 1 minute or less
                    timerElement.classList.remove('timer-warning');
                    timerElement.classList.add('timer-danger');
                }
            } else {
                timerElement.classList.remove('timer-warning', 'timer-danger');
            }
        }
        
        function showTimeWarning() {
            const notification = document.getElementById('time-warning');
            notification.style.display = 'block';
            
            // Auto hide after 9 minutes (540 seconds)
            setTimeout(() => {
                notification.style.display = 'none';
            }, 540 * 1000);
        }
        
        function hideTimeWarning() {
            document.getElementById('time-warning').style.display = 'none';
        }
        
        function loadQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestionIndex = index;
            const question = questions[index];
            
            // Update question text
            document.getElementById('question-text').textContent = `Soal ${index + 1}: ${question.question}`;
            
            // Clear previous image if exists
            const imageContainer = document.getElementById('question-image-container');
            imageContainer.innerHTML = '';
            
            // Add image if exists
            if (question.image) {
                const img = document.createElement('img');
                img.src = question.image;
                img.style.maxWidth = '100%';
                img.style.maxHeight = '200px';
                img.style.marginBottom = '15px';
                img.style.display = 'block';
                imageContainer.appendChild(img);
            }
            
            // Clear previous options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                
                // Check if this question was already answered
                if (examData.answers[index] !== null) {
                    if (examData.answers[index] === i) {
                        if (i === question.correctAnswer) {
                            optionElement.classList.add('correct');
                        } else {
                            optionElement.classList.add('incorrect');
                        }
                    } else if (i === question.correctAnswer) {
                        optionElement.classList.add('correct');
                    }
                    
                    // Show explanation if answered
                    document.getElementById('explanation-text').style.display = 'block';
                    document.getElementById('explanation-text').innerHTML = `<strong>Penjelasan:</strong> ${question.explanation}`;
                } else {
                    // Add click event for unanswered questions
                    optionElement.addEventListener('click', function() {
                        selectAnswer(index, i);
                    });
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation if question not answered
            if (examData.answers[index] === null) {
                document.getElementById('explanation-text').style.display = 'none';
            }
        }
        
        function selectAnswer(questionIndex, answerIndex) {
            const question = questions[questionIndex];
            
            // Record answer
            examData.answers[questionIndex] = answerIndex;
            
            // Update counters
            examData.answered++;
            examData.unanswered--;
            
            if (answerIndex === question.correctAnswer) {
                examData.correct++;
                // Play correct answer sound
                correctAnswerSound.currentTime = 0;
                correctAnswerSound.play().catch(e => console.log("Correct answer sound prevented:", e));
            } else {
                examData.wrong++;
                // Play wrong answer sound
                wrongAnswerSound.currentTime = 0;
                wrongAnswerSound.play().catch(e => console.log("Wrong answer sound prevented:", e));
            }
            
            // Reload question to show result
            loadQuestion(questionIndex);
            
            // Auto move to next question after delay if not last question
            if (questionIndex < questions.length - 1) {
                setTimeout(() => {
                    loadQuestion(questionIndex + 1);
                }, 2000);
            }
        }
        
        function skipQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        }
        
        function showUnansweredQuestions() {
            // Find first unanswered question
            const unansweredIndex = examData.answers.findIndex(answer => answer === null);
            
            if (unansweredIndex !== -1) {
                loadQuestion(unansweredIndex);
            } else {
                alert('Semua soal sudah dijawab.');
            }
        }
        
        function finishExam() {
            clearInterval(examTimer);
            
            // Calculate unanswered questions
            examData.unanswered = examData.answers.filter(answer => answer === null).length;
            
            // Generate certificate code
            const certificateCode = generateUniqueCode();
            
            // Add participant to data store
            const score = Math.round((examData.correct / questions.length) * 100);
            participantsData.push({
                ...participantData,
                score: score,
                examDate: new Date().toISOString(),
                certificateCode: certificateCode
            });
            saveParticipantsData();
            
            // Hide exam screen with slide out animation
            document.getElementById('exam-screen').classList.add('slide-out');
            
            // Show results screen after animation completes
            setTimeout(() => {
                document.getElementById('exam-screen').style.display = 'none';
                document.getElementById('results-screen').style.display = 'block';
                document.getElementById('results-screen').classList.add('slide-in');
                currentScreen = 'results';
                
                // Display results
                displayResults();
                
                // Generate certificate
                generateCertificate(certificateCode);
                
                // Show celebration particles
                showCelebration();
                
                // Play certificate sound (applause)
                certificateSound.currentTime = 0;
                certificateSound.play().catch(e => console.log("Certificate sound prevented:", e));
            }, 500);
        }
        
        function displayResults() {
            document.getElementById('result-name').textContent = participantData.fullname;
            document.getElementById('result-status').textContent = 'Pelajar';
            document.getElementById('result-level').textContent = participantData.level || '-';
            document.getElementById('result-grade').textContent = participantData.grade ? `Kelas ${participantData.grade}` : '-';
            document.getElementById('result-subject').textContent = participantData.subject || '-';
            document.getElementById('total-questions').textContent = questions.length;
            document.getElementById('correct-answers').textContent = examData.correct;
            document.getElementById('wrong-answers').textContent = examData.wrong;
            document.getElementById('unanswered-questions').textContent = examData.unanswered;
            
            // Calculate score (percentage)
            const score = Math.round((examData.correct / questions.length) * 100);
            document.getElementById('exam-score').textContent = `${score}%`;
        }
        
        function generateCertificate(certificateCode) {
            const certificateContainer = document.getElementById('certificate-container');
            certificateContainer.innerHTML = '';
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Get current date
            const now = new Date();
            const dateString = now.toLocaleDateString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            }).replace(/\//g, '');
            
            // Get motivational message based on score
            let motivation = '';
            for (const range in MOTIVATIONAL_MESSAGES) {
                const [min, max] = range.split('-').map(Number);
                if (score >= min && score <= max) {
                    motivation = MOTIVATIONAL_MESSAGES[range];
                    break;
                }
            }
            
            // Create certificate HTML
            const certificate = document.createElement('div');
            certificate.className = 'certificate';
            
            certificate.innerHTML = `
                <div class="certificate-content">
                    <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                    <p class="certificate-code">${formatName(participantData.fullname)}/PELAJAR/${participantData.level || 'UMUM'}/${participantData.subject || 'UMUM'}/${dateString}/${certificateCode}/PERGUNU-STB</p>
                    <p>Diberikan Kepada</p>
                    <h2 class="certificate-recipient">${formatName(participantData.fullname)}</h2>
                    <p class="certificate-body">
                        Atas Partisipasi & Pencapaian Luar Biasa Dalam<br>
                        Ujian Pergunu Situbondo
                    </p>
                    <p class="certificate-body">
                        Sebagai penghargaan atas dedikasi dalam memahami materi ujian dan mengasah logika, 
                        sertifikat ini diberikan sebagai motivasi untuk terus berkembang.
                    </p>
                    <div class="certificate-score">Nilai: ${score}%</div>
                    <p class="certificate-motivation">${motivation}</p>
                    <div class="certificate-footer">
                        <p>Ditetapkan di: Situbondo, ${now.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                        <div class="certificate-signature">
                            <p>Ketua Pergunu Situbondo</p>
                            <p><strong>${adminSettings.chairmanName}</strong></p>
                        </div>
                        <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
                    </div>
                </div>
            `;
            
            certificateContainer.appendChild(certificate);
            certificateContainer.style.display = 'block';
        }
        
        function showCelebration() {
            // Show celebration particles
            document.getElementById('celebration-particles').style.display = 'block';
            
            // Hide after 5 seconds
            setTimeout(() => {
                document.getElementById('celebration-particles').style.display = 'none';
            }, 5000);
        }
        
        function formatName(name) {
            return name.split(' ').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
            ).join(' ');
        }
        
        function generateUniqueCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            result += '-';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            return result;
        }
        
        function printCertificate() {
            // Hide floating buttons
            document.querySelector('.floating-buttons').style.display = 'none';
            
            // Hide other elements in results screen
            document.querySelector('.results-summary').style.display = 'none';
            document.querySelector('.result-actions').style.display = 'none';
            
            // Print the certificate
            window.print();
            
            // Show elements again after printing
            setTimeout(() => {
                document.querySelector('.floating-buttons').style.display = 'flex';
                document.querySelector('.results-summary').style.display = 'block';
                document.querySelector('.result-actions').style.display = 'block';
            }, 500);
        }
        
        function retakeExam() {
            // Hide results screen with slide out animation
            document.getElementById('results-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('results-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
                
                // Reset timer
                examTimeLeft = adminSettings.examDuration * 60;
            }, 500);
        }
        
        function contactAdmin() {
            const message = encodeURIComponent("Assalamualaikum mas admin, saya mau tanya sesuatu nih...");
            window.open(`https://wa.me/6285647709114?text=${message}`, '_blank');
        }
        
        function showAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'flex';
        }
        
        function hideAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'none';
        }
        
        function submitAdminPanelCode() {
            const code = document.getElementById('admin-panel-code').value;
            
            if (code === adminSettings.adminCode) {
                // Show admin panel content
                document.getElementById('admin-panel-content').style.display = 'block';
            } else {
                alert('Kode admin salah. Silakan coba lagi.');
            }
        }

        function loadParticipantsData() {
            const tableBody = document.getElementById('participants-table-body');
            tableBody.innerHTML = '';
            
            if (participantsData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="10" style="text-align: center;">Belum ada data peserta</td></tr>';
                return;
            }
            
            // Sort by date (newest first)
            const sortedData = [...participantsData].sort((a, b) => 
                new Date(b.examDate) - new Date(a.examDate));
            
            sortedData.forEach((participant, index) => {
                const date = new Date(participant.examDate);
                const dateStr = date.toLocaleDateString('id-ID', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const row = document.createElement('tr');
                row.dataset.index = index;
                row.innerHTML = `
                    <td>
                        <input type="checkbox" class="select-checkbox" data-index="${index}" onchange="toggleParticipantSelection(${index})">
                    </td>
                    <td>${dateStr}</td>
                    <td>${participant.fullname}</td>
                    <td>${participant.studentId || '-'}</td>
                    <td>Pelajar</td>
                    <td>${participant.level || '-'}</td>
                    <td>${participant.grade ? `Kelas ${participant.grade}` : '-'}</td>
                    <td>${participant.subject || '-'}</td>
                    <td>${participant.score}%</td>
                    <td>${participant.certificateCode || '-'}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Reset selected participants
            selectedParticipants = [];
            updateParticipantActionButtons();
        }
        
        function toggleParticipantSelection(index) {
            const checkbox = document.querySelector(`.select-checkbox[data-index="${index}"]`);
            if (checkbox.checked) {
                if (!selectedParticipants.includes(index)) {
                    selectedParticipants.push(index);
                }
            } else {
                selectedParticipants = selectedParticipants.filter(i => i !== index);
            }
            
            // Update select all checkbox
            updateSelectAllCheckbox();
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function toggleSelectAllParticipants() {
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            const checkboxes = document.querySelectorAll('.select-checkbox');
            
            selectAllCheckbox.checked = !selectAllCheckbox.checked;
            const isChecked = selectAllCheckbox.checked;
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = isChecked;
                const index = parseInt(checkbox.dataset.index);
                
                if (isChecked) {
                    if (!selectedParticipants.includes(index)) {
                        selectedParticipants.push(index);
                    }
                } else {
                    selectedParticipants = selectedParticipants.filter(i => i !== index);
                }
            });
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function updateSelectAllCheckbox() {
            const checkboxes = document.querySelectorAll('.select-checkbox');
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            
            if (checkboxes.length === 0) {
                selectAllCheckbox.checked = false;
                return;
            }
            
            const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
            selectAllCheckbox.checked = allChecked;
        }
        
        function updateParticipantActionButtons() {
            const hasSelection = selectedParticipants.length > 0;
            
            document.getElementById('edit-selected-participants').disabled = !hasSelection;
            document.getElementById('delete-selected-participants').disabled = !hasSelection;
        }
        
        function editSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            // For now, we'll just edit the first selected participant
            // In a real app, you might want to implement bulk editing
            const index = selectedParticipants[0];
            editParticipant(index);
        }
        
        function editParticipant(index) {
            const participant = participantsData[index];
            
            // Fill the edit form
            document.getElementById('edit-fullname').value = participant.fullname;
            
            // Set status to student (only option now)
            document.getElementById('edit-status-student').checked = true;
            document.getElementById('edit-student-fields').style.display = 'block';
            
            // Fill student fields
            document.getElementById('edit-school-name').value = participant.school || '';
            document.getElementById('edit-student-id').value = participant.studentId || '';
            
            // Set purpose
            if (participant.purpose) {
                const purposeRadio = document.querySelector(`input[name="edit-purpose"][value="${participant.purpose}"]`);
                if (purposeRadio) purposeRadio.checked = true;
            }
            
            // Set level
            if (participant.level) {
                const levelRadio = document.querySelector(`input[name="edit-level"][value="${participant.level}"]`);
                if (levelRadio) levelRadio.checked = true;
                
                // Show grade selection
                showEditGradeSelection();
                
                // Set grade
                if (participant.grade) {
                    const gradeRadio = document.querySelector(`input[name="edit-grade"][value="${participant.grade}"]`);
                    if (gradeRadio) gradeRadio.checked = true;
                }
            }
            
            // Set subject
            if (participant.subject) {
                document.getElementById('edit-subject').value = participant.subject;
            }
            
            // Set score
            document.getElementById('edit-score').value = participant.score;
            
            // Set certificate code
            document.getElementById('edit-certificate-code').value = participant.certificateCode || '-';
            
            // Store index for saving
            document.getElementById('edit-participant-index').value = index;
            
            // Show the modal
            document.getElementById('edit-participant-modal').style.display = 'flex';
        }
        
        function toggleEditParticipantFields() {
            // Only student status is available now
            document.getElementById('edit-student-fields').style.display = 'block';
        }
        
        function showEditGradeSelection() {
            const level = document.querySelector('input[name="edit-level"]:checked')?.value;
            const gradeOptions = document.getElementById('edit-grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            if (!level) return;
            
            // Add options based on level
            if (level === 'SD') {
                addEditGradeOption('edit-grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addEditGradeOption('edit-grade-5', 'Kelas <span class="roman">V</span>', '5');
                addEditGradeOption('edit-grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addEditGradeOption('edit-grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addEditGradeOption('edit-grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addEditGradeOption('edit-grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addEditGradeOption('edit-grade-10', 'Kelas <span class="roman">X</span>', '10');
                addEditGradeOption('edit-grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addEditGradeOption('edit-grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
        }
        
        function addEditGradeOption(id, label, value) {
            const container = document.getElementById('edit-grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'edit-grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function saveEditedParticipant() {
            const index = document.getElementById('edit-participant-index').value;
            if (!index) return;
            
            const participant = participantsData[index];
            
            // Update participant data
            participant.fullname = document.getElementById('edit-fullname').value.trim();
            participant.status = 'pelajar';
            participant.school = document.getElementById('edit-school-name').value.trim();
            participant.studentId = document.getElementById('edit-student-id').value.trim();
            participant.purpose = document.querySelector('input[name="edit-purpose"]:checked')?.value || '';
            participant.level = document.querySelector('input[name="edit-level"]:checked')?.value || '';
            participant.grade = document.querySelector('input[name="edit-grade"]:checked')?.value || '';
            participant.subject = document.getElementById('edit-subject').value;
            participant.score = parseInt(document.getElementById('edit-score').value);
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            // Hide modal
            hideEditParticipantModal();
            
            alert('Perubahan data peserta berhasil disimpan!');
        }
        
        function hideEditParticipantModal() {
            document.getElementById('edit-participant-modal').style.display = 'none';
        }
        
        function deleteSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            if (!confirm(`Apakah Anda yakin ingin menghapus ${selectedParticipants.length} peserta terpilih?`)) {
                return;
            }
            
            // Sort in descending order to avoid index issues when deleting
            const sortedIndices = [...selectedParticipants].sort((a, b) => b - a);
            
            // Delete participants
            sortedIndices.forEach(index => {
                participantsData.splice(index, 1);
            });
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            alert(`${sortedIndices.length} peserta berhasil dihapus!`);
        }
        
        function searchParticipants() {
            const searchTerm = document.getElementById('participant-search').value.toLowerCase();
            const rows = document.querySelectorAll('#participants-table-body tr');
            
            rows.forEach(row => {
                const index = parseInt(row.dataset.index);
                const participant = participantsData[index];
                const rowText = `
                    ${participant.fullname.toLowerCase()} 
                    ${participant.studentId || ''} 
                    ${participant.certificateCode || ''}
                `;
                
                if (rowText.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        function validateCertificate() {
            const code = document.getElementById('certificate-code-input').value.trim();
            const validationResult = document.getElementById('validation-result');
            
            if (!code) {
                alert('Silakan masukkan kode sertifikat');
                return;
            }
            
            // Find participant with this certificate code
            const participant = participantsData.find(p => p.certificateCode === code);
            
            if (participant) {
                validationResult.innerHTML = `
                    <p class="valid-certificate">Sertifikat Valid!</p>
                    <p>Nama: ${participant.fullname}</p>
                    <p>Status: Pelajar</p>
                    <p>Tingkat: ${participant.level || '-'}</p>
                    <p>Kelas: ${participant.grade ? `Kelas ${participant.grade}` : '-'}</p>
                    <p>Mata Ujian: ${participant.subject || '-'}</p>
                    <p>Nilai: ${participant.score}%</p>
                    <p>Tanggal Ujian: ${new Date(participant.examDate).toLocaleDateString('id-ID')}</p>
                `;
                validationResult.style.display = 'block';
            } else {
                validationResult.innerHTML = '<p class="invalid-certificate">Sertifikat Tidak Valid!</p>';
                validationResult.style.display = 'block';
            }
        }
        
        function saveCodes() {
            const newLoginCode = document.getElementById('new-login-code').value;
            const newAdminCode = document.getElementById('new-admin-code').value;
            
            if (newLoginCode) {
                adminSettings.loginCode = newLoginCode;
                document.getElementById('new-login-code').value = '';
            }
            
            if (newAdminCode) {
                adminSettings.adminCode = newAdminCode;
                document.getElementById('new-admin-code').value = '';
            }
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Kode berhasil diubah!');
        }
        
        function saveContent() {
            const greetingMessage = document.getElementById('greeting-message-input').value;
            const adminMessage = document.getElementById('admin-message-input').value;
            const chairmanName = document.getElementById('chairman-name').value;
            
            // Update admin settings
            adminSettings.greetingMessage = greetingMessage;
            adminSettings.adminMessage = adminMessage;
            adminSettings.chairmanName = chairmanName;
            
            // Update UI
            document.getElementById('greeting-text').textContent = greetingMessage;
            document.getElementById('admin-message').textContent = adminMessage;
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Perubahan konten berhasil disimpan!');
        }
        
        function saveSettings() {
            const examDuration = parseInt(document.getElementById('exam-duration').value);
            const questionCount = parseInt(document.getElementById('question-count').value);
            const randomizeQuestions = document.getElementById('randomize-questions').checked;
            
            // Update admin settings
            adminSettings.examDuration = examDuration;
            adminSettings.questionCount = questionCount;
            adminSettings.randomizeQuestions = randomizeQuestions;
            
            // Update subject toggle
            adminSettings.enabledSubjects = {
                IPA: document.getElementById('toggle-science').checked
            };
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Pengaturan berhasil disimpan!');
        }
    </script>
</body>
</html>
