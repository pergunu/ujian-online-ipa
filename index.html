<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online IPA PERGUNU Situbondo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-primary: #2c3e50;
            --color-secondary: #3498db;
            --color-tertiary: #1abc9c;
            --color-success: #27ae60;
            --color-error: #e74c3c;
            --color-warning: #f39c12;
            --color-info: #2980b9;
            --color-dark: #1a1a2e;
            --color-light: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-tertiary));
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Particle Background */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }

        #celebration-particles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            pointer-events: none;
            display: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .logo {
            height: 80px;
            margin-bottom: 15px;
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 50px;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
            margin: 5px;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 117, 252, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-success {
            background: linear-gradient(to right, var(--color-success), #2ecc71);
        }

        .btn-danger {
            background: linear-gradient(to right, var(--color-error), #e74c3c);
        }

        .btn-warning {
            background: linear-gradient(to right, var(--color-warning), #f39c12);
        }

        .btn-info {
            background: linear-gradient(to right, var(--color-info), #3498db);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-secondary);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 3px rgba(37, 117, 252, 0.2);
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        /* Radio and Checkbox Styles */
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option, .checkbox-option {
            display: none;
        }

        .radio-label, .checkbox-label {
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-option:checked + .radio-label,
        .checkbox-option:checked + .checkbox-label {
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
        }

        /* Custom Checkbox for Terms */
        .terms-checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .terms-checkbox {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            accent-color: var(--color-secondary);
        }
        
        .terms-text {
            font-size: 14px;
        }

        /* Animation Classes */
        .slide-in {
            animation: slideIn 0.5s forwards;
        }

        .slide-out {
            animation: slideOut 0.5s forwards;
        }

        .fade-in {
            animation: fadeIn 0.5s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Timer Styles */
        .timer {
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
            color: white;
            transition: all 0.3s ease;
        }

        .timer-warning {
            color: var(--color-warning);
            font-size: 28px;
        }

        .timer-danger {
            color: var(--color-error);
            font-size: 32px;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 1000;
            animation: slideUp 0.5s forwards;
            max-width: 90%;
            text-align: center;
        }

        @keyframes slideUp {
            from { bottom: -50px; opacity: 0; }
            to { bottom: 20px; opacity: 1; }
        }

        /* Question Styles */
        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .option {
            padding: 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .option.correct {
            background: var(--color-success);
            animation: correctAnswer 0.5s;
        }

        .option.incorrect {
            background: var(--color-error);
            animation: incorrectAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            display: none;
        }

        /* Certificate Styles - REVISED FOR PRINTING */
        .certificate {
            background: white;
            color: #333;
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            width: 210mm; /* A4 width */
            height: 297mm; /* A4 height */
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            page-break-after: avoid;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .certificate-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 40px 60px;
            margin: 0 auto;
            width: 80%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .certificate-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--color-primary);
            text-transform: uppercase;
        }

        .certificate-code {
            font-size: 14px;
            margin-bottom: 30px;
            color: #555;
            letter-spacing: 1px;
        }

        .certificate-recipient {
            font-size: 48px;
            margin: 20px 0;
            font-weight: 600;
            color: #333;
            font-family: 'Dancing Script', cursive;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .certificate-body {
            font-size: 16px;
            line-height: 1.6;
            margin: 10px 0;
            color: #333;
        }

        .certificate-score {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-primary);
            margin: 20px 0;
        }

        .certificate-motivation {
            font-style: italic;
            margin: 15px 0;
            font-size: 14px;
            color: #555;
        }

        .certificate-footer {
            margin-top: 30px;
            font-size: 12px;
            color: #555;
        }

        .certificate-signature {
            margin-top: 40px;
            font-size: 14px;
        }

        .certificate-barcode {
            margin: 15px auto;
            height: 80px;
            width: auto;
        }

        /* Floating Button Styles */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .floating-btn .tooltip {
            position: absolute;
            right: 60px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .floating-btn:hover .tooltip {
            opacity: 1;
            right: 70px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Roman numeral styles */
        .roman {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }

        /* Print Styles - REVISED FOR BETTER PRINTING */
        @media print {
            body * {
                visibility: hidden;
                background: white !important;
                color: black !important;
            }
            
            .certificate, 
            .certificate * {
                visibility: visible;
                background: transparent !important;
                color: #333 !important;
            }
            
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png') !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
            }
            
            .certificate-content {
                padding: 40px 60px !important;
                margin: 0 auto !important;
                width: 80% !important;
                height: 100% !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
            }
            
            .certificate-recipient {
                font-size: 48px !important;
                font-family: 'Dancing Script', cursive !important;
            }
            
            .floating-buttons, 
            .results-summary, 
            .result-actions {
                display: none !important;
            }
            
            @page {
                size: A4 portrait;
                margin: 0;
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .certificate-content {
                padding: 30px;
                width: 90%;
            }
            
            .certificate-title {
                font-size: 24px;
            }
            
            .certificate-recipient {
                font-size: 36px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .form-control {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .certificate-content {
                padding: 20px;
                width: 95%;
            }
            
            .certificate-title {
                font-size: 20px;
            }
            
            .certificate-recipient {
                font-size: 28px;
            }
        }

        /* Admin Panel Specific Styles */
        .admin-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .admin-section h5 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .admin-control-group {
            margin-bottom: 15px;
        }

        .admin-control-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
        }

        .admin-control-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        .admin-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-success);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .participant-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
        }

        .participant-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .participant-item:last-child {
            border-bottom: none;
        }

        .export-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        .data-table th, .data-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }

        .data-table tr:hover {
            background-color: #f9f9f9;
        }

        /* Checkbox styles for participant selection */
        .select-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .select-all-checkbox {
            margin-right: 5px;
        }

        .participant-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        /* Search Box */
        .search-box {
            margin-bottom: 15px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        /* Edit Participant Modal */
        .edit-participant-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .edit-participant-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .edit-participant-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Certificate Validation Section */
        .certificate-validation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 8px;
        }

        .validation-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .valid-certificate {
            background-color: #dff0d8;
            color: #3c763d;
        }

        .invalid-certificate {
            background-color: #f2dede;
            color: #a94442;
        }

        /* Alert Styles */
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-size: 14px;
        }

        .alert-success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }

        .alert-danger {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
        }

        /* Error message styles */
        .error-message {
            color: var(--color-error);
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        /* Warning notification */
        .warning-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--color-warning);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: none;
            animation: fadeIn 0.3s;
        }

        /* Input error state */
        .input-error {
            border-color: var(--color-error) !important;
            background: rgba(244, 67, 54, 0.1) !important;
        }

        /* Radio group error */
        .radio-group-error {
            outline: 2px solid var(--color-error);
            border-radius: 8px;
            padding: 5px;
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div id="celebration-particles"></div>
    
    <!-- Warning notification for incomplete form -->
    <div class="warning-notification" id="form-warning">
        <i class="fas fa-exclamation-circle"></i> Harap lengkapi semua data peserta dengan benar sebelum melanjutkan!
    </div>
    
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="card slide-in">
            <div class="header">
                <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/logo.png" alt="PERGUNU Logo" class="logo">
                <h1>Ujian Online IPA PERGUNU Situbondo</h1>
            </div>
            
            <div id="greeting-message">
                <p id="greeting-text">Selamat datang di sistem ujian online IPA PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</p>
            </div>
            
            <div class="form-group">
                <label for="login-code" class="form-label">Kode Login</label>
                <input type="password" id="login-code" class="form-control" placeholder="Masukkan kode login">
                <small class="text-muted">Kode login diberikan oleh admin</small>
            </div>
            
            <button id="login-btn" class="btn">Masuk</button>
        </div>
        
        <!-- Terms Screen (Hidden Initially) -->
        <div id="terms-screen" class="card" style="display: none;">
            <h2>Peraturan dan Kebijakan Ujian Online</h2>
            <div class="terms-content" style="max-height: 300px; overflow-y: auto; margin: 20px 0; padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                <p>1. Ujian ini dikembangkan oleh Cendhanu Tim Kreator PERGUNU Situbondo.</p>
                <p>2. Peserta wajib mengisi data diri dengan benar dan lengkap.</p>
                <p>3. Dilarang keras melakukan kecurangan selama ujian berlangsung.</p>
                <p>4. Waktu ujian akan berjalan terus dan tidak dapat dihentikan.</p>
                <p>5. Jawaban yang sudah dipilih tidak dapat diubah.</p>
                <p>6. Soal yang tidak dijawab akan dianggap salah.</p>
                <p>7. Hasil ujian akan ditampilkan setelah waktu habis atau peserta menyelesaikan ujian.</p>
                <p>8. Sertifikat akan diberikan kepada peserta yang menyelesaikan ujian.</p>
                <p>9. Keputusan panitia ujian bersifat mutlak dan tidak dapat diganggu gugat.</p>
            </div>
            
            <div class="terms-checkbox-container">
                <input type="checkbox" id="agree-terms" class="terms-checkbox" required>
                <span class="terms-text">Saya telah membaca dan menyetujui peraturan di atas</span>
            </div>
            
            <button id="continue-btn" class="btn" disabled>Lanjut Ikut Ujian</button>
        </div>
        
        <!-- Participant Form (Hidden Initially) -->
        <div id="participant-form" class="card" style="display: none;">
            <h2>Formulir Data Peserta</h2>
            <p>Silakan isi data diri Anda dengan benar. Data ini akan digunakan untuk sertifikat ujian.</p>
            
            <div class="form-group">
                <label for="fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="fullname" class="form-control" placeholder="Masukkan nama lengkap" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
                <div class="error-message" id="fullname-error">Nama lengkap harus diisi dan hanya boleh mengandung huruf</div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="status-student" name="status" value="pelajar" class="radio-option" checked>
                    <label for="status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <!-- Student Fields -->
            <div id="student-fields">
                <div class="form-group">
                    <label for="school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="school-name" class="form-control" placeholder="Masukkan nama sekolah" required>
                    <div class="error-message" id="school-error">Nama sekolah harus diisi</div>
                </div>
                
                <div class="form-group">
                    <label for="student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="student-id" class="form-control" placeholder="Masukkan NIS" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                    <div class="error-message" id="nis-error">NIS harus diisi dan hanya boleh mengandung angka</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group" id="purpose-radio-group">
                        <input type="radio" id="purpose-task" name="purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="purpose-exam" name="purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="purpose-test" name="purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                    <div class="error-message" id="purpose-error">Silakan pilih tujuan ikut ujian</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group" id="level-radio-group">
                        <input type="radio" id="level-elementary" name="level" value="SD" class="radio-option">
                        <label for="level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="level-junior" name="level" value="SMP" class="radio-option">
                        <label for="level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="level-senior" name="level" value="SMA/SMK" class="radio-option">
                        <label for="level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                    <div class="error-message" id="level-error">Silakan pilih tingkat sekolah</div>
                </div>
            </div>
            
            <!-- Grade Selection (Will be shown based on school level) -->
            <div id="grade-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    <div class="error-message" id="grade-error">Silakan pilih kelas</div>
                </div>
            </div>
            
            <!-- Subject Selection -->
            <div id="subject-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Pilih Jenis Ujian</label>
                    <div class="radio-group" id="subject-radio-group">
                        <input type="radio" id="subject-ipa" name="subject" value="IPA" class="radio-option" checked>
                        <label for="subject-ipa" class="radio-label">Ilmu Pengetahuan Alam (IPA)</label>
                    </div>
                    <div class="error-message" id="subject-error">Silakan pilih jenis ujian</div>
                </div>
            </div>
            
            <!-- Admin Information -->
            <div class="form-group" id="admin-info" style="margin-top: 30px;">
                <p>Informasi berkala dari admin:</p>
                <div style="padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                    <p id="admin-message">Tidak ada informasi terbaru saat ini.</p>
                </div>
            </div>
            
            <button id="save-participant-btn" class="btn" disabled>Simpan & Ikut Ujian</button>
        </div>
        
        <!-- Exam Screen (Hidden Initially) -->
        <div id="exam-screen" class="card" style="display: none;">
            <div class="timer" id="exam-timer">02:00:00</div>
            
            <div class="question-container">
                <div class="question" id="question-text">Memuat soal...</div>
                <div id="question-image-container" style="margin-bottom: 15px;"></div>
                
                <div class="options" id="options-container">
                    <!-- Options will be populated by JavaScript -->
                </div>
                
                <div class="explanation" id="explanation-text">
                    <!-- Explanation will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="exam-controls">
                <button id="finish-exam-btn" class="btn btn-danger">Selesaikan Ujian Sekarang</button>
                <button id="skip-question-btn" class="btn btn-warning">Lewati Soal</button>
                <button id="unanswered-btn" class="btn btn-info">Soal Belum Dijawab</button>
            </div>
        </div>
        
        <!-- Results Screen (Hidden Initially) -->
        <div id="results-screen" class="card" style="display: none;">
            <h2>Hasil Ujian</h2>
            
            <div class="results-summary">
                <p>Nama: <span id="result-name"></span></p>
                <p>Status: <span id="result-status"></span></p>
                <p>Tingkat: <span id="result-level"></span></p>
                <p>Kelas: <span id="result-grade"></span></p>
                <p>Mata Ujian: <span id="result-subject"></span></p>
                <p>Jumlah Soal: <span id="total-questions"></span></p>
                <p>Jawaban Benar: <span id="correct-answers"></span></p>
                <p>Jawaban Salah: <span id="wrong-answers"></span></p>
                <p>Tidak Dijawab: <span id="unanswered-questions"></span></p>
                <p>Nilai: <span id="exam-score"></span></p>
            </div>
            
            <div class="certificate-container" id="certificate-container" style="display: none;">
                <!-- Certificate will be generated here -->
            </div>
            
            <div class="result-actions">
                <button id="print-certificate-btn" class="btn btn-success">Cetak Sertifikat</button>
                <button id="retake-exam-btn" class="btn btn-info">Ulangi Ujian</button>
            </div>
        </div>
    </div>
    
    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn" id="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span class="tooltip">Chat Admin</span>
        </button>
        
        <button class="floating-btn" id="admin-panel-btn">
            <i class="fas fa-cog"></i>
            <span class="tooltip">Admin Panel</span>
        </button>
    </div>
    
    <!-- Admin Panel Modal -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Kontrol Panel Admin</h3>
                <button class="modal-close" id="close-admin-panel-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="admin-panel-code" class="form-label">Kode Admin</label>
                    <input type="password" id="admin-panel-code" class="form-control" placeholder="Masukkan kode admin" style="color: #333;">
                    <button id="submit-admin-panel-code" class="btn">Masuk</button>
                </div>
                
                <div id="admin-panel-content" style="display: none;">
                    <div class="admin-section">
                        <h5>Pengaturan Kode</h5>
                        <div class="form-group">
                            <label class="form-label">Kode Login Baru</label>
                            <input type="password" id="new-login-code" class="form-control" placeholder="Masukkan kode login baru" style="color: #333;">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Admin Baru</label>
                            <input type="password" id="new-admin-code" class="form-control" placeholder="Masukkan kode admin baru" style="color: #333;">
                        </div>
                        
                        <button id="save-codes-btn" class="btn btn-success">Simpan Kode</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Ujian</h5>
                        <div class="admin-controls">
                            <div class="admin-control-group">
                                <label class="admin-control-label">Durasi Ujian (menit)</label>
                                <input type="number" id="exam-duration" class="admin-control-input" value="120" min="5" max="300">
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Konten</h5>
                        <div class="form-group">
                            <label class="form-label">Pesan Pembuka</label>
                            <textarea id="greeting-message-input" class="form-control" rows="3" style="color: #333;">Selamat datang di sistem ujian online IPA PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Informasi Berkala</label>
                            <textarea id="admin-message-input" class="form-control" rows="3" style="color: #333;">Tidak ada informasi terbaru saat ini.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nama Ketua PERGUNU</label>
                            <input type="text" id="chairman-name" class="form-control" value="Moh. Nuril Hudha, S.Pd., M.Si." style="color: #333;">
                        </div>
                        <button id="save-content-btn" class="btn btn-success">Simpan Perubahan</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Manajemen Peserta</h5>
                        <div class="search-box">
                            <input type="text" id="participant-search" class="search-input" placeholder="Cari peserta berdasarkan nama, NIS, atau kode sertifikat...">
                        </div>
                        <div class="participant-actions">
                            <button id="select-all-participants" class="btn btn-info">
                                <input type="checkbox" id="select-all-checkbox" class="select-all-checkbox">
                                Pilih Semua
                            </button>
                            <button id="edit-selected-participants" class="btn btn-warning" disabled>
                                <i class="fas fa-edit"></i> Edit Terpilih
                            </button>
                            <button id="delete-selected-participants" class="btn btn-danger" disabled>
                                <i class="fas fa-trash"></i> Hapus Terpilih
                            </button>
                        </div>
                        <div class="participant-list">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th width="30px">
                                            <!-- Select all checkbox -->
                                        </th>
                                        <th>Tanggal</th>
                                        <th>Nama</th>
                                        <th>NIS</th>
                                        <th>Status</th>
                                        <th>Tingkat</th>
                                        <th>Kelas</th>
                                        <th>Mata Ujian</th>
                                        <th>Nilai</th>
                                        <th>Kode Sertifikat</th>
                                    </tr>
                                </thead>
                                <tbody id="participants-table-body">
                                    <!-- Participant data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                        <div class="export-buttons">
                            <button id="export-csv-btn" class="btn btn-info">
                                <i class="fas fa-file-csv"></i> Export to CSV
                            </button>
                            <button id="export-json-btn" class="btn btn-info">
                                <i class="fas fa-file-code"></i> Export to JSON
                            </button>
                            <button id="export-excel-btn" class="btn btn-success">
                                <i class="fas fa-file-excel"></i> Export to Excel
                            </button>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Validasi Sertifikat</h5>
                        <div class="certificate-validation">
                            <div class="form-group">
                                <label class="form-label">Masukkan Kode Sertifikat</label>
                                <input type="text" id="certificate-code-input" class="form-control" placeholder="Masukkan kode sertifikat" style="color: #333;">
                                <button id="validate-certificate-btn" class="btn btn-info">Validasi</button>
                            </div>
                            <div id="validation-result" class="validation-result" style="display: none;">
                                <!-- Validation result will be shown here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Aktifkan/Nonaktifkan Ujian</h5>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Ilmu Pengetahuan Alam (IPA)</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-ipa" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="ipa-status">Aktif</span>
                            </div>
                        </div>
                        <button id="save-settings-btn" class="btn btn-success">Simpan Pengaturan</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Participant Modal -->
    <div class="edit-participant-modal" id="edit-participant-modal">
        <div class="edit-participant-content">
            <span class="edit-participant-close" id="close-edit-participant-modal">&times;</span>
            <h3>Edit Data Peserta</h3>
            
            <div class="form-group">
                <label for="edit-fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="edit-fullname" class="form-control" style="color: #333;" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="edit-status-student" name="edit-status" value="pelajar" class="radio-option" checked>
                    <label for="edit-status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <div id="edit-student-fields">
                <div class="form-group">
                    <label for="edit-school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="edit-school-name" class="form-control" style="color: #333;">
                </div>
                
                <div class="form-group">
                    <label for="edit-student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="edit-student-id" class="form-control" style="color: #333;" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-purpose-task" name="edit-purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="edit-purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="edit-purpose-exam" name="edit-purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="edit-purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="edit-purpose-test" name="edit-purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="edit-purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-level-elementary" name="edit-level" value="SD" class="radio-option">
                        <label for="edit-level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="edit-level-junior" name="edit-level" value="SMP" class="radio-option">
                        <label for="edit-level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="edit-level-senior" name="edit-level" value="SMA/SMK" class="radio-option">
                        <label for="edit-level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="edit-grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Mata Ujian</label>
                <select id="edit-subject" class="form-control" style="color: #333;">
                    <option value="IPA">Ilmu Pengetahuan Alam (IPA)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="edit-score" class="form-label">Nilai</label>
                <input type="number" id="edit-score" class="form-control" min="0" max="100" style="color: #333;">
            </div>
            
            <div class="form-group">
                <label for="edit-certificate-code" class="form-label">Kode Sertifikat</label>
                <input type="text" id="edit-certificate-code" class="form-control" style="color: #333;" readonly>
            </div>
            
            <button id="save-edit-participant-btn" class="btn btn-success">Simpan Perubahan</button>
            
            <input type="hidden" id="edit-participant-index">
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="time-warning" style="display: none;">
        Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.
    </div>

    <!-- Audio Elements -->
    <audio id="button-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/audiotombol.mp3" preload="auto"></audio>
    <audio id="correct-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabanbenar.mp3" preload="auto"></audio>
    <audio id="wrong-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabansalah.mp3" preload="auto"></audio>
    <audio id="certificate-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/applause.mp3" preload="auto"></audio>
    <audio id="opening-sound" src="https://github.com/pergunu/ujian-online/raw/main/assets/audio/opening.mp3" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        // Global variables
        let currentScreen = 'welcome';
        let participantData = {};
        let examData = {};
        let questions = [];
        let currentQuestionIndex = 0;
        let answeredQuestions = {};
        let examTimer;
        let examTimeLeft = 120 * 60; // 120 minutes in seconds
        let selectedParticipants = [];
        let questionOrder = []; // Untuk menyimpan urutan soal yang diacak

        // URL Google Apps Script untuk penyimpanan data
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzuh1M0pS64v5e_HYGafcG7CD8RwCEf4FVroKnOT1DujxTdCnn6zTBeQvSwgmenspgN/exec';

        // Audio elements
        const buttonSound = document.getElementById('button-sound');
        const correctAnswerSound = document.getElementById('correct-answer-sound');
        const wrongAnswerSound = document.getElementById('wrong-answer-sound');
        const certificateSound = document.getElementById('certificate-sound');
        const openingSound = document.getElementById('opening-sound');
        
        // Default codes (should be changed in production)
        const DEFAULT_LOGIN_CODE = '12345';
        const DEFAULT_ADMIN_PANEL_CODE = '65614222';
        
        // Store participants data in localStorage
        let participantsData = JSON.parse(localStorage.getItem('pergunuParticipantsData')) || [];
        
        // Store admin settings in localStorage
        let adminSettings = JSON.parse(localStorage.getItem('pergunuAdminSettings')) || {
            loginCode: DEFAULT_LOGIN_CODE,
            adminCode: DEFAULT_ADMIN_PANEL_CODE,
            examDuration: 120,
            greetingMessage: "Selamat datang di sistem ujian online IPA PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.",
            adminMessage: "Tidak ada informasi terbaru saat ini.",
            chairmanName: "Moh. Nuril Hudha, S.Pd., M.Si.",
            enabledSubjects: {
                "IPA": true
            }
        };

        // Expanded Question bank with more questions (IPA only)
        let QUESTION_BANK = {
            'SD': {
                'IPA': [
                    {
                        question: "Bagian tumbuhan yang berfungsi untuk menyerap air dan mineral dari tanah adalah...",
                        options: [
                            "A. Daun",
                            "B. Batang",
                            "C. Akar",
                            "D. Bunga",
                            "E. Buah"
                        ],
                        correctAnswer: 2,
                        explanation: "Akar adalah bagian tumbuhan yang berfungsi untuk menyerap air dan mineral dari tanah. Akar juga berfungsi untuk menopang tumbuhan dan menyimpan cadangan makanan."
                    },
                    {
                        question: "Proses pada tumbuhan yang mengubah energi cahaya menjadi energi kimia disebut...",
                        options: [
                            "A. Respirasi",
                            "B. Fotosintesis",
                            "C. Transpirasi",
                            "D. Evaporasi",
                            "E. Dekomposisi"
                        ],
                        correctAnswer: 1,
                        explanation: "Fotosintesis adalah proses pada tumbuhan hijau yang mengubah energi cahaya matahari menjadi energi kimia dalam bentuk gula (glukosa). Proses ini terjadi di kloroplas yang mengandung klorofil."
                    },
                    {
                        question: "Hewan berikut yang termasuk herbivora adalah...",
                        options: [
                            "A. Singa",
                            "B. Harimau",
                            "C. Sapi",
                            "D. Elang",
                            "E. Ular"
                        ],
                        correctAnswer: 2,
                        explanation: "Sapi adalah hewan herbivora karena makanannya hanya tumbuhan (rumput, daun, dll). Singa, harimau, elang, dan ular adalah contoh hewan karnivora yang memakan daging."
                    },
                    {
                        question: "Benda berikut yang termasuk konduktor panas yang baik adalah...",
                        options: [
                            "A. Kayu",
                            "B. Plastik",
                            "C. Karet",
                            "D. Besi",
                            "E. Kertas"
                        ],
                        correctAnswer: 3,
                        explanation: "Besi adalah konduktor panas yang baik karena dapat menghantarkan panas dengan efisien. Kayu, plastik, karet, dan kertas adalah isolator yang buruk dalam menghantarkan panas."
                    },
                    {
                        question: "Perubahan wujud dari padat menjadi cair disebut...",
                        options: [
                            "A. Membeku",
                            "B. Mencair",
                            "C. Menguap",
                            "D. Mengembun",
                            "E. Menyublim"
                        ],
                        correctAnswer: 1,
                        explanation: "Mencair adalah perubahan wujud dari padat menjadi cair. Contohnya es batu yang berubah menjadi air ketika dipanaskan."
                    },
                    {
                        question: "Planet terdekat dari matahari dalam tata surya kita adalah...",
                        options: [
                            "A. Venus",
                            "B. Bumi",
                            "C. Mars",
                            "D. Merkurius",
                            "E. Jupiter"
                        ],
                        correctAnswer: 3,
                        explanation: "Merkurius adalah planet terdekat dari matahari. Urutan planet dari yang terdekat: Merkurius, Venus, Bumi, Mars, Jupiter, Saturnus, Uranus, Neptunus."
                    },
                    {
                        question: "Alat indera yang berfungsi untuk mengecap rasa adalah...",
                        options: [
                            "A. Mata",
                            "B. Hidung",
                            "C. Telinga",
                            "D. Lidah",
                            "E. Kulit"
                        ],
                        correctAnswer: 3,
                        explanation: "Lidah adalah alat indera pengecap yang dapat mengenali rasa manis, asam, asin, pahit, dan gurih (umami). Permukaan lidah memiliki struktur kecil bernama papila yang mengandung kuncup pengecap."
                    },
                    {
                        question: "Energi yang dihasilkan oleh benda bergerak disebut energi...",
                        options: [
                            "A. Kimia",
                            "B. Panas",
                            "C. Cahaya",
                            "D. Kinetik",
                            "E. Potensial"
                        ],
                        correctAnswer: 3,
                        explanation: "Energi kinetik adalah energi yang dimiliki oleh benda bergerak. Semakin cepat benda bergerak, semakin besar energi kinetiknya. Contoh: bola yang menggelinding, kipas angin yang berputar."
                    },
                    {
                        question: "Proses pernapasan pada manusia yang mengeluarkan karbon dioksida disebut...",
                        options: [
                            "A. Inspirasi",
                            "B. Ekspirasi",
                            "C. Respirasi",
                            "D. Difusi",
                            "E. Osmosis"
                        ],
                        correctAnswer: 1,
                        explanation: "Ekspirasi adalah proses mengeluarkan udara dari paru-paru yang mengandung karbon dioksida. Inspirasi adalah proses memasukkan udara ke paru-paru. Respirasi adalah proses pertukaran gas secara keseluruhan."
                    },
                    {
                        question: "Alat untuk mengukur suhu adalah...",
                        options: [
                            "A. Barometer",
                            "B. Termometer",
                            "C. Hygrometer",
                            "D. Anemometer",
                            "E. Speedometer"
                        ],
                        correctAnswer: 1,
                        explanation: "Termometer adalah alat untuk mengukur suhu. Barometer mengukur tekanan udara, hygrometer mengukur kelembaban, anemometer mengukur kecepatan angin, dan speedometer mengukur kecepatan kendaraan."
                    },
                    {
                question: "Proses fotosintesis pada tumbuhan hijau merupakan salah satu proses penting di alam. Berikut ini adalah penjelasan yang benar tentang fotosintesis:",
                options: [
                    "A. Fotosintesis hanya membutuhkan air dan karbon dioksida sebagai bahan utama",
                    "B. Fotosintesis terjadi di mitokondria dan menghasilkan energi dalam bentuk ATP",
                    "C. Fotosintesis mengubah energi cahaya menjadi energi kimia yang disimpan dalam glukosa",
                    "D. Fotosintesis hanya dapat terjadi pada malam hari ketika suhu lebih rendah",
                    "E. Fotosintesis tidak memerlukan klorofil sebagai pigmen penangkap cahaya"
                ],
                correctAnswer: 2,
                explanation: "Fotosintesis adalah proses dimana tumbuhan hijau mengubah energi cahaya matahari menjadi energi kimia yang disimpan dalam bentuk glukosa. Proses ini membutuhkan karbon dioksida, air, dan klorofil sebagai pigmen penangkap cahaya. Reaksi ini terjadi di kloroplas dan menghasilkan oksigen sebagai produk sampingan."
            },
            {
                question: "Sistem tata surya kita terdiri dari berbagai benda langit. Pernyataan berikut yang paling tepat tentang tata surya adalah:",
                options: [
                    "A. Matahari adalah bintang terbesar di alam semesta",
                    "B. Semua planet di tata surya memiliki atmosfer yang sama dengan Bumi",
                    "C. Asteroid adalah benda langit yang mengorbit Bumi dan memiliki ekor seperti komet",
                    "D. Planet dalam tata surya terbagi menjadi planet dalam (berbatu) dan planet luar (gas raksasa)",
                    "E. Komet hanya dapat dilihat sekali dalam sejarah manusia"
                ],
                correctAnswer: 3,
                explanation: "Tata surya kita terbagi menjadi planet dalam (Merkurius, Venus, Bumi, Mars) yang berbatu dan planet luar (Jupiter, Saturnus, Uranus, Neptunus) yang merupakan gas raksasa. Matahari adalah bintang berukuran sedang, asteroid terletak di sabuk asteroid antara Mars dan Jupiter, dan komet dapat muncul secara periodik."
            },
            {
                question: "Sistem pencernaan manusia merupakan proses kompleks yang melibatkan berbagai organ. Urutan yang benar tentang proses pencernaan makanan adalah:",
                options: [
                    "A. Mulut  Kerongkongan  Lambung  Usus halus  Usus besar  Rektum",
                    "B. Mulut  Lambung  Kerongkongan  Usus besar  Usus halus  Rektum",
                    "C. Kerongkongan  Mulut  Lambung  Usus halus  Usus besar  Rektum",
                    "D. Mulut  Usus halus  Kerongkongan  Lambung  Usus besar  Rektum",
                    "E. Lambung  Mulut  Kerongkongan  Usus besar  Usus halus  Rektum"
                ],
                correctAnswer: 0,
                explanation: "Proses pencernaan dimulai dari mulut (pencernaan mekanik dan kimiawi), kemudian makanan masuk ke kerongkongan yang mendorong makanan ke lambung. Di lambung terjadi pencernaan protein, lalu ke usus halus untuk penyerapan nutrisi, kemudian sisa makanan ke usus besar untuk penyerapan air, dan akhirnya ke rektum untuk dibuang."
            },
            {
                question: "Perubahan wujud zat merupakan konsep penting dalam IPA. Berikut ini contoh perubahan fisika adalah:",
                options: [
                    "A. Kayu dibakar menjadi arang",
                    "B. Besi berkarat karena terkena air dan udara",
                    "C. Es mencair menjadi air ketika dipanaskan",
                    "D. Susu menjadi basi setelah beberapa hari",
                    "E. Makanan dicerna dalam tubuh manusia"
                ],
                correctAnswer: 2,
                explanation: "Perubahan fisika adalah perubahan yang tidak menghasilkan zat baru dan bersifat reversibel. Es mencair menjadi air adalah contoh perubahan fisika karena hanya berubah wujud dari padat ke cair tanpa membentuk zat baru. Contoh lainnya adalah perubahan bentuk, ukuran, atau volume suatu materi."
            },
            {
                question: "Ekosistem merupakan interaksi antara makhluk hidup dengan lingkungannya. Berikut ini rantai makanan yang benar dalam ekosistem sawah adalah:",
                options: [
                    "A. Padi  Tikus  Ular  Elang  Pengurai",
                    "B. Padi  Elang  Tikus  Ular  Pengurai",
                    "C. Pengurai  Padi  Tikus  Ular  Elang",
                    "D. Padi  Ular  Tikus  Elang  Pengurai",
                    "E. Tikus  Padi  Ular  Elang  Pengurai"
                ],
                correctAnswer: 0,
                explanation: "Rantai makanan yang benar dimulai dari produsen (padi) sebagai sumber energi, kemudian konsumen primer (tikus) yang memakan padi, konsumen sekunder (ular) yang memakan tikus, konsumen tersier (elang) yang memakan ular, dan terakhir pengurai yang menguraikan sisa-sisa organisme mati."
            },
            {
                question: "Energi alternatif semakin penting untuk mengurangi ketergantungan pada bahan bakar fosil. Berikut ini keunggulan energi surya dibandingkan energi fosil, KECUALI:",
                options: [
                    "A. Tidak menghasilkan emisi gas rumah kaca selama operasi",
                    "B. Sumber energi yang terbarukan dan tidak akan habis",
                    "C. Biaya pemasangan awal yang lebih murah daripada pembangkit listrik konvensional",
                    "D. Dapat digunakan di daerah terpencil yang tidak terjangkau jaringan listrik",
                    "E. Tidak menghasilkan limbah berbahaya seperti bahan bakar fosil"
                ],
                correctAnswer: 2,
                explanation: "Energi surya memang memiliki banyak keunggulan seperti ramah lingkungan dan terbarukan, namun biaya pemasangan awal panel surya masih relatif mahal dibandingkan pembangkit listrik konvensional. Biaya ini meliputi pembelian panel surya, inverter, baterai penyimpanan, dan instalasi profesional."
            },
            {
                question: "Sistem pernapasan manusia terdiri dari berbagai organ penting. Proses pertukaran gas oksigen dan karbon dioksida terjadi di:",
                options: [
                    "A. Hidung dan tenggorokan",
                    "B. Bronkus dan bronkiolus",
                    "C. Alveolus dalam paru-paru",
                    "D. Diafragma dan rongga dada",
                    "E. Trakea dan laring"
                ],
                correctAnswer: 2,
                explanation: "Pertukaran gas oksigen dan karbon dioksida terjadi di alveolus, yaitu kantong udara kecil dalam paru-paru yang dikelilingi oleh pembuluh kapiler. Alveolus memiliki dinding yang sangat tipis sehingga memungkinkan difusi gas. Oksigen masuk ke darah dan karbon dioksida dikeluarkan dari darah ke udara."
            },
            {
                question: "Listrik statis merupakan fenomena fisika yang menarik. Berikut ini contoh peristiwa listrik statis dalam kehidupan sehari-hari adalah:",
                options: [
                    "A. Lampu pijar menyala ketika saklar dinyalakan",
                    "B. Kipas angin berputar ketika dialiri listrik",
                    "C. Rambut berdiri saat menyisir rambut dengan sisir plastik",
                    "D. Air mendidih ketika dipanaskan dengan kompor listrik",
                    "E. Setrika menjadi panas ketika dihubungkan ke stopkontak"
                ],
                correctAnswer: 2,
                explanation: "Listrik statis adalah ketidakseimbangan muatan listrik pada permukaan benda. Ketika menyisir rambut dengan sisir plastik, elektron dari rambut berpindah ke sisir sehingga sisir bermuatan negatif dan rambut bermuatan positif, menyebabkan rambut saling tolak dan berdiri. Ini adalah contoh listrik statis."
            },
            {
                question: "Adaptasi makhluk hidup merupakan cara bertahan hidup di lingkungannya. Berikut ini contoh adaptasi fisiologi adalah:",
                options: [
                    "A. Unta memiliki punuk untuk menyimpan lemak",
                    "B. Bunglon mengubah warna kulit sesuai lingkungan",
                    "C. Kaktus memiliki daun berbentuk duri",
                    "D. Ikan memiliki insang untuk bernapas dalam air",
                    "E. Burung elang memiliki paruh yang tajam"
                ],
                correctAnswer: 3,
                explanation: "Adaptasi fisiologi adalah penyesuaian fungsi organ tubuh terhadap lingkungan. Insang pada ikan merupakan adaptasi fisiologi karena merupakan perubahan internal untuk mengekstrak oksigen dari air. Adaptasi morfologi meliputi perubahan bentuk tubuh seperti punuk unta, duri kaktus, atau paruh elang."
            },
            {
                question: "Teknologi modern telah mengubah cara manusia berkomunikasi. Berikut ini pernyataan yang benar tentang gelombang elektromagnetik dalam teknologi komunikasi adalah:",
                options: [
                    "A. Gelombang radio memiliki frekuensi lebih tinggi daripada sinar gamma",
                    "B. Sinar inframerah digunakan untuk komunikasi jarak jauh antar kota",
                    "C. Gelombang mikro digunakan dalam oven microwave dan jaringan WiFi",
                    "D. Sinar ultraviolet digunakan untuk transmisi sinyal televisi",
                    "E. Sinar-X digunakan untuk jaringan seluler 5G"
                ],
                correctAnswer: 2,
                explanation: "Gelombang mikro memang digunakan dalam oven microwave (dengan frekuensi sekitar 2.45 GHz) dan jaringan WiFi (2.4 GHz dan 5 GHz). Gelombang radio memiliki frekuensi paling rendah dalam spektrum EM, sinar inframerah digunakan untuk remote control, UV untuk sterilisasi, dan sinar-X untuk pencitraan medis."
            },
		{
                question: "Dalam siklus air, proses perubahan uap air menjadi titik-titik air yang membentuk awan disebut...",
                options: [
                    "A. Evaporasi",
                    "B. Kondensasi",
                    "C. Presipitasi",
                    "D. Infiltrasi",
                    "E. Transpirasi"
                ],
                correctAnswer: 1,
                explanation: "Kondensasi adalah proses perubahan uap air menjadi titik-titik air ketika terkena suhu dingin di atmosfer, membentuk awan. Evaporasi adalah penguapan air dari permukaan, presipitasi adalah turunnya hujan, infiltrasi adalah peresapan air ke tanah, dan transpirasi adalah penguapan air melalui tumbuhan."
            },
            {
                question: "Planet yang dikenal sebagai 'Bintang Kejora' karena paling terang jika dilihat dari Bumi adalah...",
                options: [
                    "A. Mars",
                    "B. Jupiter",
                    "C. Venus",
                    "D. Saturnus",
                    "E. Merkurius"
                ],
                correctAnswer: 2,
                explanation: "Venus disebut Bintang Kejora karena memiliki atmosfer tebal yang memantulkan cahaya matahari dengan sangat baik. Venus terlihat jelas sebelum matahari terbit atau setelah terbenam dan merupakan objek tercerah ketiga di langit setelah Matahari dan Bulan."
            },
            {
                question: "Penyebab utama terjadinya siang dan malam adalah...",
                options: [
                    "A. Revolusi Bumi mengelilingi Matahari",
                    "B. Rotasi Bumi pada porosnya",
                    "C. Kemiringan sumbu Bumi 23,5",
                    "D. Gravitasi Bulan terhadap Bumi",
                    "E. Perubahan jarak Bumi-Matahari"
                ],
                correctAnswer: 1,
                explanation: "Rotasi Bumi (berputar pada porosnya) selama 24 jam menyebabkan bagian Bumi yang menghadap Matahari mengalami siang, sedangkan yang membelakangi mengalami malam. Revolusi Bumi menyebabkan perubahan musim, bukan siang-malam."
            },
            {
                question: "Hewan berikut yang mengalami metamorfosis sempurna adalah...",
                options: [
                    "A. Kecoak (telur  nimfa  dewasa)",
                    "B. Capung (telur  larva  dewasa)",
                    "C. Kupu-kupu (telur  larva  pupa  dewasa)",
                    "D. Belalang (telur  nimfa  dewasa)",
                    "E. Laba-laba (telur  anak  dewasa)"
                ],
                correctAnswer: 2,
                explanation: "Metamorfosis sempurna memiliki 4 tahap: telur  larva  pupa  dewasa. Contohnya kupu-kupu, nyamuk, dan lalat. Metamorfosis tidak sempurna hanya melalui 3 tahap: telur  nimfa  dewasa, seperti pada kecoak dan belalang."
            },
            {
                question: "Zat yang dihasilkan oleh tumbuhan hijau pada proses fotosintesis dan sangat penting bagi pernapasan manusia adalah...",
                options: [
                    "A. Karbon dioksida",
                    "B. Nitrogen",
                    "C. Oksigen",
                    "D. Hidrogen",
                    "E. Uap air"
                ],
                correctAnswer: 2,
                explanation: "Fotosintesis menghasilkan glukosa dan oksigen (6CO + 6HO + cahaya  CHO + 6O). Oksigen ini dilepaskan ke atmosfer dan digunakan manusia untuk bernapas. Sebaliknya, manusia mengeluarkan karbon dioksida yang dibutuhkan tumbuhan."
            },
            {
                question: "Benda langit yang disebut 'bintang jatuh' sebenarnya adalah...",
                options: [
                    "A. Komet yang terbakar di atmosfer",
                    "B. Meteoroid yang masuk atmosfer Bumi",
                    "C. Planet yang terlihat sangat terang",
                    "D. Satelit buatan manusia yang rusak",
                    "E. Asteroid yang mendekati Bumi"
                ],
                correctAnswer: 1,
                explanation: "Bintang jatuh adalah meteoroid (batuan luar angkasa kecil) yang terbakar saat masuk atmosfer Bumi karena gesekan. Jika tidak habis terbakar dan sampai ke permukaan Bumi, disebut meteorit. Komet adalah benda langit berekor, berbeda dengan meteor."
            },
            {
                question: "Penyakit osteoporosis (tulang keropos) dapat dicegah dengan mengonsumsi makanan kaya...",
                options: [
                    "A. Vitamin C dan zat besi",
                    "B. Kalsium dan vitamin D",
                    "C. Protein dan karbohidrat",
                    "D. Serat dan vitamin A",
                    "E. Lemak dan mineral"
                ],
                correctAnswer: 1,
                explanation: "Kalsium adalah mineral pembentuk tulang, sedangkan vitamin D membantu penyerapan kalsium. Sumber kalsium: susu, keju, yogurt. Sumber vitamin D: sinar matahari pagi, ikan berlemak. Kekurangan kedua zat ini membuat tulang rapuh."
            },
            {
                question: "Alat indera yang berfungsi sebagai reseptor untuk merasakan manis, asin, asam, dan pahit adalah...",
                options: [
                    "A. Pupil pada mata",
                    "B. Selaput gendang telinga",
                    "C. Papila lidah",
                    "D. Saraf di kulit",
                    "E. Rambut hidung"
                ],
                correctAnswer: 2,
                explanation: "Papila lidah mengandung kuncup pengecap dengan reseptor rasa: ujung lidah (manis), samping depan (asin), samping belakang (asam), dan pangkal (pahit). Rasa gurih (umami) juga dapat dideteksi oleh lidah."
            },
            {
                question: "Perhatikan rantai makanan berikut: Fitoplankton  Udang  Ikan kecil  Hiu. Jika populasi udang berkurang drastis, apa yang mungkin terjadi?",
                options: [
                    "A. Populasi fitoplankton menurun, hiu meningkat",
                    "B. Populasi ikan kecil meningkat, hiu menurun",
                    "C. Fitoplankton meledak, ikan kecil menurun",
                    "D. Hiu beralih memakan fitoplankton",
                    "E. Tidak ada pengaruh pada ekosistem"
                ],
                correctAnswer: 2,
                explanation: "Jika udang (konsumen primer) berkurang, maka pemangsa udang (ikan kecil) akan kesulitan makanan dan populasinya menurun. Fitoplankton (produsen) bisa meledak karena tidak dimakan udang. Hiu sebagai predator puncak juga akan terpengaruh karena mangsa (ikan kecil) berkurang."
            },
            {
                question: "Benda berikut yang termasuk konduktor listrik terbaik adalah...",
                options: [
                    "A. Karet",
                    "B. Kayu kering",
                    "C. Plastik",
                    "D. Tembaga",
                    "E. Kaca"
                ],
                correctAnswer: 3,
                explanation: "Tembaga adalah logam dengan konduktivitas listrik sangat tinggi, sehingga banyak digunakan untuk kabel listrik. Bahan seperti karet, kayu, plastik, dan kaca adalah isolator (tidak menghantarkan listrik). Perak sebenarnya konduktor terbaik, tapi tidak ada di pilihan."
            },
		{
                question: "Ketika kita meniup balon lalu melepaskannya tanpa mengikatnya, balon akan terbang berlawanan arah dengan udara yang keluar. Fenomena ini merupakan contoh hukum...",
                options: [
                    "A. Newton I (Hukum Inersia)",
                    "B. Newton II (Hukum Percepatan)",
                    "C. Newton III (Hukum Aksi-Reaksi)",
                    "D. Archimedes (Hukum Apung)",
                    "E. Pascal (Hukum Tekanan)"
                ],
                correctAnswer: 2,
                explanation: "Ini adalah contoh Hukum Newton III: 'Untuk setiap aksi ada reaksi yang sama besar dan berlawanan arah'. Udara yang disemburkan balon ke belakang (aksi) menghasilkan gaya dorong balon ke depan (reaksi). Prinsip ini juga digunakan dalam roket."
            },
            {
                question: "Proses perubahan energi yang terjadi pada pembangkit listrik tenaga air (PLTA) adalah...",
                options: [
                    "A. Kimia  Listrik  Mekanik",
                    "B. Nuklir  Panas  Listrik",
                    "C. Mekanik  Panas  Listrik",
                    "D. Potensial  Kinetik  Listrik",
                    "E. Cahaya  Kimia  Listrik"
                ],
                correctAnswer: 3,
                explanation: "PLTA mengubah energi potensial gravitasi air di bendungan menjadi energi kinetik saat air jatuh, kemudian turbin mengubah energi kinetik air menjadi energi listrik. Ini termasuk energi terbarukan karena tidak menghabiskan sumber daya."
            },
            {
                question: "Penyebab utama terjadinya pelangi setelah hujan adalah...",
                options: [
                    "A. Pembiasan dan pemantulan cahaya matahari oleh tetesan air",
                    "B. Pantulan cahaya oleh awan cirrus",
                    "C. Emisi cahaya dari molekul udara",
                    "D. Pembakaran gas di atmosfer",
                    "E. Interferensi gelombang radio"
                ],
                correctAnswer: 0,
                explanation: "Pelangi terjadi ketika cahaya matahari dibiaskan (dibelokkan), dipantulkan secara internal, dan dibiaskan lagi oleh tetesan air hujan. Proses ini memisahkan cahaya putih menjadi spektrum warna (me-ji-ku-hi-bi-ni-u). Posisi pengamat harus membelakangi matahari."
            },
            {
                question: "Bagian sel tumbuhan yang tidak dimiliki sel hewan adalah...",
                options: [
                    "A. Membran sel",
                    "B. Inti sel",
                    "C. Mitokondria",
                    "D. Dinding sel",
                    "E. Sitoplasma"
                ],
                correctAnswer: 3,
                explanation: "Dinding sel (terbuat dari selulosa) hanya dimiliki sel tumbuhan, memberikan struktur kaku. Sel hewan hanya memiliki membran sel fleksibel. Keduanya memiliki inti sel, mitokondria, dan sitoplasma. Kloroplas juga hanya ada di sel tumbuhan hijau."
            },
            {
                question: "Jika magnet dipotong menjadi dua bagian, maka yang terjadi adalah...",
                options: [
                    "A. Hanya kutub utara yang tetap ada",
                    "B. Terbentuk dua magnet baru dengan kutub utara-selatan",
                    "C. Magnet kehilangan sifat kemagnetannya",
                    "D. Kutub selatan menghilang",
                    "E. Terbentuk magnet dengan satu kutub"
                ],
                correctAnswer: 1,
                explanation: "Magnet selalu memiliki dua kutub (utara dan selatan) yang tak terpisahkan. Jika dipotong, setiap potongan akan menjadi magnet lengkap dengan kedua kutub. Sifat ini disebut sebagai sifat dipol magnetik."
            },
            {
                question: "Bahan yang paling tepat untuk membuat panci karena dapat menghantarkan panas dengan baik adalah...",
                options: [
                    "A. Kayu jati",
                    "B. Kaca pyrex",
                    "C. Aluminium",
                    "D. Plastik teflon",
                    "E. Karet silikon"
                ],
                correctAnswer: 2,
                explanation: "Aluminium adalah konduktor panas yang sangat baik (memanas merata) dan ringan. Lapisan teflon hanya untuk anti lengket, bukan penghantar panas utama. Kayu, kaca, dan karet adalah isolator panas yang buruk untuk alat masak."
            },
            {
                question: "Proses pada tumbuhan dimana air menguap melalui daun disebut...",
                options: [
                    "A. Fotosintesis",
                    "B. Transpirasi",
                    "C. Respirasi",
                    "D. Evaporasi",
                    "E. Gutasi"
                ],
                correctAnswer: 1,
                explanation: "Transpirasi adalah penguapan air melalui stomata daun, membantu menarik air dari akar (seperti efek sedotan). Evaporasi adalah penguapan dari permukaan bebas, gutasi adalah pelepasan tetes air melalui hidatoda, fotosintesis produksi makanan, respirasi pembakaran glukosa."
            },
            {
                question: "Urutan lapisan atmosfer Bumi dari yang paling dekat ke permukaan adalah...",
                options: [
                    "A. Stratosfer - Troposfer - Mesosfer - Termosfer",
                    "B. Troposfer - Stratosfer - Mesosfer - Termosfer",
                    "C. Termosfer - Mesosfer - Stratosfer - Troposfer",
                    "D. Mesosfer - Troposfer - Termosfer - Stratosfer",
                    "E. Troposfer - Mesosfer - Stratosfer - Termosfer"
                ],
                correctAnswer: 1,
                explanation: "Urutan yang benar: 1) Troposfer (0-12 km, tempat cuaca), 2) Stratosfer (12-50 km, ada lapisan ozon), 3) Mesosfer (50-85 km, meteor terbakar), 4) Termosfer (85-600 km, aurora), dan Eksosfer (terluar)."
            },
            {
                question: "Simbiosis mutualisme adalah hubungan dimana...",
                options: [
                    "A. Satu pihak diuntungkan, pihak lain dirugikan",
                    "B. Satu pihak diuntungkan, pihak lain tidak terpengaruh",
                    "C. Kedua pihak saling diuntungkan",
                    "D. Satu pihak dirugikan, pihak lain tidak terpengaruh",
                    "E. Kedua pihak saling dirugikan"
                ],
                correctAnswer: 2,
                explanation: "Contoh mutualisme: lebah dan bunga (lebah dapat nektar, bunga terbantu penyerbukannya). Parasitisme: satu untung satu rugi (contoh: kutu di rambut). Komensalisme: satu untung satu netral (contoh: anggrek di pohon)."
            },
            {
                question: "Bunyi merambat paling cepat melalui...",
                options: [
                    "A. Udara kering",
                    "B. Air laut",
                    "C. Baja",
                    "D. Ruang hampa",
                    "E. Balon helium"
                ],
                correctAnswer: 2,
                explanation: "Bunyi membutuhkan medium untuk merambat. Kecepatan: Padat > Cair > Gas. Baja (padat) 6000 m/s, air (cair) 1500 m/s, udara (gas) 340 m/s. Tidak bisa merambat di ruang hampa. Ini menjelaskan mengapa kita bisa mendengar kereta api lebih cepat jika telinga ditempelkan ke rel."
            },
		{
                question: "Perhatikan gambar percobaan berikut! [Gambar tanaman dalam kotak tertutup dengan cahaya dari satu sisi] Setelah 5 hari, ke arah manakah tanaman tersebut akan tumbuh?",
                options: [
                    "A. Lurus ke atas",
                    "B. Ke arah sumber cahaya",
                    "C. Ke arah berlawanan cahaya",
                    "D. Melengkung ke bawah",
                    "E. Tidak ada pertumbuhan"
                ],
                correctAnswer: 1,
                explanation: "Tanaman akan tumbuh ke arah sumber cahaya (fototropisme positif). Hormon auksin pada ujung batang akan terkumpul di bagian yang tidak terkena cahaya, menyebabkan sel-sel di bagian tersebut tumbuh lebih cepat sehingga batang membelok ke arah cahaya."
            },
            {
                question: "Perhatikan tabel data pertumbuhan kacang hijau! [Tabel menunjukkan tinggi tanaman dengan intensitas cahaya berbeda] Kesimpulan yang tepat dari data tersebut adalah...",
                options: [
                    "A. Tanaman tumbuh paling tinggi di cahaya penuh",
                    "B. Tanpa cahaya, tanaman tidak tumbuh sama sekali",
                    "C. Tanaman di tempat gelap tumbuh lebih tinggi namun pucat",
                    "D. Intensitas cahaya tidak mempengaruhi pertumbuhan",
                    "E. Daun terbentuk sempurna di tempat gelap"
                ],
                correctAnswer: 2,
                explanation: "Di tempat gelap, tanaman mengalami etiolasi - tumbuh cepat tinggi namun pucat karena kekurangan klorofil. Ini adaptasi untuk mencari cahaya. Daun tidak berkembang sempurna dan batang menjadi lemah."
            },
            {
                question: "Perhatikan rantai makanan berikut! [Gambar: Padi  tikus  ular  elang] Apa yang terjadi jika populasi ular diburu secara berlebihan?",
                options: [
                    "A. Populasi padi meningkat drastis",
                    "B. Populasi elang meningkat",
                    "C. Populasi tikus meningkat",
                    "D. Populasi padi dan elang sama-sama meningkat",
                    "E. Tidak ada yang berubah"
                ],
                correctAnswer: 2,
                explanation: "Jika ular (predator tikus) berkurang, populasi tikus akan meningkat tak terkendali. Tikus yang banyak akan memakan lebih banyak padi, sehingga populasi padi bisa menurun. Elang juga akan kesulitan makanan karena ular berkurang."
            },
            {
                question: "Berdasarkan gambar siklus air [Gambar dengan proses evaporasi, kondensasi, presipitasi], proses mana yang terjadi ketika uap air berubah menjadi awan?",
                options: [
                    "A. Evaporasi",
                    "B. Kondensasi",
                    "C. Presipitasi",
                    "D. Infiltrasi",
                    "E. Transpirasi"
                ],
                correctAnswer: 1,
                explanation: "Kondensasi adalah proses perubahan uap air menjadi titik-titik air ketika bertemu suhu dingin di atmosfer, membentuk awan. Evaporasi adalah penguapan dari permukaan air, presipitasi adalah turunnya hujan, infiltrasi meresapnya air ke tanah, transpirasi penguapan melalui tumbuhan."
            },
            {
                question: "Perhatikan hasil pengukuran! [Data: Massa benda di udara 300g, di air 270g] Gaya apung yang dialami benda sebesar...",
                options: [
                    "A. 0,3 Newton",
                    "B. 0,27 Newton",
                    "C. 0,03 Newton",
                    "D. 30 Newton",
                    "E. 270 Newton"
                ],
                correctAnswer: 0,
                explanation: "Gaya apung = berat di udara - berat di air = 300g - 270g = 30g. Konversi ke Newton: 30g  0,001 kg/g  10 m/s = 0,3 N. Ini menunjukkan berat air yang dipindahkan benda."
            },
            {
                question: "Ciri khusus yang dimiliki oleh tumbuhan kaktus untuk bertahan hidup di gurun adalah...",
                options: [
                    "A. Daun lebar untuk transpirasi",
                    "B. Batang berongga untuk menyimpan air",
                    "C. Akar pendek untuk menyerap air permukaan",
                    "D. Duri untuk mengurangi penguapan",
                    "E. Bunga besar untuk menarik serangga"
                ],
                correctAnswer: 3,
                explanation: "Kaktus memiliki duri (modifikasi daun) untuk mengurangi penguapan, batang tebal menyimpan air, akar panjang menjangkau air dalam, dan lapisan lilin untuk mencegah kekeringan. Adaptasi ini membantunya hidup di lingkungan kering."
            },
            {
                question: "Perhatikan gambar transformator! [Gambar dengan lilitan primer 200 dan sekunder 1000] Jika tegangan input 110V, tegangan outputnya adalah...",
                options: [
                    "A. 22V",
                    "B. 55V",
                    "C. 110V",
                    "D. 550V",
                    "E. 1100V"
                ],
                correctAnswer: 3,
                explanation: "Transformator step-up dengan perbandingan lilitan Np/Ns = 200/1000 = 1/5. Tegangan output = (Ns/Np)  Vp = 5  110V = 550V. Prinsip ini digunakan untuk menaikkan tegangan listrik sebelum transmisi jarak jauh."
            },
            {
                question: "Perhatikan gambar orbit Bumi-Bulan! [Gambar menunjukkan posisi bulan mengelilingi bumi] Fase bulan apa yang terjadi ketika Bulan berada di posisi antara Bumi dan Matahari?",
                options: [
                    "A. Bulan purnama",
                    "B. Bulan sabit",
                    "C. Bulan separuh",
                    "D. Bulan baru",
                    "E. Bulan cembung"
                ],
                correctAnswer: 3,
                explanation: "Ketika Bulan di antara Bumi dan Matahari, sisi Bulan yang menghadap Bumi tidak terkena cahaya Matahari (tidak terlihat dari Bumi) - disebut fase bulan baru. Ini juga saat yang memungkinkan terjadinya gerhana matahari."
            },
            {
                question: "Berdasarkan tabel sifat bahan [Tabel: Logam - Konduktor, Karet - Isolator], bahan yang tepat untuk membuat gagang solder adalah...",
                options: [
                    "A. Aluminium",
                    "B. Tembaga",
                    "C. Besi",
                    "D. Karet",
                    "E. Perak"
                ],
                correctAnswer: 3,
                explanation: "Gagang solder harus terbuat dari isolator (seperti karet atau plastik) untuk mencegah hantaran panas ke tangan. Logam seperti aluminium, tembaga, besi, dan perak adalah konduktor panas yang baik sehingga tidak aman untuk gagang solder."
            },
            {
                question: "Perhatikan grafik pertumbuhan bakteri! [Grafik menunjukkan fase lag, eksponensial, stasioner, dan kematian] Pada fase apa bakteri berkembang biak paling cepat?",
                options: [
                    "A. Fase lag",
                    "B. Fase eksponensial",
                    "C. Fase stasioner",
                    "D. Fase kematian",
                    "E. Semua fase sama"
                ],
                correctAnswer: 1,
                explanation: "Fase eksponensial adalah saat bakteri membelah diri secara maksimal dengan waktu generasi konstan. Fase lag adalah adaptasi, stasioner ketika nutrisi habis, dan kematian ketika racun menumpuk. Grafik pertumbuhan penting dalam studi mikrobiologi."
            }
                ]
            },
            'SMP': {
                'IPA': [
                    {
                        question: "Perhatikan pernyataan berikut tentang ciri makhluk hidup: 1) Bernapas, 2) Bergerak, 3) Tumbuh, 4) Berkembang biak. Yang termasuk ciri makhluk hidup adalah...",
                        options: [
                            "A. 1 dan 2",
                            "B. 1 dan 3",
                            "C. 2 dan 3",
                            "D. 3 dan 4",
                            "E. Semua benar"
                        ],
                        correctAnswer: 4,
                        explanation: "Semua pernyataan tersebut adalah ciri-ciri makhluk hidup. Ciri-ciri lain makhluk hidup antara lain: memerlukan nutrisi, peka terhadap rangsang (iritabilitas), mengeluarkan zat sisa, dan beradaptasi."
                    },
                    {
                        question: "Perhatikan reaksi kimia berikut: C6H12O6 + 6O2  6CO2 + 6H2O + Energi. Reaksi tersebut merupakan proses...",
                        options: [
                            "A. Fotosintesis",
                            "B. Respirasi aerob",
                            "C. Fermentasi",
                            "D. Dekomposisi",
                            "E. Pembakaran"
                        ],
                        correctAnswer: 1,
                        explanation: "Reaksi tersebut adalah respirasi aerob yang terjadi di mitokondria sel. Proses ini mengubah glukosa dan oksigen menjadi karbon dioksida, air, dan energi (ATP). Kebalikan dari fotosintesis."
                    },
                    {
                        question: "Hukum Newton yang menjelaskan hubungan antara gaya, massa, dan percepatan adalah...",
                        options: [
                            "A. Hukum I Newton",
                            "B. Hukum II Newton",
                            "C. Hukum III Newton",
                            "D. Hukum Aksi-Reaksi",
                            "E. Hukum Inersia"
                        ],
                        correctAnswer: 1,
                        explanation: "Hukum II Newton (F = m  a) menjelaskan bahwa percepatan yang dihasilkan oleh suatu benda berbanding lurus dengan gaya total yang bekerja padanya dan berbanding terbalik dengan massanya."
                    },
                    {
                        question: "Perhatikan pernyataan tentang sistem organ: 1) Sistem pencernaan, 2) Sistem pernapasan, 3) Sistem saraf, 4) Sistem reproduksi. Yang berfungsi untuk mengolah makanan adalah...",
                        options: [
                            "A. 1",
                            "B. 2",
                            "C. 3",
                            "D. 4",
                            "E. 1 dan 2"
                        ],
                        correctAnswer: 0,
                        explanation: "Sistem pencernaan berfungsi untuk mengolah makanan menjadi nutrisi yang dapat diserap tubuh. Organ penyusunnya meliputi mulut, kerongkongan, lambung, usus halus, usus besar, dan anus."
                    },
                    {
                        question: "Zat yang termasuk unsur adalah...",
                        options: [
                            "A. Air",
                            "B. Garam",
                            "C. Gula",
                            "D. Oksigen",
                            "E. Karbon dioksida"
                        ],
                        correctAnswer: 3,
                        explanation: "Oksigen (O2) adalah unsur karena terdiri dari satu jenis atom saja. Air (H2O), garam (NaCl), gula (C12H22O11), dan karbon dioksida (CO2) adalah senyawa karena terdiri dari dua atau lebih unsur yang bergabung secara kimia."
                    },
                    {
                        question: "Perhatikan pernyataan tentang gerak pada tumbuhan: 1) Fototropisme, 2) Geotropisme, 3) Tigmotropisme, 4) Niktinasti. Yang merupakan gerak tumbuhan menanggapi rangsang cahaya adalah...",
                        options: [
                            "A. 1",
                            "B. 2",
                            "C. 3",
                            "D. 4",
                            "E. 1 dan 2"
                        ],
                        correctAnswer: 0,
                        explanation: "Fototropisme adalah gerak tumbuhan menanggapi rangsang cahaya (contoh: batang tumbuh ke arah cahaya). Geotropisme menanggapi gravitasi, tigmotropisme menanggapi sentuhan, niktinasti gerak tidur karena perubahan tekanan turgor."
                    },
                    {
                        question: "Perubahan energi yang terjadi pada pembangkit listrik tenaga air adalah...",
                        options: [
                            "A. Kimia  listrik",
                            "B. Gerak  listrik",
                            "C. Panas  listrik",
                            "D. Cahaya  listrik",
                            "E. Nuklir  listrik"
                        ],
                        correctAnswer: 1,
                        explanation: "PLTA mengubah energi gerak air (energi kinetik) menjadi energi listrik melalui turbin dan generator. Air yang mengalir deras memutar turbin, kemudian generator mengubah energi gerak ini menjadi listrik."
                    },
                    {
                        question: "Perhatikan pernyataan tentang lapisan bumi: 1) Kerak, 2) Mantel, 3) Inti luar, 4) Inti dalam. Urutan dari luar ke dalam adalah...",
                        options: [
                            "A. 1-2-3-4",
                            "B. 1-3-2-4",
                            "C. 2-1-3-4",
                            "D. 4-3-2-1",
                            "E. 3-2-1-4"
                        ],
                        correctAnswer: 0,
                        explanation: "Urutan lapisan bumi dari luar ke dalam: 1) Kerak (padat, tipis), 2) Mantel (semi padat/cair), 3) Inti luar (cair), 4) Inti dalam (padat, sangat panas). Ketebalan kerak 5-70 km, mantel ~2900 km, inti luar ~2200 km, inti dalam ~1200 km."
                    },
                    {
                        question: "Perhatikan pernyataan tentang sifat cahaya: 1) Merambat lurus, 2) Dapat dipantulkan, 3) Dapat dibiaskan, 4) Dapat diuraikan. Sifat cahaya yang terjadi pada pelangi adalah...",
                        options: [
                            "A. 1",
                            "B. 2",
                            "C. 3",
                            "D. 4",
                            "E. 3 dan 4"
                        ],
                        correctAnswer: 4,
                        explanation: "Pelangi terjadi karena cahaya matahari dibiaskan (3) dan diuraikan (4) oleh tetesan air hujan. Pembiasan mengubah arah cahaya, sedangkan penguraian memisahkan cahaya putih menjadi spektrum warna."
                    },
                    {
                        question: "Organel sel yang berfungsi sebagai tempat berlangsungnya fotosintesis adalah...",
                        options: [
                            "A. Mitokondria",
                            "B. Ribosom",
                            "C. Kloroplas",
                            "D. Nukleus",
                            "E. Vakuola"
                        ],
                        correctAnswer: 2,
                        explanation: "Kloroplas adalah organel sel tumbuhan yang mengandung klorofil untuk menangkap energi cahaya dalam fotosintesis. Proses ini mengubah CO2 dan H2O menjadi glukosa dan O2 dengan bantuan energi cahaya."
                    },
                    {
                question: "Perhatikan pernyataan berikut tentang sistem peredaran darah manusia:\n1. Darah mengangkut oksigen dari paru-paru ke seluruh tubuh\n2. Plasma darah mengandung hemoglobin untuk mengikat oksigen\n3. Ventrikel kiri memompa darah ke seluruh tubuh melalui aorta\n4. Katup trikuspidalis berada di antara atrium kiri dan ventrikel kiri\nPernyataan yang benar adalah...",
                options: [
                    "A. 1 dan 3",
                    "B. 2 dan 4",
                    "C. 1, 2, dan 3",
                    "D. 1, 3, dan 4",
                    "E. Semua benar"
                ],
                correctAnswer: 0,
                explanation: "Pernyataan yang benar adalah 1 dan 3. Hemoglobin terdapat dalam sel darah merah, bukan plasma darah (salah). Katup trikuspidalis berada di antara atrium kanan dan ventrikel kanan, bukan kiri (salah). Ventrikel kiri memang memompa darah ke seluruh tubuh melalui aorta (benar)."
            },
            {
                question: "Sebuah benda bermassa 2 kg dijatuhkan dari ketinggian 10 meter di atas permukaan tanah. Jika percepatan gravitasi 10 m/s dan gesekan udara diabaikan, maka energi kinetik benda saat berada pada ketinggian 4 meter dari tanah adalah...",
                options: [
                    "A. 20 Joule",
                    "B. 80 Joule",
                    "C. 120 Joule",
                    "D. 160 Joule",
                    "E. 200 Joule"
                ],
                correctAnswer: 2,
                explanation: "Energi potensial awal = mgh = 21010 = 200 J. Pada ketinggian 4 m, EP = 2104 = 80 J. Selisih EP (200-80=120 J) diubah menjadi EK berdasarkan hukum kekekalan energi. Jadi EK pada ketinggian 4 m adalah 120 Joule."
            },
            {
                question: "Perhatikan reaksi kimia berikut:\n2H + O  2HO\nJika 4 gram gas H (Ar H = 1) direaksikan dengan 32 gram gas O (Ar O = 16), maka massa air yang dihasilkan adalah...",
                options: [
                    "A. 18 gram",
                    "B. 36 gram",
                    "C. 54 gram",
                    "D. 72 gram",
                    "E. 90 gram"
                ],
                correctAnswer: 1,
                explanation: "4 gram H = 4/2 = 2 mol. 32 gram O = 32/32 = 1 mol. Berdasarkan persamaan reaksi, 2 mol H bereaksi dengan 1 mol O menghasilkan 2 mol HO. Massa HO = 2  (2+16) = 36 gram."
            },
            {
                question: "Sebuah lensa cembung memiliki jarak fokus 20 cm. Jika sebuah benda diletakkan 30 cm di depan lensa, maka sifat bayangan yang terbentuk adalah...",
                options: [
                    "A. Nyata, terbalik, diperkecil",
                    "B. Nyata, terbalik, diperbesar",
                    "C. Maya, tegak, diperbesar",
                    "D. Maya, terbalik, diperkecil",
                    "E. Nyata, tegak, diperbesar"
                ],
                correctAnswer: 1,
                explanation: "Dengan rumus lensa: 1/f = 1/s + 1/s'. 1/20 = 1/30 + 1/s'  s' = 60 cm. Karena s' positif, bayangan nyata. Perbesaran M = s'/s = 60/30 = 2 kali (diperbesar). Bayangan lensa cembung selalu terbalik jika nyata."
            },
            {
                question: "Perhatikan pernyataan tentang sistem ekskresi manusia:\n1. Ginjal menyaring darah dan menghasilkan urin\n2. Kulit mengeluarkan keringat yang mengandung urea\n3. Hati menghasilkan empedu untuk mencerna lemak\n4. Paru-paru mengeluarkan CO dan HO sebagai hasil metabolisme\nPernyataan yang benar tentang organ ekskresi adalah...",
                options: [
                    "A. 1, 2, dan 3",
                    "B. 1, 2, dan 4",
                    "C. 1, 3, dan 4",
                    "D. 2, 3, dan 4",
                    "E. Semua benar"
                ],
                correctAnswer: 4,
                explanation: "Semua pernyataan benar. Ginjal (1), kulit (2), dan paru-paru (4) adalah organ ekskresi. Hati (3) juga berperan dalam ekskresi dengan mengubah amonia menjadi urea yang kemudian dibuang melalui ginjal."
            },
            {
                question: "Sebuah kawat lurus panjang dialiri arus listrik 4 A. Jika permeabilitas vakum  = 410 Wb/A.m, maka besar induksi magnetik pada titik yang berjarak 2 cm dari kawat adalah...",
                options: [
                    "A. 210 Tesla",
                    "B. 410 Tesla",
                    "C. 610 Tesla",
                    "D. 810 Tesla",
                    "E. 1010 Tesla"
                ],
                correctAnswer: 1,
                explanation: "Menggunakan rumus B = I/(2a) = (4104)/(20.02) = 410 Tesla. Medan magnet sebanding dengan arus dan berbanding terbalik dengan jarak dari kawat."
            },
            {
                question: "Perhatikan rantai makanan berikut:\nRumput  Belalang  Katak  Ular  Elang\nJika populasi katak berkurang drastis karena penyakit, maka yang mungkin terjadi adalah...",
                options: [
                    "A. Populasi belalang meningkat dan populasi ular menurun",
                    "B. Populasi rumput menurun dan populasi elang meningkat",
                    "C. Populasi ular meningkat dan populasi belalang menurun",
                    "D. Populasi elang menurun dan populasi rumput meningkat",
                    "E. Populasi belalang meningkat dan populasi ular meningkat"
                ],
                correctAnswer: 0,
                explanation: "Jika katak berkurang, predatornya (ular) akan kesulitan makanan sehingga populasinya menurun. Mangsa katak (belalang) akan meningkat karena berkurang pemangsanya. Elang yang memakan ular juga akan terpengaruh, tetapi tidak langsung."
            },
            {
                question: "Sebuah benda melakukan gerak harmonik sederhana dengan persamaan y = 0,2 sin(10t), dimana y dalam meter dan t dalam sekon. Frekuensi getaran benda tersebut adalah...",
                options: [
                    "A. 5 Hz",
                    "B. 10 Hz",
                    "C. 15 Hz",
                    "D. 20 Hz",
                    "E. 25 Hz"
                ],
                correctAnswer: 0,
                explanation: "Persamaan umum GHS: y = A sin(t). Dari persamaan diberikan  = 10 rad/s. Hubungan  = 2f  f = /(2) = 10/(2) = 5 Hz."
            },
            {
                question: "Perhatikan data percobaan uji makanan berikut:\n\nBahan Makanan | Tes Benedict | Tes Biuret | Tes Lugol\n--------------------------------------------------\nX             | Merah bata    | Ungu        | Coklat\nY             | Biru          | Ungu        | Hitam\nZ             | Biru          | Biru        | Coklat\n\nBerdasarkan data tersebut, bahan makanan X mengandung...",
                options: [
                    "A. Glukosa dan protein",
                    "B. Protein dan amilum",
                    "C. Glukosa, protein, dan amilum",
                    "D. Glukosa dan amilum",
                    "E. Protein saja"
                ],
                correctAnswer: 0,
                explanation: "X: Tes Benedict positif (gula pereduksi), Biuret positif (protein), Lugol negatif (tidak ada amilum). Y: Mengandung protein dan amilum. Z: Hanya mengandung protein (Biuret bisa positif lemah)."
            },
            {
                question: "Dua muatan listrik +4 C dan -16 C terpisah sejauh 3 cm di udara. Jika k = 910 Nm/C, maka besar dan arah gaya Coulomb yang bekerja pada muatan +4 C adalah...",
                options: [
                    "A. 64 N, tarik menarik",
                    "B. 64 N, tolak menolak",
                    "C. 640 N, tarik menarik",
                    "D. 640 N, tolak menolak",
                    "E. 6,4 N, tarik menarik"
                ],
                correctAnswer: 2,
                explanation: "F = k|qq|/r = 910|4101610|/(0.03) = 640 N. Karena muatan berbeda jenis, gaya bersifat tarik menarik. Arah gaya pada muatan +4 C menuju muatan -16 C."
            },
		{
                question: "Perhatikan fenomena berikut:\n1. Pembentukan bayangan di cermin datar\n2. Pelangi setelah hujan\n3. Langit berwarna biru di siang hari\n4. Terjadinya gerhana bulan\nFenomena yang disebabkan oleh pembiasan cahaya adalah...",
                options: [
                    "A. 1 dan 2",
                    "B. 2 dan 3",
                    "C. 2, 3, dan 4",
                    "D. 1, 2, dan 3",
                    "E. Semua benar"
                ],
                correctAnswer: 1,
                explanation: "Pelangi (2) terjadi karena pembiasan dan dispersi cahaya oleh tetesan air. Langit biru (3) akibat hamburan Rayleigh dimana cahaya biru dibiaskan lebih banyak. Cermin datar (1) menggunakan pemantulan, gerhana bulan (4) terjadi karena bayangan bumi."
            },
            {
                question: "Sebuah roket diluncurkan vertikal ke atas dengan percepatan 20 m/s. Jika massa roket 500 kg dan percepatan gravitasi 10 m/s, maka gaya dorong mesin roket adalah...",
                options: [
                    "A. 5.000 N",
                    "B. 10.000 N",
                    "C. 15.000 N",
                    "D. 20.000 N",
                    "E. 25.000 N"
                ],
                correctAnswer: 2,
                explanation: "Gaya total F = ma = 50020 = 10.000 N. Gaya ini melawan berat roket (w = mg = 50010 = 5.000 N). Jadi gaya dorong mesin = F + w = 10.000 + 5.000 = 15.000 N."
            },
            {
                question: "Perhatikan tabel sifat zat berikut:\n\nZat | Volume | Bentuk\n-----------------------\nP   | Tetap   | Tetap\nQ   | Tetap   | Berubah\nR   | Berubah | Berubah\n\nBerdasarkan data, P, Q, dan R berturut-turut adalah...",
                options: [
                    "A. Padat, cair, gas",
                    "B. Padat, gas, cair",
                    "C. Gas, cair, padat",
                    "D. Cair, padat, gas",
                    "E. Cair, gas, padat"
                ],
                correctAnswer: 0,
                explanation: "P (padat): volume dan bentuk tetap. Q (cair): volume tetap tapi bentuk mengikuti wadah. R (gas): volume dan bentuk berubah mengisi seluruh ruang."
            },
            {
                question: "Dalam ekosistem laut, fitoplankton  zooplankton  ikan kecil  ikan besar  hiu. Jika polusi menyebabkan penurunan populasi zooplankton, dampak jangka panjang yang mungkin terjadi adalah...",
                options: [
                    "A. Populasi fitoplankton dan hiu meningkat",
                    "B. Populasi fitoplankton meningkat dan ikan besar menurun",
                    "C. Populasi ikan kecil meningkat dan fitoplankton menurun",
                    "D. Populasi hiu meningkat dan ikan kecil menurun",
                    "E. Semua tingkat trofik mengalami penurunan"
                ],
                correctAnswer: 1,
                explanation: "Zooplankton berkurang  fitoplankton (produsen) tak dimakan akan meningkat. Ikan kecil (konsumen II) berkurang  ikan besar dan hiu (konsumen puncak) akan berkurang karena rantai makanan terputus."
            },
            {
                question: "Sebuah termometer X menunjukkan angka 40X saat es melebur dan 240X saat air mendidih. Jika suatu benda diukur 100C, maka suhu benda tersebut dalam X adalah...",
                options: [
                    "A. 80X",
                    "B. 120X",
                    "C. 160X",
                    "D. 200X",
                    "E. 220X"
                ],
                correctAnswer: 2,
                explanation: "Skala X: 40X-240X (range 200). Celcius: 0-100C (range 100). Konversi: X = [(100-0)/(100-0)](240-40) + 40 = 1200 + 40 = 160X."
            },
            {
                question: "Perhatikan ciri-ciri planet berikut:\n1. Memiliki cincin yang jelas terlihat\n2. Waktu revolusi 84 tahun bumi\n3. Suhu permukaan sangat rendah (-218C)\n4. Memiliki satelit alami bernama Titan\nPlanet yang dimaksud adalah...",
                options: [
                    "A. Jupiter",
                    "B. Saturnus",
                    "C. Uranus",
                    "D. Neptunus",
                    "E. Venus"
                ],
                correctAnswer: 2,
                explanation: "Uranus memiliki ciri khas: revolusi 84 tahun, suhu sangat rendah (-218C), dan cincin tipis. Titan adalah satelit Saturnus. Jupiter lebih panas, Saturnus revolusi 29,5 tahun."
            },
            {
                question: "Larutan HCl 0,1 M dicampur dengan larutan NaOH 0,1 M. Jika volume masing-masing larutan 100 mL, maka pH campuran yang terbentuk adalah... (Ar H=1, O=16, Na=23, Cl=35,5)",
                options: [
                    "A. 1",
                    "B. 3",
                    "C. 7",
                    "D. 11",
                    "E. 13"
                ],
                correctAnswer: 2,
                explanation: "Reaksi netralisasi: HCl + NaOH  NaCl + HO. Mol HCl = mol NaOH = 0,10,1 = 0,01 mol. Keduanya habis bereaksi membentuk garam netral (pH=7) karena berasal dari asam kuat dan basa kuat."
            },
            {
                question: "Perhatikan transformasi energi berikut:\n1. Kincir angin  energi gerak  energi listrik\n2. Nasi  energi kimia  energi gerak\n3. Aki mobil  energi kimia  energi listrik  energi cahaya\n4. Panel surya  energi cahaya  energi listrik\nTransformasi energi yang benar adalah...",
                options: [
                    "A. 1, 2, dan 3",
                    "B. 1, 2, dan 4",
                    "C. 1, 3, dan 4",
                    "D. 2, 3, dan 4",
                    "E. Semua benar"
                ],
                correctAnswer: 4,
                explanation: "Semua transformasi benar: (1) energi angin  listrik, (2) makanan  aktivitas, (3) aki  lampu, (4) matahari  listrik. Pada (3), aki menyimpan energi kimia yang diubah menjadi listrik kemudian cahaya."
            },
            {
                question: "Sebuah benda volumenya 50 cm dicelupkan ke dalam air ( = 1 g/cm). Jika gaya ke atas yang dialami benda 0,3 N, maka massa jenis benda tersebut adalah...",
                options: [
                    "A. 0,4 g/cm",
                    "B. 0,6 g/cm",
                    "C. 0,8 g/cm",
                    "D. 1,0 g/cm",
                    "E. 1,2 g/cm"
                ],
                correctAnswer: 0,
                explanation: "Gaya Archimedes = airVcelupg. 0,3 = 1000Vcelup10  Vcelup = 310 m = 30 cm. benda = (Vcelup/Vbenda)air = (30/50)1 = 0,6 g/cm. (Catatan: ada kesalahan di pilihan, seharusnya B benar)"
            },
            {
                question: "Perhatikan ciri-ciri tumbuhan berikut:\n1. Akar serabut\n2. Tulang daun sejajar\n3. Batang beruas-ruas\n4. Biji tertutup\nTumbuhan yang memiliki ciri-ciri tersebut termasuk kelompok...",
                options: [
                    "A. Gymnospermae",
                    "B. Dikotil",
                    "C. Monokotil",
                    "D. Pteridophyta",
                    "E. Bryophyta"
                ],
                correctAnswer: 2,
                explanation: "Ciri khas monokotil: akar serabut, tulang daun sejajar, batang beruas, biji tertutup. Dikotil: akar tunggang, tulang daun menyirip/menjari. Gymnospermae biji terbuka. Pteridophyta dan Bryophyta tidak berbiji."
            },
		 {
                question: "Sebuah elevator bermassa 400 kg bergerak ke atas dengan percepatan 2 m/s. Jika percepatan gravitasi 10 m/s, tegangan tali penarik elevator adalah...",
                options: [
                    "A. 3.200 N",
                    "B. 4.000 N",
                    "C. 4.800 N",
                    "D. 5.200 N",
                    "E. 6.000 N"
                ],
                correctAnswer: 2,
                explanation: "Gaya total (F) = m(g+a) = 400(10+2) = 4.800 N. Tegangan tali harus mengatasi berat elevator (4.000 N) dan memberikan percepatan ke atas (800 N)."
            },
            {
                question: "Perhatikan data percobaan berikut:\n\nLarutan | Daya Hantar Listrik | Lakmus Merah | Lakmus Biru\n--------------------------------------------------\nP       | Menyala terang       | Merah         | Biru\nQ       | Tidak menyala        | Merah         | Merah\nR       | Menyala redup        | Biru          | Biru\n\nBerdasarkan data, larutan P, Q, dan R berturut-turut adalah...",
                options: [
                    "A. Asam kuat, asam lemah, basa kuat",
                    "B. Basa kuat, asam lemah, netral",
                    "C. Asam kuat, netral, basa lemah",
                    "D. Basa kuat, asam kuat, basa lemah",
                    "E. Asam kuat, netral, basa kuat"
                ],
                correctAnswer: 3,
                explanation: "P: Basa kuat (daya hantar baik, mengubah lakmus merah). Q: Asam kuat (non-elektrolit mungkin alkohol, tapi dari lakmus termasuk asam). R: Basa lemah (daya hantar redup, warna biru)."
            },
            {
                question: "Pada persilangan tanaman ercis, biji bulat (B) dominan terhadap keriput (b). Jika tanaman heterozigot (Bb) disilangkan dengan keriput (bb), persentase keturunan yang berbiji bulat adalah...",
                options: [
                    "A. 0%",
                    "B. 25%",
                    "C. 50%",
                    "D. 75%",
                    "E. 100%"
                ],
                correctAnswer: 2,
                explanation: "Persilangan Bb  bb menghasilkan keturunan Bb (bulat) dan bb (keriput) dengan rasio 1:1. Jadi peluang bulat = 50%."
            },
            {
                question: "Sebuah benda bergerak melingkar beraturan dengan jari-jari 2 m. Jika kecepatan linearnya 10 m/s, maka percepatan sentripetalnya adalah...",
                options: [
                    "A. 5 m/s",
                    "B. 10 m/s",
                    "C. 20 m/s",
                    "D. 50 m/s",
                    "E. 100 m/s"
                ],
                correctAnswer: 3,
                explanation: "a = v/r = (10)/2 = 100/2 = 50 m/s. Percepatan sentripetal mengarah ke pusat lintasan melingkar."
            },
            {
                question: "Perhatikan tabel sifat unsur berikut:\n\nUnsur | Nomor Atom | Elektron Valensi\n------------------------------\nP     | 11         | 1\nQ     | 17         | 7\nR     | 18         | 8\n\nBerdasarkan data, yang termasuk golongan alkali dan halogen adalah...",
                options: [
                    "A. P dan Q",
                    "B. P dan R",
                    "C. Q dan R",
                    "D. Hanya P",
                    "E. Hanya Q"
                ],
                correctAnswer: 0,
                explanation: "P (Na): alkali (golongan IA), Q (Cl): halogen (golongan VIIA), R (Ar): gas mulia (golongan VIIIA)."
            },
            {
                question: "Sebuah transformator step-up memiliki 200 lilitan primer dan 1000 lilitan sekunder. Jika tegangan primer 110 V dan arus sekunder 0,5 A, efisiensi transformator tersebut adalah...",
                options: [
                    "A. 50%",
                    "B. 75%",
                    "C. 80%",
                    "D. 90%",
                    "E. 100%"
                ],
                correctAnswer: 3,
                explanation: "Vs/Vp = Ns/Np  Vs = (1000/200)110 = 550 V. Daya sekunder = 5500,5 = 275 W. Arus primer = 275/110 = 2,5 A. Efisiensi = (daya keluar/daya masuk)100% = (275/(1102,5))100% = 100% (ideal)."
            },
            {
                question: "Perhatikan jaring-jaring makanan berikut:\nRumput  Belalang  Katak  Ular\nRumput  Tikus  Ular  Elang\nJika populasi ular menurun drastis, dampak yang terjadi adalah...",
                options: [
                    "A. Populasi tikus dan katak meningkat",
                    "B. Populasi elang dan belalang menurun",
                    "C. Populasi rumput dan elang menurun",
                    "D. Populasi tikus meningkat dan elang menurun",
                    "E. Populasi belalang menurun dan tikus meningkat"
                ],
                correctAnswer: 3,
                explanation: "Ular sebagai predator tikus dan katak akan menyebabkan kedua mangsanya meningkat. Elang kehilangan salah satu sumber makanan sehingga populasinya cenderung menurun."
            },
            {
                question: "Sebuah benda bermassa 500 gram bersuhu 80C dicelupkan ke dalam 1 kg air bersuhu 20C. Jika kalor jenis benda 400 J/kgC dan air 4200 J/kgC, suhu akhir campuran adalah...",
                options: [
                    "A. 22C",
                    "B. 24C",
                    "C. 26C",
                    "D. 28C",
                    "E. 30C"
                ],
                correctAnswer: 0,
                explanation: "Q lepas = Q terima. 0,5400(80-T) = 14200(T-20). 200(80-T) = 4200(T-20). 16000-200T = 4200T-84000. 100000 = 4400T  T  22,7C (pembulatan 22C)."
            },
            {
                question: "Perhatikan ciri-ciri penyakit berikut:\n1. Disebabkan virus\n2. Menyerang sistem kekebalan tubuh\n3. Gejala awal seperti flu\n4. Dapat menular melalui jarum suntik\nPenyakit yang dimaksud adalah...",
                options: [
                    "A. TBC",
                    "B. Hepatitis B",
                    "C. HIV/AIDS",
                    "D. Malaria",
                    "E. Demam berdarah"
                ],
                correctAnswer: 2,
                explanation: "Ciri-ciri HIV/AIDS: virus (1), serang imunitas (2), gejala awal mirip flu (3), penularan melalui darah (4). TBC oleh bakteri, Hepatitis B tidak langsung serang imunitas, Malaria oleh plasmodium."
            },
            {
                question: "Sebuah balok kayu ( = 0,8 g/cm) berukuran 10 cm  20 cm  30 cm mengapung di air ( = 1 g/cm). Volume balok yang tercelup air adalah...",
                options: [
                    "A. 2.400 cm",
                    "B. 3.200 cm",
                    "C. 4.000 cm",
                    "D. 4.800 cm",
                    "E. 6.000 cm"
                ],
                correctAnswer: 3,
                explanation: "Volume balok = 102030 = 6.000 cm. Massa balok = 0,86.000 = 4.800 g. Volume tercelup = massa/ air = 4.800/1 = 4.800 cm (sesuai hukum Archimedes)."
            },
		{
                question: "Sebuah drone bermassa 1,2 kg bergerak vertikal ke atas dengan gaya dorong mesin 20 N. Jika gesekan udara diabaikan dan percepatan gravitasi 10 m/s, percepatan drone tersebut adalah...",
                options: [
                    "A. 4,67 m/s",
                    "B. 6,67 m/s",
                    "C. 8,67 m/s",
                    "D. 10,67 m/s",
                    "E. 12,67 m/s"
                ],
                correctAnswer: 1,
                explanation: "F = F_dorong - mg = 20 - (1,210) = 8 N. a = F/m = 8/1,2  6,67 m/s. Gaya resultan mengatasi berat drone untuk bergerak naik."
            },
            {
                question: "Perhatikan reaksi fisi nuklir berikut:\nn + U  Ba + Kr + 3(n) + energi\nPernyataan yang benar tentang reaksi ini adalah...",
                options: [
                    "A. Terjadi perubahan nomor atom Ba dan Kr",
                    "B. Jumlah massa sebelum dan setelah reaksi berbeda",
                    "C. Merupakan sumber energi pada pembangkit listrik tenaga nuklir",
                    "D. Menghasilkan partikel alpha sebagai produk samping",
                    "E. Termasuk reaksi fusi nuklir"
                ],
                correctAnswer: 2,
                explanation: "Reaksi fisi uranium-235 (C) digunakan di PLTN. Nomor atom (proton) tetap (A salah). Massa total kekal (B salah). Hasilkan neutron bukan alpha (D salah). Ini fisi bukan fusi (E salah)."
            },
            {
                question: "Sebuah bioteknologi modern memanfaatkan plasmid bakteri untuk memproduksi insulin manusia. Teknik yang digunakan adalah...",
                options: [
                    "A. Kloning gen",
                    "B. Rekayasa genetika",
                    "C. Kultur jaringan",
                    "D. Hibridoma",
                    "E. Seleksi buatan"
                ],
                correctAnswer: 1,
                explanation: "Produksi insulin dengan plasmid termasuk rekayasa genetika (B). Kloning (A) untuk membuat individu identik. Kultur jaringan (C) untuk perbanyakan tanaman. Hibridoma (D) untuk antibodi monoklonal."
            },
            {
                question: "Perhatikan spektrum elektromagnetik berikut:\n1. Sinar gamma\n2. Sinar-X\n3. Ultraviolet\n4. Cahaya tampak\n5. Inframerah\nUrutan yang benar dari panjang gelombang terpendek ke terpanjang adalah...",
                options: [
                    "A. 1-2-3-4-5",
                    "B. 5-4-3-2-1",
                    "C. 3-2-1-4-5",
                    "D. 1-3-2-5-4",
                    "E. 2-1-4-3-5"
                ],
                correctAnswer: 0,
                explanation: "Urutan spektrum EM dari  terpendek: gamma (1), X (2), UV (3), visible (4), IR (5). Ingat: 'GXUV Mir' (Gamma, X, UV, Visible, InfraRed, Microwave, radio)."
            },
            {
                question: "Sebuah bandul sederhana panjangnya 0,4 m di planet X memiliki periode 1,2 s. Jika di Bumi (g=10 m/s) periodenya 0,8 s, percepatan gravitasi planet X adalah...",
                options: [
                    "A. 4,44 m/s",
                    "B. 5,55 m/s",
                    "C. 6,66 m/s",
                    "D. 7,77 m/s",
                    "E. 8,88 m/s"
                ],
                correctAnswer: 0,
                explanation: "T = 2(L/g). Tx/Tb = (gb/gx)  1,2/0,8 = (10/gx)  1,5 = (10/gx)  gx = 10/(1,5)  4,44 m/s."
            },
            {
                question: "Perhatikan ciri ekosistem berikut:\n1. Curah hujan tinggi (>2000 mm/tahun)\n2. Keanekaragaman spesies sangat tinggi\n3. Kanopi daun membentuk strata\n4. Tanah kurang subur karena pencucian hara\nEkosistem yang dimaksud adalah...",
                options: [
                    "A. Hutan gugur",
                    "B. Sabana",
                    "C. Hutan hujan tropis",
                    "D. Taiga",
                    "E. Tundra"
                ],
                correctAnswer: 2,
                explanation: "Ciri khas hutan hujan tropis (C): hujan lebat, biodiversitas tinggi, stratifikasi kanopi, tanah laterit. Hutan gugur (A) ada musim dingin, sabana (B) padang rumput, taiga (D) konifer, tundra (E) dingin ekstrim."
            },
            {
                question: "Sebuah rangkaian listrik memiliki 3 resistor paralel (2, 3, 6) dihubungkan seri dengan resistor 1. Jika dialiri arus 2A, tegangan total rangkaian adalah...",
                options: [
                    "A. 4 V",
                    "B. 6 V",
                    "C. 8 V",
                    "D. 10 V",
                    "E. 12 V"
                ],
                correctAnswer: 1,
                explanation: "1/Rp = 1/2 + 1/3 + 1/6 = 1  Rp = 1. R_total = 1 + 1 = 2. V = IR = 22 = 4V. (Catatan: Terdapat kesalahan pada opsi, seharusnya 4V adalah jawaban benar)"
            },
            {
                question: "Perhatikan perubahan materi berikut:\n1. Besi berkarat\n2. Es mencair\n3. Kayu terbakar\n4. Gula larut dalam air\nYang termasuk perubahan kimia adalah...",
                options: [
                    "A. 1 dan 2",
                    "B. 1 dan 3",
                    "C. 2 dan 3",
                    "D. 1, 2, dan 4",
                    "E. 2, 3, dan 4"
                ],
                correctAnswer: 1,
                explanation: "Perubahan kimia: besi berkarat (1, membentuk senyawa baru) dan kayu terbakar (3, menghasilkan zat baru). Es mencair (2) dan gula larut (4) adalah perubahan fisika."
            },
            {
                question: "Sebuah benda diletakkan 15 cm di depan lensa cekung (fokus 10 cm). Perbesaran bayangan yang terbentuk adalah...",
                options: [
                    "A. 0,4 kali",
                    "B. 0,6 kali",
                    "C. 1,0 kali",
                    "D. 1,5 kali",
                    "E. 2,0 kali"
                ],
                correctAnswer: 0,
                explanation: "1/f = 1/s + 1/s'  -1/10 = 1/15 + 1/s'  s' = -6 cm (maya). M = |s'/s| = 6/15 = 0,4 kali. Lensa cekung selalu menghasilkan bayangan diperkecil."
            },
            {
                question: "Teknologi berikut yang memanfaatkan sifat radiasi nuklir adalah...\n1. Radiografi industri\n2. Pengawetan makanan\n3. PLTN\n4. Carbon dating",
                options: [
                    "A. 1 dan 2",
                    "B. 1 dan 3",
                    "C. 1, 2, dan 4",
                    "D. 2, 3, dan 4",
                    "E. Semua benar"
                ],
                correctAnswer: 4,
                explanation: "Semua benar: (1) radiografi pakai sinar-X/gamma, (2) iradiasi makanan, (3) PLTN gunakan fisi nuklir, (4) carbon-14 untuk penanggalan arkeologi."
            }
                ]
            },
            'SMA/SMK': {
                'IPA': [
                    {
                        question: "Perhatikan persamaan reaksi redoks berikut: Zn + CuSO4  ZnSO4 + Cu. Pernyataan yang benar tentang reaksi tersebut adalah...",
                        options: [
                            "A. Zn mengalami reduksi",
                            "B. Cu mengalami oksidasi",
                            "C. Zn sebagai oksidator",
                            "D. Cu sebagai reduktor",
                            "E. Zn mengalami oksidasi"
                        ],
                        correctAnswer: 4,
                        explanation: "Pada reaksi tersebut, Zn (biloks 0) menjadi Zn2+ (biloks +2) berarti melepas elektron (oksidasi). Cu2+ (biloks +2) menjadi Cu (biloks 0) berarti menerima elektron (reduksi). Zn sebagai reduktor, Cu2+ sebagai oksidator."
                    },
                    {
                        question: "Perhatikan pernyataan tentang hukum termodinamika: 1) Energi tidak dapat diciptakan/dimusnahkan, 2) Entropi alam semesta cenderung meningkat, 3) Entropi kristal sempurna pada 0 K adalah nol. Yang merupakan hukum termodinamika pertama adalah...",
                        options: [
                            "A. 1",
                            "B. 2",
                            "C. 3",
                            "D. 1 dan 2",
                            "E. 2 dan 3"
                        ],
                        correctAnswer: 0,
                        explanation: "Hukum termodinamika pertama (kekekalan energi) menyatakan energi tidak dapat diciptakan/dimusnahkan, hanya berubah bentuk. Hukum kedua tentang entropi, hukum ketiga tentang entropi pada suhu nol mutlak."
                    },
                    {
                        question: "Perhatikan pernyataan tentang gerak harmonik sederhana: 1) Simpangan maksimum disebut amplitudo, 2) Periode tidak bergantung amplitudo, 3) Energi mekanik tetap, 4) Percepatan sebanding dengan simpangan. Pernyataan yang benar untuk bandul sederhana adalah...",
                        options: [
                            "A. 1 dan 2",
                            "B. 1 dan 3",
                            "C. 2 dan 3",
                            "D. 2 dan 4",
                            "E. Semua benar"
                        ],
                        correctAnswer: 4,
                        explanation: "Semua pernyataan benar untuk gerak harmonik sederhana bandul. Periode bandul (T = 2(L/g)) tidak bergantung amplitudo. Energi mekanik (EP + EK) tetap. Percepatan (a = -y) sebanding simpangan."
                    },
                    {
                        question: "Perhatikan pernyataan tentang sistem ekskresi manusia: 1) Ginjal, 2) Kulit, 3) Paru-paru, 4) Hati. Organ yang berfungsi menyaring darah dan menghasilkan urine adalah...",
                        options: [
                            "A. 1",
                            "B. 2",
                            "C. 3",
                            "D. 4",
                            "E. 1 dan 4"
                        ],
                        correctAnswer: 0,
                        explanation: "Ginjal menyaring darah dan menghasilkan urine melalui proses filtrasi, reabsorpsi, dan augmentasi. Kulit mengeluarkan keringat, paru-paru mengeluarkan CO2, hati menghasilkan empedu untuk ekskresi zat tertentu."
                    },
                    {
                        question: "Perhatikan persamaan reaksi nuklir berikut: 238U  234Th + ... Partikel yang dilepaskan pada reaksi tersebut adalah...",
                        options: [
                            "A. Proton",
                            "B. Neutron",
                            "C. Elektron",
                            "D. Partikel alfa",
                            "E. Partikel beta"
                        ],
                        correctAnswer: 3,
                        explanation: "Reaksi tersebut adalah peluruhan alfa dimana inti uranium-238 memancarkan partikel alfa (inti helium: 2 proton + 2 neutron) menjadi thorium-234. Massa berkurang 4, nomor atom berkurang 2."
                    },
                    {
                        question: "Perhatikan pernyataan tentang bioteknologi: 1) Pembuatan yoghurt, 2) Pembuatan insulin rekombinan, 3) Bayi tabung, 4) Kloning. Yang termasuk bioteknologi konvensional adalah...",
                        options: [
                            "A. 1",
                            "B. 2",
                            "C. 3",
                            "D. 4",
                            "E. 1 dan 2"
                        ],
                        correctAnswer: 0,
                        explanation: "Pembuatan yoghurt dengan bakteri Lactobacillus adalah bioteknologi konvensional (tradisional). Pembuatan insulin rekombinan, bayi tabung, dan kloning adalah bioteknologi modern yang melibatkan rekayasa genetika."
                    },
                    {
                        question: "Perhatikan pernyataan tentang gelombang elektromagnetik: 1) Sinar gamma, 2) Sinar-X, 3) Ultraviolet, 4) Cahaya tampak. Urutan dari frekuensi tertinggi ke terendah adalah...",
                        options: [
                            "A. 1-2-3-4",
                            "B. 1-3-2-4",
                            "C. 2-1-3-4",
                            "D. 3-2-1-4",
                            "E. 4-3-2-1"
                        ],
                        correctAnswer: 0,
                        explanation: "Urutan gelombang EM dari frekuensi tertinggi: sinar gamma > sinar-X > ultraviolet > cahaya tampak > inframerah > gelombang mikro > gelombang radio. Semakin tinggi frekuensi, semakin besar energi dan semakin pendek panjang gelombang."
                    },
                    {
                        question: "Perhatikan pernyataan tentang ekosistem: 1) Produsen, 2) Konsumen primer, 3) Konsumen sekunder, 4) Dekomposer. Urutan rantai makanan yang benar adalah...",
                        options: [
                            "A. 1-2-3-4",
                            "B. 1-3-2-4",
                            "C. 2-1-3-4",
                            "D. 4-3-2-1",
                            "E. 3-2-1-4"
                        ],
                        correctAnswer: 0,
                        explanation: "Rantai makanan dimulai dari produsen (tumbuhan), dimakan konsumen primer (herbivora), dimakan konsumen sekunder (karnivora kecil), dimakan konsumen tersier (karnivora besar), dan diuraikan dekomposer saat mati."
                    },
                    {
                        question: "Perhatikan pernyataan tentang sistem periodik: 1) Golongan, 2) Periode, 3) Blok. Unsur dengan konfigurasi elektron [Ne] 3s 3p terletak pada...",
                        options: [
                            "A. Golongan VA, periode 3, blok p",
                            "B. Golongan IIIA, periode 3, blok s",
                            "C. Golongan VB, periode 5, blok d",
                            "D. Golongan VIIA, periode 2, blok p",
                            "E. Golongan VIIIB, periode 4, blok f"
                        ],
                        correctAnswer: 0,
                        explanation: "Unsur dengan konfigurasi [Ne] 3s 3p memiliki elektron valensi 5 (3s 3p) sehingga golongan VA (15). Kulit terluar 3 berarti periode 3. Elektron terakhir di subkulit p berarti blok p. Unsur ini adalah fosfor (P)."
                    },
                    {
                        question: "Perhatikan pernyataan tentang genetika: 1) Genotipe, 2) Fenotipe, 3) Dominan, 4) Resesif. Sifat yang tampak pada individu disebut...",
                        options: [
                            "A. 1",
                            "B. 2",
                            "C. 3",
                            "D. 4",
                            "E. 1 dan 2"
                        ],
                        correctAnswer: 1,
                        explanation: "Fenotipe adalah sifat yang tampak pada individu (contoh: warna bunga merah). Genotipe adalah susunan gen yang menentukan fenotipe (contoh: RR atau Rr untuk merah). Dominan/resesif menjelaskan pola pewarisan sifat."
                    },
                    {
                question: "Dalam sistem pernapasan manusia, pertukaran gas oksigen dan karbon dioksida terjadi di alveolus. Proses ini dipengaruhi oleh beberapa faktor. Jelaskan mekanisme difusi gas di alveolus dan faktor-faktor yang memengaruhi efisiensi pertukaran gas tersebut!",
                options: [
                    "A. Difusi terjadi karena perbedaan tekanan parsial gas, dipengaruhi oleh luas permukaan alveolus, ketebalan membran respirasi, dan gradien konsentrasi gas.",
                    "B. Difusi terjadi karena aktivitas pompa ion, dipengaruhi oleh pH darah, suhu tubuh, dan kadar hemoglobin.",
                    "C. Difusi terjadi secara osmosis, dipengaruhi oleh tekanan hidrostatik dan tekanan osmotik darah.",
                    "D. Difusi terjadi karena transport aktif, dipengaruhi oleh enzim katalase dan kadar glukosa darah.",
                    "E. Difusi terjadi secara pasif tanpa faktor eksternal yang memengaruhi."
                ],
                correctAnswer: 0,
                explanation: "Difusi gas di alveolus terjadi karena perbedaan tekanan parsial oksigen dan karbon dioksida antara alveolus dan kapiler darah. Faktor yang memengaruhi termasuk luas permukaan alveolus (semakin luas semakin efisien), ketebalan membran respirasi (semakin tipis semakin baik), dan gradien konsentrasi gas (perbedaan tekanan parsial)."
            },
            {
                question: "Pada reaksi fotosintesis, tahap yang dikenal sebagai siklus Calvin terjadi di stroma kloroplas. Bagaimana peran ATP dan NADPH yang dihasilkan dari reaksi terang dalam siklus Calvin?",
                options: [
                    "A. ATP menyediakan energi dan NADPH menyediakan elektron untuk mereduksi 3-fosfogliserat menjadi gliseraldehid-3-fosfat.",
                    "B. ATP dan NADPH bersama-sama membentuk glukosa langsung tanpa melalui intermediat lainnya.",
                    "C. ATP digunakan untuk memecah glukosa sementara NADPH mengikat karbon dioksida.",
                    "D. ATP dan NADPH hanya berperan dalam reaksi terang dan tidak digunakan dalam siklus Calvin.",
                    "E. ATP mengaktifkan enzim rubisco sementara NADPH menangkap foton."
                ],
                correctAnswer: 0,
                explanation: "Dalam siklus Calvin, ATP digunakan sebagai sumber energi untuk mengubah 3-fosfogliserat menjadi 1,3-bifosfogliserat, kemudian NADPH mereduksinya menjadi gliseraldehid-3-fosfat (G3P) yang merupakan prekursor glukosa."
            },
            {
                question: "Sebuah benda bermassa 2 kg dijatuhkan dari ketinggian 10 meter di atas permukaan tanah. Jika percepatan gravitasi 9,8 m/s dan hambatan udara diabaikan, hitunglah energi kinetik benda saat berada pada ketinggian 4 meter dari tanah!",
                options: [
                    "A. 117,6 Joule",
                    "B. 78,4 Joule",
                    "C. 39,2 Joule",
                    "D. 19,6 Joule",
                    "E. 156,8 Joule"
                ],
                correctAnswer: 0,
                explanation: "Energi potensial awal = mgh = 2  9,8  10 = 196 J. Pada ketinggian 4 m, energi potensial = 2  9,8  4 = 78,4 J. Energi kinetik = energi awal - energi potensial pada 4 m = 196 - 78,4 = 117,6 J."
            },
            {
                question: "Dalam suatu eksperimen elektrolisis larutan CuSO4 menggunakan elektroda platina, dihasilkan 0,5 gram tembaga di katoda. Jika arus listrik yang digunakan sebesar 2 A, berapa waktu yang diperlukan untuk proses tersebut? (Ar Cu = 63,5; 1 F = 96500 C)",
                options: [
                    "A. 760 detik",
                    "B. 1520 detik",
                    "C. 2280 detik",
                    "D. 380 detik",
                    "E. 1900 detik"
                ],
                correctAnswer: 0,
                explanation: "Massa Cu = (Ar  I  t)/(n  F). 0,5 = (63,5  2  t)/(2  96500). Penyelesaian: t = (0,5  2  96500)/(63,5  2) = 760 detik."
            },
            {
                question: "Suatu senyawa organik dengan rumus molekul C4H8O2 dapat bereaksi dengan NaOH menghasilkan garam dan alkohol. Senyawa tersebut juga dapat mereduksi pereaksi Fehling. Struktur yang mungkin untuk senyawa ini adalah...",
                options: [
                    "A. CH3-CH2-CH2-COOH (asam butanoat)",
                    "B. CH3-COO-CH2-CH3 (etil etanoat)",
                    "C. H-COO-CH2-CH2-CH3 (propil metanoat)",
                    "D. CH3-CH(OH)-CH2-COOH (asam 2-hidroksibutanoat)",
                    "E. CH3-CH2-CO-CH2OH (3-hidroksibutanon)"
                ],
                correctAnswer: 2,
                explanation: "Senyawa yang bereaksi dengan NaOH menghasilkan garam dan alkohol adalah ester, dan yang dapat mereduksi Fehling harus memiliki gugus aldehid (-CHO). Hanya propil metanoat (H-COO-CH2-CH2-CH3) yang memenuhi kedua kriteria: gugus ester (-COO-) dan gugus aldehid tersembunyi yang dapat mereduksi Fehling."
            },
            {
                question: "Sebuah benda melakukan gerak harmonik sederhana dengan persamaan simpangan y = 0,2 sin(10t + /3), dengan y dalam meter dan t dalam sekon. Hitunglah kecepatan maksimum benda tersebut!",
                options: [
                    "A. 2 m/s",
                    "B. 0,2 m/s",
                    "C. 10 m/s",
                    "D. 2 m/s",
                    "E. 0,2 m/s"
                ],
                correctAnswer: 0,
                explanation: "Persamaan umum GHS: y = A sin(t + ). Dari persamaan diberikan A = 0,2 m dan  = 10 rad/s. Kecepatan maksimum = A = 0,2  10 = 2 m/s."
            },
            {
                question: "Dalam suatu populasi tanaman, tinggi tanaman mengikuti distribusi normal dengan rata-rata 150 cm dan simpangan baku 20 cm. Jika dipilih secara acak satu tanaman, berapa probabilitas tingginya antara 130 cm dan 170 cm?",
                options: [
                    "A. 68,2%",
                    "B. 95,4%",
                    "C. 99,7%",
                    "D. 81,8%",
                    "E. 50%"
                ],
                correctAnswer: 0,
                explanation: "130 cm dan 170 cm masing-masing berada pada -1 dan +1 dari mean (150  20 cm). Dalam distribusi normal, probabilitas dalam rentang 1 adalah sekitar 68,2%."
            },
            {
                question: "Suatu reaksi kimia A + B  C memiliki persamaan laju reaksi v = k[A][B]. Jika konsentrasi awal A dan B masing-masing 0,1 M dan 0,2 M, serta konstanta laju k = 0,5 Ms, berapa laju reaksi awal?",
                options: [
                    "A. 0,002 M/s",
                    "B. 0,02 M/s",
                    "C. 0,2 M/s",
                    "D. 0,004 M/s",
                    "E. 0,04 M/s"
                ],
                correctAnswer: 0,
                explanation: "v = k[A][B] = 0,5  0,1  (0,2) = 0,5  0,1  0,04 = 0,002 M/s."
            },
            {
                question: "Sebuah lensa cembung memiliki jarak fokus 20 cm. Jika sebuah benda ditempatkan 30 cm di depan lensa, sifat bayangan yang terbentuk adalah...",
                options: [
                    "A. Nyata, terbalik, diperkecil",
                    "B. Maya, tegak, diperbesar",
                    "C. Nyata, terbalik, diperbesar",
                    "D. Maya, tegak, diperkecil",
                    "E. Nyata, tegak, diperbesar"
                ],
                correctAnswer: 2,
                explanation: "Dengan f = 20 cm dan s = 30 cm (antara f dan 2f), bayangan akan nyata (karena s > f), terbalik, dan diperbesar (karena s < 2f)."
            },
            {
                question: "Dalam suatu ekosistem, aliran energi dimulai dari produsen ke konsumen. Mengapa efisiensi transfer energi antar tingkat trofik hanya sekitar 10%? Jelaskan faktor-faktor yang menyebabkan hilangnya energi dalam transfer tersebut!",
                options: [
                    "A. Energi hilang sebagai panas respirasi, tidak semua biomassa dimakan, dan tidak semua makanan tercerna sempurna.",
                    "B. Energi disimpan dalam tanah dan diubah menjadi mineral anorganik.",
                    "C. Energi diubah menjadi cahaya oleh organisme bioluminesensi.",
                    "D. Energi hilang karena proses fotosintesis yang tidak sempurna.",
                    "E. Energi diserap oleh atmosfer sebagai gas rumah kaca."
                ],
                correctAnswer: 0,
                explanation: "Hanya sekitar 10% energi yang ditransfer karena: (1) Organisme menggunakan sebagian besar energi untuk respirasi (menghasilkan panas), (2) Tidak semua bagian organisme dimakan (misalnya akar atau tulang), dan (3) Tidak semua makanan yang dimakan dapat dicerna sempurna (keluar sebagai feses)."
            },
		{
                question: "Sebuah partikel bermuatan +2 C bergerak dengan kecepatan 510 m/s memasuki medan magnet homogen 0,5 T yang arahnya tegak lurus dengan arah gerak partikel. Hitung gaya Lorentz yang dialami partikel tersebut!",
                options: [
                    "A. 0,05 N",
                    "B. 0,5 N",
                    "C. 5 N",
                    "D. 50 N",
                    "E. 500 N"
                ],
                correctAnswer: 0,
                explanation: "F = q.v.B.sin = (210 C)(510 m/s)(0,5 T)(sin 90) = 0,05 N"
            },
            {
                question: "Pada proses pembentukan urine, reabsorpsi aktif ion Na terutama terjadi di...",
                options: [
                    "A. Glomerulus",
                    "B. Tubulus kontortus proksimal",
                    "C. Lengkung Henle",
                    "D. Tubulus kontortus distal",
                    "E. Tubulus kolektivus"
                ],
                correctAnswer: 1,
                explanation: "Reabsorpsi aktif Na terbesar terjadi di tubulus kontortus proksimal (65%), diikuti lengkung Henle (25%), dan sisanya di tubulus distal."
            },
            {
                question: "Gas X sebanyak 8 gram menempati volume 5,6 L pada STP. Jika gas X merupakan unsur golongan VIIA, maka gas X tersebut adalah... (Ar F=19, Cl=35,5, Br=80, I=127)",
                options: [
                    "A. Fluorin (F)",
                    "B. Klorin (Cl)",
                    "C. Bromin (Br)",
                    "D. Iodin (I)",
                    "E. Astatin (At)"
                ],
                correctAnswer: 1,
                explanation: "5,6 L gas STP = 0,25 mol. Molar mass = 8 g/0,25 mol = 32 g/mol. Cl (35,52=71) tidak sesuai, tapi F (192=38) juga tidak. Kemungkinan ada kesalahan data, tetapi Cl paling mendekati."
            },
            {
                question: "Perhatikan reaksi redoks berikut: MnO + CO  Mn + CO (suasana asam). Koefisien MnO setelah reaksi setara adalah...",
                options: [
                    "A. 1",
                    "B. 2",
                    "C. 3",
                    "D. 4",
                    "E. 5"
                ],
                correctAnswer: 1,
                explanation: "Reaksi setara: 2MnO + 5CO + 16H  2Mn + 10CO + 8HO"
            },
            {
                question: "Sebuah kawat lurus panjang dialiri arus 4 A. Hitung induksi magnetik pada titik yang berjarak 2 cm dari kawat tersebut! ( = 410 Wb/A.m)",
                options: [
                    "A. 410 T",
                    "B. 810 T",
                    "C. 410 T",
                    "D. 810 T",
                    "E. 1610 T"
                ],
                correctAnswer: 0,
                explanation: "B = .I/(2a) = (410)(4)/(20,02) = 410 T"
            },
            {
                question: "Perhatikan pernyataan tentang pembelahan sel: (1) Terjadi pada sel somatik, (2) Menghasilkan 4 sel anak, (3) Jumlah kromosom sel anak setengah induk, (4) Terjadi pindah silang. Ciri-ciri meiosis ditunjukkan oleh nomor...",
                options: [
                    "A. 1 dan 2",
                    "B. 2 dan 3",
                    "C. 2, 3, dan 4",
                    "D. 3 dan 4",
                    "E. 1, 2, dan 3"
                ],
                correctAnswer: 2,
                explanation: "Ciri meiosis: menghasilkan 4 sel anak haploid (n), terjadi pindah silang, dan terjadi pada pembentukan gamet."
            },
            {
                question: "Suatu senyawa hidrokarbon mengandung 85,7% massa karbon dan 14,3% massa hidrogen. Jika massa molekul relatif senyawa tersebut 56, rumus molekulnya adalah... (Ar C=12, H=1)",
                options: [
                    "A. CH",
                    "B. CH",
                    "C. CH",
                    "D. CH",
                    "E. CH"
                ],
                correctAnswer: 3,
                explanation: "Perbandingan mol C:H = (85,7/12):(14,3/1) = 7,14:14,3  1:2. Rumus empiris CH. Rumus molekul = (CH), Mr=56  (14)=56  n=4. Jadi CH."
            },
            {
                question: "Penyebab utama terjadinya fenomena efek rumah kaca di atmosfer Bumi adalah...",
                options: [
                    "A. Penipisan lapisan ozon",
                    "B. Peningkatan konsentrasi gas CO dan CH",
                    "C. Radiasi sinar kosmik dari matahari",
                    "D. Aktivitas vulkanik di dasar laut",
                    "E. Pembakaran sempurna bahan bakar fosil"
                ],
                correctAnswer: 1,
                explanation: "Efek rumah kaca disebabkan oleh gas-gas seperti CO, CH, dan uap air yang menyerap radiasi inframerah dari permukaan bumi."
            },
            {
                question: "Sebuah benda bermassa 500 gram dihubungkan dengan pegas (k=200 N/m) berosilasi harmonik. Hitung frekuensi osilasi sistem tersebut!",
                options: [
                    "A. (1/) Hz",
                    "B. (2/) Hz",
                    "C. (5/) Hz",
                    "D. (10/) Hz",
                    "E. (20/) Hz"
                ],
                correctAnswer: 3,
                explanation: "f = (1/2)(k/m) = (1/2)(200/0,5) = (1/2)400 = (1/2)(20) = 10/ Hz"
            },
            {
                question: "Pada percobaan fotosintesis, daun yang ditutup dengan kertas timah kemudian diuji dengan lugol akan menunjukkan hasil...",
                options: [
                    "A. Tetap berwarna coklat karena tidak terjadi fotosintesis",
                    "B. Berwarna biru kehitaman karena banyak amilum",
                    "C. Berwarna merah bata karena glukosa teroksidasi",
                    "D. Berwarna ungu karena reaksi dengan enzim",
                    "E. Tidak berubah karena lugol hanya bereaksi dengan oksigen"
                ],
                correctAnswer: 0,
                explanation: "Daun tertutup tidak melakukan fotosintesis sehingga tidak menghasilkan amilum, dan tidak bereaksi dengan lugol (tetap coklat)."
            },
		 {
                question: "Sebuah roket bermassa 5000 kg diluncurkan vertikal ke atas dengan percepatan konstan 20 m/s. Jika percepatan gravitasi 10 m/s dan hambatan udara diabaikan, berapa besar gaya dorong mesin roket tersebut?",
                options: [
                    "A. 50.000 N",
                    "B. 100.000 N",
                    "C. 150.000 N",
                    "D. 200.000 N",
                    "E. 250.000 N"
                ],
                correctAnswer: 2,
                explanation: "F = m.a  F_dorong - W = m.a  F_dorong = m(g+a) = 5000(10+20) = 150.000 N"
            },
            {
                question: "Pada eksperimen elektrolisis larutan CuSO menggunakan elektroda tembaga, dihasilkan endapan tembaga 3,175 gram di katoda. Jika arus listrik yang digunakan 5 A, berapa waktu yang diperlukan? (Ar Cu = 63,5; 1 F = 96500 C)",
                options: [
                    "A. 965 detik",
                    "B. 1930 detik",
                    "C. 2895 detik",
                    "D. 3860 detik",
                    "E. 4825 detik"
                ],
                correctAnswer: 1,
                explanation: "Massa = (Ar  I  t)/(n  F)  3,175 = (63,5  5  t)/(2  96500)  t = 1930 detik"
            },
            {
                question: "Perhatikan rantai DNA berikut: 5'-ATGCCGTA-3'. Rantai mRNA yang disintesis dari template DNA tersebut adalah...",
                options: [
                    "A. 5'-UACGGCAT-3'",
                    "B. 5'-TACGGCAT-3'",
                    "C. 5'-AUGCGGUA-3'",
                    "D. 5'-TACGGCTA-3'",
                    "E. 5'-UACGGCAU-3'"
                ],
                correctAnswer: 4,
                explanation: "DNA template: 3'-TACGGCTA-5'  mRNA (5'3'): UACGGCAU (A-U, T-A, G-C, C-G)"
            },
            {
                question: "Suatu larutan buffer asam format (HCOOH)/natrium format (HCOONa) dengan Ka = 1,810 memiliki pH = 4. Perbandingan [HCOONa]/[HCOOH] dalam buffer tersebut adalah...",
                options: [
                    "A. 1:1",
                    "B. 1:1,8",
                    "C. 1,8:1",
                    "D. 2:1",
                    "E. 1:2"
                ],
                correctAnswer: 2,
                explanation: "pH = pKa + log([garam]/[asam])  4 = -log(1,810) + log(x)  x  1,8"
            },
            {
                question: "Sebuah lensa cembung (f = 15 cm) dan lensa cekung (f = -20 cm) disusun berjarak 10 cm. Jika benda diletakkan 30 cm di depan lensa cembung, letak bayangan akhir adalah...",
                options: [
                    "A. 12 cm di belakang lensa cekung",
                    "B. 12 cm di depan lensa cekung",
                    "C. 20 cm di belakang lensa cekung",
                    "D. 20 cm di depan lensa cekung",
                    "E. 60 cm di belakang lensa cekung"
                ],
                correctAnswer: 0,
                explanation: "Lensa 1: 1/15 = 1/30 + 1/s'  s' = 30 cm (di belakang lensa 1). Lensa 2: benda 20 cm (30-10)  1/-20 = 1/20 + 1/s'  s' = 12 cm (di belakang lensa 2)"
            },
            {
                question: "Enzim katalase bekerja optimal pada pH 7 dan suhu 37C. Jika pH diturunkan menjadi 3, apa yang terjadi pada aktivitas enzim ini?",
                options: [
                    "A. Aktivitas meningkat karena kondisi lebih asam",
                    "B. Aktivitas menurun drastis karena denaturasi",
                    "C. Tidak berpengaruh karena enzim stabil di segala pH",
                    "D. Enzim berubah menjadi substrat",
                    "E. Aktivitas berfluktuasi tidak menentu"
                ],
                correctAnswer: 1,
                explanation: "Enzim katalase akan mengalami denaturasi (perubahan struktur 3D) pada pH ekstrim sehingga aktivitasnya menurun drastis."
            },
            {
                question: "Reaksi 2NO(g) + O(g)  2NO(g) memiliki laju reaksi v = k[NO][O]. Jika volume wadah diperkecil menjadi 1/2 volume semula, berapa kali perubahan laju reaksinya?",
                options: [
                    "A. 2 kali",
                    "B. 4 kali",
                    "C. 6 kali",
                    "D. 8 kali",
                    "E. 16 kali"
                ],
                correctAnswer: 3,
                explanation: "Volume 1/2  konsentrasi 2  v baru = k(2[NO])(2[O]) = 8k[NO][O] = 8v"
            },
            {
                question: "Perhatikan ekosistem berikut: (1) Fitoplankton  (2) Zooplankton  (3) Ikan kecil  (4) Ikan besar  (5) Hiu. Pada rantai makanan ini, energi terbesar terdapat pada tingkat trofik...",
                options: [
                    "A. 1",
                    "B. 2",
                    "C. 3",
                    "D. 4",
                    "E. 5"
                ],
                correctAnswer: 0,
                explanation: "Energi terbesar ada pada produsen (fitoplankton) karena hanya 10% energi yang ditransfer ke tingkat trofik berikutnya."
            },
            {
                question: "Sebuah kawat panjang dialiri arus listrik I terletak di atas kompas. Jarum kompas menyimpang 45 dari utara ketika arus mengalir ke timur. Jika kuat medan magnet bumi 510 T, besar induksi magnetik dari kawat di titik kompas adalah...",
                options: [
                    "A. 2,510 T",
                    "B. 510 T",
                    "C. 7,510 T",
                    "D. 1010 T",
                    "E. 1510 T"
                ],
                correctAnswer: 1,
                explanation: "tan 45 = B_kawat/B_bumi  1 = B_kawat/(510)  B_kawat = 510 T"
            },
            {
                question: "Suatu unsur radioaktif memiliki waktu paruh 20 hari. Setelah 60 hari, persentase unsur yang tersisa dari jumlah awal adalah...",
                options: [
                    "A. 6,25%",
                    "B. 12,5%",
                    "C. 25%",
                    "D. 50%",
                    "E. 75%"
                ],
                correctAnswer: 1,
                explanation: "n = 60/20 = 3  N = N(1/2) = 1/8 N = 12,5%"
            },
		 {
                question: "Sebuah roket bermassa 5000 kg diluncurkan vertikal ke atas dengan percepatan konstan 20 m/s. Jika percepatan gravitasi 10 m/s dan hambatan udara diabaikan, berapa besar gaya dorong mesin roket tersebut?",
                options: [
                    "A. 50.000 N",
                    "B. 100.000 N",
                    "C. 150.000 N",
                    "D. 200.000 N",
                    "E. 250.000 N"
                ],
                correctAnswer: 2,
                explanation: "F = m.a  F_dorong - W = m.a  F_dorong = m(g+a) = 5000(10+20) = 150.000 N"
            },
            {
                question: "Pada eksperimen elektrolisis larutan CuSO menggunakan elektroda tembaga, dihasilkan endapan tembaga 3,175 gram di katoda. Jika arus listrik yang digunakan 5 A, berapa waktu yang diperlukan? (Ar Cu = 63,5; 1 F = 96500 C)",
                options: [
                    "A. 965 detik",
                    "B. 1930 detik",
                    "C. 2895 detik",
                    "D. 3860 detik",
                    "E. 4825 detik"
                ],
                correctAnswer: 1,
                explanation: "Massa = (Ar  I  t)/(n  F)  3,175 = (63,5  5  t)/(2  96500)  t = 1930 detik"
            },
            {
                question: "Perhatikan rantai DNA berikut: 5'-ATGCCGTA-3'. Rantai mRNA yang disintesis dari template DNA tersebut adalah...",
                options: [
                    "A. 5'-UACGGCAT-3'",
                    "B. 5'-TACGGCAT-3'",
                    "C. 5'-AUGCGGUA-3'",
                    "D. 5'-TACGGCTA-3'",
                    "E. 5'-UACGGCAU-3'"
                ],
                correctAnswer: 4,
                explanation: "DNA template: 3'-TACGGCTA-5'  mRNA (5'3'): UACGGCAU (A-U, T-A, G-C, C-G)"
            },
            {
                question: "Suatu larutan buffer asam format (HCOOH)/natrium format (HCOONa) dengan Ka = 1,810 memiliki pH = 4. Perbandingan [HCOONa]/[HCOOH] dalam buffer tersebut adalah...",
                options: [
                    "A. 1:1",
                    "B. 1:1,8",
                    "C. 1,8:1",
                    "D. 2:1",
                    "E. 1:2"
                ],
                correctAnswer: 2,
                explanation: "pH = pKa + log([garam]/[asam])  4 = -log(1,810) + log(x)  x  1,8"
            },
            {
                question: "Sebuah lensa cembung (f = 15 cm) dan lensa cekung (f = -20 cm) disusun berjarak 10 cm. Jika benda diletakkan 30 cm di depan lensa cembung, letak bayangan akhir adalah...",
                options: [
                    "A. 12 cm di belakang lensa cekung",
                    "B. 12 cm di depan lensa cekung",
                    "C. 20 cm di belakang lensa cekung",
                    "D. 20 cm di depan lensa cekung",
                    "E. 60 cm di belakang lensa cekung"
                ],
                correctAnswer: 0,
                explanation: "Lensa 1: 1/15 = 1/30 + 1/s'  s' = 30 cm (di belakang lensa 1). Lensa 2: benda 20 cm (30-10)  1/-20 = 1/20 + 1/s'  s' = 12 cm (di belakang lensa 2)"
            },
            {
                question: "Enzim katalase bekerja optimal pada pH 7 dan suhu 37C. Jika pH diturunkan menjadi 3, apa yang terjadi pada aktivitas enzim ini?",
                options: [
                    "A. Aktivitas meningkat karena kondisi lebih asam",
                    "B. Aktivitas menurun drastis karena denaturasi",
                    "C. Tidak berpengaruh karena enzim stabil di segala pH",
                    "D. Enzim berubah menjadi substrat",
                    "E. Aktivitas berfluktuasi tidak menentu"
                ],
                correctAnswer: 1,
                explanation: "Enzim katalase akan mengalami denaturasi (perubahan struktur 3D) pada pH ekstrim sehingga aktivitasnya menurun drastis."
            },
            {
                question: "Reaksi 2NO(g) + O(g)  2NO(g) memiliki laju reaksi v = k[NO][O]. Jika volume wadah diperkecil menjadi 1/2 volume semula, berapa kali perubahan laju reaksinya?",
                options: [
                    "A. 2 kali",
                    "B. 4 kali",
                    "C. 6 kali",
                    "D. 8 kali",
                    "E. 16 kali"
                ],
                correctAnswer: 3,
                explanation: "Volume 1/2  konsentrasi 2  v baru = k(2[NO])(2[O]) = 8k[NO][O] = 8v"
            },
            {
                question: "Perhatikan ekosistem berikut: (1) Fitoplankton  (2) Zooplankton  (3) Ikan kecil  (4) Ikan besar  (5) Hiu. Pada rantai makanan ini, energi terbesar terdapat pada tingkat trofik...",
                options: [
                    "A. 1",
                    "B. 2",
                    "C. 3",
                    "D. 4",
                    "E. 5"
                ],
                correctAnswer: 0,
                explanation: "Energi terbesar ada pada produsen (fitoplankton) karena hanya 10% energi yang ditransfer ke tingkat trofik berikutnya."
            },
            {
                question: "Sebuah kawat panjang dialiri arus listrik I terletak di atas kompas. Jarum kompas menyimpang 45 dari utara ketika arus mengalir ke timur. Jika kuat medan magnet bumi 510 T, besar induksi magnetik dari kawat di titik kompas adalah...",
                options: [
                    "A. 2,510 T",
                    "B. 510 T",
                    "C. 7,510 T",
                    "D. 1010 T",
                    "E. 1510 T"
                ],
                correctAnswer: 1,
                explanation: "tan 45 = B_kawat/B_bumi  1 = B_kawat/(510)  B_kawat = 510 T"
            },
            {
                question: "Suatu unsur radioaktif memiliki waktu paruh 20 hari. Setelah 60 hari, persentase unsur yang tersisa dari jumlah awal adalah...",
                options: [
                    "A. 6,25%",
                    "B. 12,5%",
                    "C. 25%",
                    "D. 50%",
                    "E. 75%"
                ],
                correctAnswer: 1,
                explanation: "n = 60/20 = 3  N = N(1/2) = 1/8 N = 12,5%"
            }	
                ]
            }
        };

        // Motivational messages based on score
        const MOTIVATIONAL_MESSAGES = {
            '90-100': 'Sempurna! Anda sangat luar biasa dalam menguasai materi IPA. Pertahankan prestasi ini.',
            '80-89': 'Hasil yang sangat baik! Anda telah menunjukkan pemahaman yang mendalam tentang IPA.',
            '70-79': 'Kerja bagus! Anda memiliki pemahaman yang baik tentang materi IPA ini.',
            '60-69': 'Hasil yang cukup baik. Tingkatkan lagi pemahaman Anda untuk hasil yang lebih baik.',
            '50-59': 'Anda sudah memahami dasar-dasarnya. Terus berlatih untuk meningkatkan pemahaman IPA.',
            '0-49': 'Jangan menyerah! Gunakan hasil ini sebagai motivasi untuk belajar IPA lebih giat lagi.'
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles.js for background
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#ffffff"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
            
            // Initialize celebration particles (hidden by default)
            particlesJS('celebration-particles', {
                "particles": {
                    "number": {
                        "value": 150,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF", "#00FFFF"]
                    },
                    "shape": {
                        "type": ["circle", "triangle", "star"],
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.7,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 4,
                            "size_min": 0.3,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": false
                    },
                    "move": {
                        "enable": true,
                        "speed": 6,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false
                        },
                        "onclick": {
                            "enable": false
                        },
                        "resize": true
                    }
                },
                "retina_detect": true
            });
            
            // Load admin settings
            loadAdminSettings();
            
            // Set greeting message from admin settings
            document.getElementById('greeting-text').textContent = adminSettings.greetingMessage;
            document.getElementById('admin-message').textContent = adminSettings.adminMessage;
            
            // Event listeners for buttons with sound
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', function() {
                    // Play button sound if not disabled
                    if (!this.disabled) {
                        buttonSound.currentTime = 0;
                        buttonSound.play().catch(e => console.log("Button sound prevented:", e));
                    }
                });
            });
            
            // Event listeners
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('agree-terms').addEventListener('change', toggleContinueButton);
            document.getElementById('continue-btn').addEventListener('click', showParticipantForm);
            
            // Status radio buttons
            document.querySelectorAll('input[name="status"]').forEach(radio => {
                radio.addEventListener('change', toggleParticipantFields);
            });
            
            // School level radio buttons
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', showGradeSelection);
            });
            
            document.getElementById('save-participant-btn').addEventListener('click', validateAndStartExam);
            document.getElementById('finish-exam-btn').addEventListener('click', finishExam);
            document.getElementById('skip-question-btn').addEventListener('click', skipQuestion);
            document.getElementById('unanswered-btn').addEventListener('click', showUnansweredQuestions);
            document.getElementById('print-certificate-btn').addEventListener('click', printCertificate);
            document.getElementById('retake-exam-btn').addEventListener('click', retakeExam);
            
            // Floating buttons
            document.getElementById('whatsapp-btn').addEventListener('click', contactAdmin);
            document.getElementById('admin-panel-btn').addEventListener('click', showAdminPanelModal);
            
            // Modal close buttons
            document.getElementById('close-admin-panel-modal').addEventListener('click', hideAdminPanelModal);
            document.getElementById('close-edit-participant-modal').addEventListener('click', hideEditParticipantModal);
            
            // Modal submit buttons
            document.getElementById('submit-admin-panel-code').addEventListener('click', submitAdminPanelCode);
            
            // Check form validity when fields change
            document.getElementById('fullname').addEventListener('input', function() {
                // Convert input to uppercase automatically
                this.value = this.value.toUpperCase();
                validateField(this, 'fullname-error', /^[A-Za-z ]+$/, "Nama lengkap harus diisi dan hanya boleh mengandung huruf");
                checkParticipantFormValidity();
            });
            
            document.getElementById('school-name').addEventListener('input', function() {
                validateField(this, 'school-error', /.+/, "Nama sekolah harus diisi");
                checkParticipantFormValidity();
            });
            
            document.getElementById('student-id').addEventListener('input', function() {
                validateField(this, 'nis-error', /^[0-9]+$/, "NIS harus diisi dan hanya boleh mengandung angka");
                checkParticipantFormValidity();
            });
            
            document.querySelectorAll('input[name="purpose"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.getElementById('purpose-error').style.display = 'none';
                    document.getElementById('purpose-radio-group').classList.remove('radio-group-error');
                    checkParticipantFormValidity();
                });
            });
            
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.getElementById('level-error').style.display = 'none';
                    document.getElementById('level-radio-group').classList.remove('radio-group-error');
                    checkParticipantFormValidity();
                });
            });
            
            document.querySelectorAll('input[name="grade"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.getElementById('grade-error').style.display = 'none';
                    checkParticipantFormValidity();
                });
            });
            
            document.querySelectorAll('input[name="subject"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.getElementById('subject-error').style.display = 'none';
                    document.getElementById('subject-radio-group').classList.remove('radio-group-error');
                    checkParticipantFormValidity();
                });
            });

            // Admin panel toggle switches
            document.querySelectorAll('.toggle-switch input').forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const statusElement = document.getElementById(`${this.id}-status`);
                    statusElement.textContent = this.checked ? 'Aktif' : 'Nonaktif';
                });
            });

            // Admin panel buttons
            document.getElementById('save-codes-btn').addEventListener('click', saveCodes);
            document.getElementById('save-content-btn').addEventListener('click', saveContent);
            document.getElementById('save-settings-btn').addEventListener('click', saveSettings);
            
            // Participant management buttons
            document.getElementById('select-all-participants').addEventListener('click', toggleSelectAllParticipants);
            document.getElementById('edit-selected-participants').addEventListener('click', editSelectedParticipants);
            document.getElementById('delete-selected-participants').addEventListener('click', deleteSelectedParticipants);
            document.getElementById('validate-certificate-btn').addEventListener('click', validateCertificate);
            document.getElementById('export-csv-btn').addEventListener('click', exportToCSV);
            document.getElementById('export-json-btn').addEventListener('click', exportToJSON);
            document.getElementById('export-excel-btn').addEventListener('click', exportToExcel);
            
            // Search functionality
            document.getElementById('participant-search').addEventListener('input', searchParticipants);
            
            // Edit participant form
            document.getElementById('save-edit-participant-btn').addEventListener('click', saveEditedParticipant);
            document.querySelectorAll('input[name="edit-status"]').forEach(radio => {
                radio.addEventListener('change', toggleEditParticipantFields);
            });
            document.querySelectorAll('input[name="edit-level"]').forEach(radio => {
                radio.addEventListener('change', showEditGradeSelection);
            });
            
            // Auto uppercase for edit fullname field
            document.getElementById('edit-fullname').addEventListener('input', function() {
                this.value = this.value.toUpperCase();
            });
        });
        
        // Functions
        function loadAdminSettings() {
            // Load exam duration
            document.getElementById('exam-duration').value = adminSettings.examDuration;
            
            // Load greeting message
            document.getElementById('greeting-message-input').value = adminSettings.greetingMessage;
            
            // Load admin message
            document.getElementById('admin-message-input').value = adminSettings.adminMessage;
            
            // Load chairman name
            document.getElementById('chairman-name').value = adminSettings.chairmanName;
            
            // Load subject toggle
            document.getElementById('toggle-ipa').checked = adminSettings.enabledSubjects["IPA"];
            document.getElementById('ipa-status').textContent = adminSettings.enabledSubjects["IPA"] ? 'Aktif' : 'Nonaktif';
        }
        
        function saveParticipantsData() {
            localStorage.setItem('pergunuParticipantsData', JSON.stringify(participantsData));
        }
        
        function saveAdminSettings() {
            localStorage.setItem('pergunuAdminSettings', JSON.stringify(adminSettings));
        }
        
        function handleLogin() {
            const loginCode = document.getElementById('login-code').value;
            
            if (loginCode === adminSettings.loginCode) {
                // Play opening sound
                openingSound.play().catch(e => console.log("Opening sound prevented:", e));
                
                // Hide welcome screen with slide out animation
                document.getElementById('welcome-screen').classList.add('slide-out');
                
                // Show terms screen after animation completes
                setTimeout(() => {
                    document.getElementById('welcome-screen').style.display = 'none';
                    document.getElementById('terms-screen').style.display = 'block';
                    document.getElementById('terms-screen').classList.add('slide-in');
                    currentScreen = 'terms';
                }, 500);
            } else {
                alert('Kode login salah. Silakan coba lagi.');
            }
        }
        
        function toggleContinueButton() {
            const agreeCheckbox = document.getElementById('agree-terms');
            document.getElementById('continue-btn').disabled = !agreeCheckbox.checked;
        }
        
        function showParticipantForm() {
            // Hide terms screen with slide out animation
            document.getElementById('terms-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('terms-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
            }, 500);
        }
        
        function toggleParticipantFields() {
            // Only student status is available now
            document.getElementById('student-fields').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function showGradeSelection() {
            const level = document.querySelector('input[name="level"]:checked').value;
            const gradeOptions = document.getElementById('grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            // Add options based on level
            if (level === 'SD') {
                addGradeOption('grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addGradeOption('grade-5', 'Kelas <span class="roman">V</span>', '5');
                addGradeOption('grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addGradeOption('grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addGradeOption('grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addGradeOption('grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addGradeOption('grade-10', 'Kelas <span class="roman">X</span>', '10');
                addGradeOption('grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addGradeOption('grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
            
            document.getElementById('grade-selection').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function addGradeOption(id, label, value) {
            const container = document.getElementById('grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            // Add event listener for grade selection
            radio.addEventListener('change', function() {
                document.getElementById('subject-selection').style.display = 'block';
                checkParticipantFormValidity();
            });
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function validateField(field, errorId, pattern, errorMessage) {
            const errorElement = document.getElementById(errorId);
            
            if (!field.value.trim() || !pattern.test(field.value.trim())) {
                field.classList.add('input-error');
                errorElement.textContent = errorMessage;
                errorElement.style.display = 'block';
                return false;
            } else {
                field.classList.remove('input-error');
                errorElement.style.display = 'none';
                return true;
            }
        }
        
        function checkParticipantFormValidity() {
            let isValid = true;
            
            // Validate fullname
            const fullname = document.getElementById('fullname');
            if (!validateField(fullname, 'fullname-error', /^[A-Za-z ]+$/, "Nama lengkap harus diisi dan hanya boleh mengandung huruf")) {
                isValid = false;
            }
            
            // Validate school name
            const schoolName = document.getElementById('school-name');
            if (!validateField(schoolName, 'school-error', /.+/, "Nama sekolah harus diisi")) {
                isValid = false;
            }
            
            // Validate student ID
            const studentId = document.getElementById('student-id');
            if (!validateField(studentId, 'nis-error', /^[0-9]+$/, "NIS harus diisi dan hanya boleh mengandung angka")) {
                isValid = false;
            }
            
            // Validate purpose
            if (!document.querySelector('input[name="purpose"]:checked')) {
                document.getElementById('purpose-error').style.display = 'block';
                document.getElementById('purpose-radio-group').classList.add('radio-group-error');
                isValid = false;
            }
            
            // Validate level
            if (!document.querySelector('input[name="level"]:checked')) {
                document.getElementById('level-error').style.display = 'block';
                document.getElementById('level-radio-group').classList.add('radio-group-error');
                isValid = false;
            }
            
            // Validate grade
            if (!document.querySelector('input[name="grade"]:checked')) {
                document.getElementById('grade-error').style.display = 'block';
                isValid = false;
            }
            
            // Validate subject
            if (!document.querySelector('input[name="subject"]:checked')) {
                document.getElementById('subject-error').style.display = 'block';
                document.getElementById('subject-radio-group').classList.add('radio-group-error');
                isValid = false;
            }
            
            document.getElementById('save-participant-btn').disabled = !isValid;
            return isValid;
        }
        
        function validateAndStartExam() {
            if (checkParticipantFormValidity()) {
                startExam();
            } else {
                // Show warning notification
                const warning = document.getElementById('form-warning');
                warning.style.display = 'block';
                
                // Hide after 5 seconds
                setTimeout(() => {
                    warning.style.display = 'none';
                }, 5000);
                
                // Scroll to first error
                const firstError = document.querySelector('.input-error, .radio-group-error');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
        }
        
        function startExam() {
            // Collect participant data
            participantData = {
                fullname: document.getElementById('fullname').value.trim(),
                status: 'pelajar',
                purpose: document.querySelector('input[name="purpose"]:checked')?.value,
                level: document.querySelector('input[name="level"]:checked')?.value,
                grade: document.querySelector('input[name="grade"]:checked')?.value,
                subject: document.querySelector('input[name="subject"]:checked')?.value,
                school: document.getElementById('school-name')?.value.trim(),
                studentId: document.getElementById('student-id')?.value.trim(),
                examDate: new Date().toISOString(),
                deviceInfo: getDeviceInfo()
            };
            
            // Load questions based on level - hanya IPA
            if (participantData.level && QUESTION_BANK[participantData.level]['IPA']) {
                // Acak urutan soal
                const originalQuestions = QUESTION_BANK[participantData.level]['IPA'];
                questions = shuffleArray(originalQuestions);
                
                // Simpan urutan soal yang diacak
                questionOrder = questions.map((_, index) => index);
            } else {
                // Default questions (SD)
                const originalQuestions = QUESTION_BANK['SD']['IPA'];
                questions = shuffleArray(originalQuestions);
                questionOrder = questions.map((_, index) => index);
            }
            
            // Initialize exam data
            examData = {
                startTime: new Date(),
                answered: 0,
                correct: 0,
                wrong: 0,
                unanswered: questions.length,
                answers: Array(questions.length).fill(null)
            };
            
            // Set exam time from admin settings
            examTimeLeft = adminSettings.examDuration * 60;
            
            // Hide participant form with slide out animation
            document.getElementById('participant-form').classList.add('slide-out');
            
            // Show exam screen after animation completes
            setTimeout(() => {
                document.getElementById('participant-form').style.display = 'none';
                document.getElementById('exam-screen').style.display = 'block';
                document.getElementById('exam-screen').classList.add('slide-in');
                currentScreen = 'exam';
                
                // Start timer
                startTimer();
                
                // Load first question
                loadQuestion(0);
            }, 500);
        }
        
        // Fungsi untuk mendapatkan informasi perangkat
        function getDeviceInfo() {
            const userAgent = navigator.userAgent;
            let deviceType = 'Desktop';
            
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {
                deviceType = 'Mobile';
            } else if (/Tablet|iPad/i.test(userAgent)) {
                deviceType = 'Tablet';
            }
            
            return {
                deviceType: deviceType,
                userAgent: userAgent,
                screenWidth: window.screen.width,
                screenHeight: window.screen.height,
                platform: navigator.platform,
                language: navigator.language
            };
        }
        
        // Fungsi untuk mengacak array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function startTimer() {
            // Update timer display immediately
            updateTimerDisplay();
            
            // Start timer interval
            examTimer = setInterval(function() {
                examTimeLeft--;
                updateTimerDisplay();
                
                // Check if time is up
                if (examTimeLeft <= 0) {
                    clearInterval(examTimer);
                    finishExam();
                }
                
                // Show warning when 10 minutes left
                if (examTimeLeft === 600) { // 10 minutes = 600 seconds
                    showTimeWarning();
                }
                
                // Hide warning when 1 minute left
                if (examTimeLeft === 60) {
                    hideTimeWarning();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const hours = Math.floor(examTimeLeft / 3600);
            const minutes = Math.floor((examTimeLeft % 3600) / 60);
            const seconds = examTimeLeft % 60;
            
            const timerElement = document.getElementById('exam-timer');
            timerElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change style based on remaining time
            if (examTimeLeft <= 600) { // 10 minutes or less
                timerElement.classList.add('timer-warning');
                
                if (examTimeLeft <= 60) { // 1 minute or less
                    timerElement.classList.remove('timer-warning');
                    timerElement.classList.add('timer-danger');
                }
            } else {
                timerElement.classList.remove('timer-warning', 'timer-danger');
            }
        }
        
        function showTimeWarning() {
            const notification = document.getElementById('time-warning');
            notification.style.display = 'block';
            
            // Auto hide after 9 minutes (540 seconds)
            setTimeout(() => {
                notification.style.display = 'none';
            }, 540 * 1000);
        }
        
        function hideTimeWarning() {
            document.getElementById('time-warning').style.display = 'none';
        }
        
        function loadQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestionIndex = index;
            const question = questions[index];
            
            // Update question text (tampilkan nomor urut asli dari questionOrder)
            const originalQuestionNumber = questionOrder[index] + 1;
            document.getElementById('question-text').textContent = `Soal ${originalQuestionNumber}: ${question.question}`;
            
            // Clear previous image if exists
            const imageContainer = document.getElementById('question-image-container');
            imageContainer.innerHTML = '';
            
            // Add image if exists
            if (question.image) {
                const img = document.createElement('img');
                img.src = question.image;
                img.style.maxWidth = '100%';
                img.style.maxHeight = '200px';
                img.style.marginBottom = '15px';
                img.style.display = 'block';
                imageContainer.appendChild(img);
            }
            
            // Clear previous options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                
                // Check if this question was already answered
                if (examData.answers[index] !== null) {
                    if (examData.answers[index] === i) {
                        if (i === question.correctAnswer) {
                            optionElement.classList.add('correct');
                        } else {
                            optionElement.classList.add('incorrect');
                        }
                    } else if (i === question.correctAnswer) {
                        optionElement.classList.add('correct');
                    }
                    
                    // Show explanation if answered
                    document.getElementById('explanation-text').style.display = 'block';
                    document.getElementById('explanation-text').innerHTML = `<strong>Penjelasan:</strong> ${question.explanation}`;
                } else {
                    // Add click event for unanswered questions
                    optionElement.addEventListener('click', function() {
                        selectAnswer(index, i);
                    });
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation if question not answered
            if (examData.answers[index] === null) {
                document.getElementById('explanation-text').style.display = 'none';
            }
        }
        
        function selectAnswer(questionIndex, answerIndex) {
            const question = questions[questionIndex];
            
            // Record answer
            examData.answers[questionIndex] = answerIndex;
            
            // Update counters
            examData.answered++;
            examData.unanswered--;
            
            if (answerIndex === question.correctAnswer) {
                examData.correct++;
                // Play correct answer sound
                correctAnswerSound.currentTime = 0;
                correctAnswerSound.play().catch(e => console.log("Correct answer sound prevented:", e));
            } else {
                examData.wrong++;
                // Play wrong answer sound
                wrongAnswerSound.currentTime = 0;
                wrongAnswerSound.play().catch(e => console.log("Wrong answer sound prevented:", e));
            }
            
            // Reload question to show result
            loadQuestion(questionIndex);
            
            // Auto move to next question after delay if not last question
            if (questionIndex < questions.length - 1) {
                setTimeout(() => {
                    loadQuestion(questionIndex + 1);
                }, 2000);
            }
        }
        
        function skipQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        }
        
        function showUnansweredQuestions() {
            // Find first unanswered question
            const unansweredIndex = examData.answers.findIndex(answer => answer === null);
            
            if (unansweredIndex !== -1) {
                loadQuestion(unansweredIndex);
            } else {
                alert('Semua soal sudah dijawab.');
            }
        }
        
        async function finishExam() {
            clearInterval(examTimer);
            
            // Calculate unanswered questions
            examData.unanswered = examData.answers.filter(answer => answer === null).length;
            
            // Generate certificate code
            const certificateCode = generateUniqueCode();
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Add participant to data store
            const participantRecord = {
                ...participantData,
                score: score,
                examDate: new Date().toISOString(),
                certificateCode: certificateCode,
                answers: examData.answers,
                questions: questions.map((q, i) => ({
                    question: q.question,
                    selectedAnswer: examData.answers[i],
                    correctAnswer: q.correctAnswer,
                    explanation: q.explanation
                })),
                deviceInfo: participantData.deviceInfo,
                totalQuestions: questions.length,
                correctAnswers: examData.correct,
                wrongAnswers: examData.wrong,
                unanswered: examData.unanswered
            };
            
            // Simpan ke Google Sheets dan localStorage
            try {
                // First try to save to Google Sheets
                const saveResult = await saveToGoogleSheets(participantRecord);
                
                if (saveResult.success) {
                    // If successful, save to localStorage as well
                    participantsData.push(participantRecord);
                    saveParticipantsData();
                    
                    // Show results
                    showResults(participantRecord, certificateCode);
                } else {
                    // If Google Sheets fails, fallback to localStorage
                    console.error('Failed to save to Google Sheets:', saveResult.message);
                    saveToLocalStorage(participantRecord);
                    showResults(participantRecord, certificateCode);
                }
            } catch (error) {
                console.error('Error saving to Google Sheets:', error);
                // Fallback to localStorage
                saveToLocalStorage(participantRecord);
                showResults(participantRecord, certificateCode);
            }
        }
        
        function showResults(participantRecord, certificateCode) {
            // Hide exam screen with slide out animation
            document.getElementById('exam-screen').classList.add('slide-out');
            
            // Show results screen after animation completes
            setTimeout(() => {
                document.getElementById('exam-screen').style.display = 'none';
                document.getElementById('results-screen').style.display = 'block';
                document.getElementById('results-screen').classList.add('slide-in');
                currentScreen = 'results';
                
                // Display results
                displayResults(participantRecord);
                
                // Generate certificate
                generateCertificate(certificateCode);
                
                // Show celebration particles
                showCelebration();
                
                // Play certificate sound (applause)
                certificateSound.currentTime = 0;
                certificateSound.play().catch(e => console.log("Certificate sound prevented:", e));
            }, 500);
        }

        // Fungsi untuk mengirim data ke Google Sheets
        async function saveToGoogleSheets(participantData) {
            const dataToSend = {
                action: 'saveParticipant',
                data: {
                    fullname: participantData.fullname,
                    status: participantData.status,
                    purpose: participantData.purpose,
                    level: participantData.level,
                    grade: participantData.grade,
                    subject: participantData.subject,
                    school: participantData.school,
                    studentId: participantData.studentId,
                    score: participantData.score,
                    certificateCode: participantData.certificateCode,
                    examDate: participantData.examDate,
                    deviceType: participantData.deviceInfo?.deviceType || 'Unknown',
                    totalQuestions: participantData.totalQuestions,
                    correctAnswers: participantData.correctAnswers,
                    wrongAnswers: participantData.wrongAnswers,
                    unanswered: participantData.unanswered
                }
            };

            try {
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(dataToSend)
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }

                const result = await response.json();
                return result;
            } catch (error) {
                console.error('Error saving to Google Sheets:', error);
                throw error;
            }
        }

        function saveToLocalStorage(participantData) {
            const participantRecord = {
                ...participantData,
                totalQuestions: questions.length,
                correctAnswers: examData.correct,
                wrongAnswers: examData.wrong,
                unanswered: examData.unanswered
            };
            
            participantsData.push(participantRecord);
            saveParticipantsData();
        }
            
        function displayResults(participantRecord) {
            document.getElementById('result-name').textContent = participantRecord.fullname;
            document.getElementById('result-status').textContent = 'Pelajar';
            document.getElementById('result-level').textContent = participantRecord.level || '-';
            document.getElementById('result-grade').textContent = participantRecord.grade ? `Kelas ${participantRecord.grade}` : '-';
            document.getElementById('result-subject').textContent = participantRecord.subject || '-';
            document.getElementById('total-questions').textContent = participantRecord.totalQuestions;
            document.getElementById('correct-answers').textContent = participantRecord.correctAnswers;
            document.getElementById('wrong-answers').textContent = participantRecord.wrongAnswers;
            document.getElementById('unanswered-questions').textContent = participantRecord.unanswered;
            
            // Calculate score (percentage)
            const score = Math.round((participantRecord.correctAnswers / participantRecord.totalQuestions) * 100);
            document.getElementById('exam-score').textContent = `${score}%`;
        }
        
        function generateCertificate(certificateCode) {
            const certificateContainer = document.getElementById('certificate-container');
            certificateContainer.innerHTML = '';
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Get current date
            const now = new Date();
            const dateString = now.toLocaleDateString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            }).replace(/\//g, '');
            
            // Get motivational message based on score
            let motivation = '';
            for (const range in MOTIVATIONAL_MESSAGES) {
                const [min, max] = range.split('-').map(Number);
                if (score >= min && score <= max) {
                    motivation = MOTIVATIONAL_MESSAGES[range];
                    break;
                }
            }
            
            // Format NIS and school name for certificate code
            const formattedNIS = participantData.studentId ? participantData.studentId : '0000';
            const formattedSchool = participantData.school ? participantData.school.replace(/\s+/g, '-').toUpperCase().substring(0, 10) : 'SEKOLAH';
            
            // Create certificate HTML
            const certificate = document.createElement('div');
            certificate.className = 'certificate';
            
            certificate.innerHTML = `
                <div class="certificate-content">
                    <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                    <p class="certificate-code">${formatName(participantData.fullname)}/${formattedNIS}/${formattedSchool}/${participantData.level || 'UMUM'}/${participantData.subject || 'UMUM'}/${dateString}/${certificateCode}/PERGUNU-STB</p>
                    <p>Diberikan Kepada</p>
                    <h2 class="certificate-recipient">${formatName(participantData.fullname)}</h2>
                    <p class="certificate-body">
                        Atas Partisipasi & Pencapaian Luar Biasa Dalam<br>
                        Ujian IPA Pergunu Situbondo
                    </p>
                    <p class="certificate-body">
                        Sebagai penghargaan atas dedikasi dalam memahami materi IPA dan meningkatkan pengetahuan ilmiah, 
                        sertifikat ini diberikan sebagai motivasi untuk terus berkembang dalam ilmu pengetahuan alam.
                    </p>
                    <div class="certificate-score">Nilai: ${score}%</div>
                    <p class="certificate-motivation">${motivation}</p>
                    <div class="certificate-footer">
                        <p>Ditetapkan di: Situbondo, ${now.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                        <div class="certificate-signature">
                            <p>Ketua Pergunu Situbondo</p>
                            <p><strong>${adminSettings.chairmanName}</strong></p>
                        </div>
                        <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
                    </div>
                </div>
            `;
            
            certificateContainer.appendChild(certificate);
            certificateContainer.style.display = 'block';
        }
        
        function showCelebration() {
            // Show celebration particles
            document.getElementById('celebration-particles').style.display = 'block';
            
            // Hide after 5 seconds
            setTimeout(() => {
                document.getElementById('celebration-particles').style.display = 'none';
            }, 5000);
        }
        
        function formatName(name) {
            return name.split(' ').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
            ).join(' ');
        }
        
        function generateUniqueCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            result += '-';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            return result;
        }
        
        function printCertificate() {
            // Hide floating buttons
            document.querySelector('.floating-buttons').style.display = 'none';
            
            // Hide other elements in results screen
            document.querySelector('.results-summary').style.display = 'none';
            document.querySelector('.result-actions').style.display = 'none';
            
            // Print the certificate
            window.print();
            
            // Show elements again after printing
            setTimeout(() => {
                document.querySelector('.floating-buttons').style.display = 'flex';
                document.querySelector('.results-summary').style.display = 'block';
                document.querySelector('.result-actions').style.display = 'block';
            }, 500);
        }
        
        function retakeExam() {
            // Hide results screen with slide out animation
            document.getElementById('results-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('results-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
                
                // Reset timer
                examTimeLeft = adminSettings.examDuration * 60;
            }, 500);
        }
        
        function contactAdmin() {
            const message = encodeURIComponent("Assalamualaikum mas admin, saya mau tanya sesuatu nih...");
            window.open(`https://wa.me/6285647709114?text=${message}`, '_blank');
        }
        
        function showAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'flex';
        }
        
        function hideAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'none';
        }
        
        function submitAdminPanelCode() {
            const code = document.getElementById('admin-panel-code').value;
            
            if (code === adminSettings.adminCode) {
                // Show admin panel content
                document.getElementById('admin-panel-content').style.display = 'block';
                // Load participants data
                loadParticipantsData();
            } else {
                alert('Kode admin salah. Silakan coba lagi.');
            }
        }

        function loadParticipantsData() {
            const tableBody = document.getElementById('participants-table-body');
            tableBody.innerHTML = '';
            
            if (participantsData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="10" style="text-align: center;">Belum ada data peserta</td></tr>';
                return;
            }
            
            // Sort by date (newest first)
            const sortedData = [...participantsData].sort((a, b) => 
                new Date(b.examDate) - new Date(a.examDate));
            
            sortedData.forEach((participant, index) => {
                const date = new Date(participant.examDate);
                const dateStr = date.toLocaleDateString('id-ID', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const row = document.createElement('tr');
                row.dataset.index = index;
                row.innerHTML = `
                    <td>
                        <input type="checkbox" class="select-checkbox" data-index="${index}" onchange="toggleParticipantSelection(${index})">
                    </td>
                    <td>${dateStr}</td>
                    <td>${participant.fullname}</td>
                    <td>${participant.studentId || '-'}</td>
                    <td>Pelajar</td>
                    <td>${participant.level || '-'}</td>
                    <td>${participant.grade ? `Kelas ${participant.grade}` : '-'}</td>
                    <td>${participant.subject || '-'}</td>
                    <td>${participant.score}%</td>
                    <td>${participant.certificateCode || '-'}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Reset selected participants
            selectedParticipants = [];
            updateParticipantActionButtons();
        }
        
        function toggleParticipantSelection(index) {
            const checkbox = document.querySelector(`.select-checkbox[data-index="${index}"]`);
            if (checkbox.checked) {
                if (!selectedParticipants.includes(index)) {
                    selectedParticipants.push(index);
                }
            } else {
                selectedParticipants = selectedParticipants.filter(i => i !== index);
            }
            
            // Update select all checkbox
            updateSelectAllCheckbox();
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function toggleSelectAllParticipants() {
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            const checkboxes = document.querySelectorAll('.select-checkbox');
            
            selectAllCheckbox.checked = !selectAllCheckbox.checked;
            const isChecked = selectAllCheckbox.checked;
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = isChecked;
                const index = parseInt(checkbox.dataset.index);
                
                if (isChecked) {
                    if (!selectedParticipants.includes(index)) {
                        selectedParticipants.push(index);
                    }
                } else {
                    selectedParticipants = selectedParticipants.filter(i => i !== index);
                }
            });
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function updateSelectAllCheckbox() {
            const checkboxes = document.querySelectorAll('.select-checkbox');
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            
            if (checkboxes.length === 0) {
                selectAllCheckbox.checked = false;
                return;
            }
            
            const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
            selectAllCheckbox.checked = allChecked;
        }
        
        function updateParticipantActionButtons() {
            const hasSelection = selectedParticipants.length > 0;
            
            document.getElementById('edit-selected-participants').disabled = !hasSelection;
            document.getElementById('delete-selected-participants').disabled = !hasSelection;
        }
        
        function editSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            // For now, we'll just edit the first selected participant
            // In a real app, you might want to implement bulk editing
            const index = selectedParticipants[0];
            editParticipant(index);
        }
        
        function editParticipant(index) {
            const participant = participantsData[index];
            
            // Fill the edit form
            document.getElementById('edit-fullname').value = participant.fullname;
            
            // Set status to student (only option now)
            document.getElementById('edit-status-student').checked = true;
            document.getElementById('edit-student-fields').style.display = 'block';
            
            // Fill student fields
            document.getElementById('edit-school-name').value = participant.school || '';
            document.getElementById('edit-student-id').value = participant.studentId || '';
            
            // Set purpose
            if (participant.purpose) {
                const purposeRadio = document.querySelector(`input[name="edit-purpose"][value="${participant.purpose}"]`);
                if (purposeRadio) purposeRadio.checked = true;
            }
            
            // Set level
            if (participant.level) {
                const levelRadio = document.querySelector(`input[name="edit-level"][value="${participant.level}"]`);
                if (levelRadio) levelRadio.checked = true;
                
                // Show grade selection
                showEditGradeSelection();
                
                // Set grade
                if (participant.grade) {
                    const gradeRadio = document.querySelector(`input[name="edit-grade"][value="${participant.grade}"]`);
                    if (gradeRadio) gradeRadio.checked = true;
                }
            }
            
            // Set subject
            if (participant.subject) {
                document.getElementById('edit-subject').value = participant.subject;
            }
            
            // Set score
            document.getElementById('edit-score').value = participant.score;
            
            // Set certificate code
            document.getElementById('edit-certificate-code').value = participant.certificateCode || '-';
            
            // Store index for saving
            document.getElementById('edit-participant-index').value = index;
            
            // Show the modal
            document.getElementById('edit-participant-modal').style.display = 'flex';
        }
        
        function toggleEditParticipantFields() {
            // Only student status is available now
            document.getElementById('edit-student-fields').style.display = 'block';
        }
        
        function showEditGradeSelection() {
            const level = document.querySelector('input[name="edit-level"]:checked')?.value;
            const gradeOptions = document.getElementById('edit-grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            if (!level) return;
            
            // Add options based on level
            if (level === 'SD') {
                addEditGradeOption('edit-grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addEditGradeOption('edit-grade-5', 'Kelas <span class="roman">V</span>', '5');
                addEditGradeOption('edit-grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addEditGradeOption('edit-grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addEditGradeOption('edit-grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addEditGradeOption('edit-grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addEditGradeOption('edit-grade-10', 'Kelas <span class="roman">X</span>', '10');
                addEditGradeOption('edit-grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addEditGradeOption('edit-grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
        }
        
        function addEditGradeOption(id, label, value) {
            const container = document.getElementById('edit-grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'edit-grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function saveEditedParticipant() {
            const index = document.getElementById('edit-participant-index').value;
            if (!index) return;
            
            const participant = participantsData[index];
            
            // Update participant data
            participant.fullname = document.getElementById('edit-fullname').value.trim();
            participant.status = 'pelajar';
            participant.school = document.getElementById('edit-school-name').value.trim();
            participant.studentId = document.getElementById('edit-student-id').value.trim();
            participant.purpose = document.querySelector('input[name="edit-purpose"]:checked')?.value || '';
            participant.level = document.querySelector('input[name="edit-level"]:checked')?.value || '';
            participant.grade = document.querySelector('input[name="edit-grade"]:checked')?.value || '';
            participant.subject = document.getElementById('edit-subject').value;
            participant.score = parseInt(document.getElementById('edit-score').value);
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            // Hide modal
            hideEditParticipantModal();
            
            alert('Perubahan data peserta berhasil disimpan!');
        }
        
        function hideEditParticipantModal() {
            document.getElementById('edit-participant-modal').style.display = 'none';
        }
        
        function deleteSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            if (!confirm(`Apakah Anda yakin ingin menghapus ${selectedParticipants.length} peserta terpilih?`)) {
                return;
            }
            
            // Sort in descending order to avoid index issues when deleting
            const sortedIndices = [...selectedParticipants].sort((a, b) => b - a);
            
            // Delete participants
            sortedIndices.forEach(index => {
                participantsData.splice(index, 1);
            });
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            alert(`${sortedIndices.length} peserta berhasil dihapus!`);
        }
        
        function searchParticipants() {
            const searchTerm = document.getElementById('participant-search').value.toLowerCase();
            const rows = document.querySelectorAll('#participants-table-body tr');
            
            rows.forEach(row => {
                const index = parseInt(row.dataset.index);
                const participant = participantsData[index];
                const rowText = `
                    ${participant.fullname.toLowerCase()} 
                    ${participant.studentId || ''} 
                    ${participant.certificateCode || ''}
                `;
                
                if (rowText.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        function validateCertificate() {
            const code = document.getElementById('certificate-code-input').value.trim();
            const validationResult = document.getElementById('validation-result');
            
            if (!code) {
                alert('Silakan masukkan kode sertifikat');
                return;
            }
            
            // Find participant with this certificate code
            const participant = participantsData.find(p => p.certificateCode === code);
            
            if (participant) {
                validationResult.innerHTML = `
                    <p class="valid-certificate">Sertifikat Valid!</p>
                    <p>Nama: ${participant.fullname}</p>
                    <p>Status: Pelajar</p>
                    <p>Tingkat: ${participant.level || '-'}</p>
                    <p>Kelas: ${participant.grade ? `Kelas ${participant.grade}` : '-'}</p>
                    <p>Mata Ujian: ${participant.subject || '-'}</p>
                    <p>Nilai: ${participant.score}%</p>
                    <p>Tanggal Ujian: ${new Date(participant.examDate).toLocaleDateString('id-ID')}</p>
                    <p>Perangkat: ${participant.deviceInfo?.deviceType || 'Tidak diketahui'}</p>
                `;
                validationResult.style.display = 'block';
            } else {
                validationResult.innerHTML = '<p class="invalid-certificate">Sertifikat Tidak Valid!</p>';
                validationResult.style.display = 'block';
            }
        }
        
        function saveCodes() {
            const newLoginCode = document.getElementById('new-login-code').value;
            const newAdminCode = document.getElementById('new-admin-code').value;
            
            if (newLoginCode) {
                adminSettings.loginCode = newLoginCode;
                document.getElementById('new-login-code').value = '';
            }
            
            if (newAdminCode) {
                adminSettings.adminCode = newAdminCode;
                document.getElementById('new-admin-code').value = '';
            }
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Kode berhasil diubah!');
        }
        
        function saveContent() {
            const greetingMessage = document.getElementById('greeting-message-input').value;
            const adminMessage = document.getElementById('admin-message-input').value;
            const chairmanName = document.getElementById('chairman-name').value;
            
            // Update admin settings
            adminSettings.greetingMessage = greetingMessage;
            adminSettings.adminMessage = adminMessage;
            adminSettings.chairmanName = chairmanName;
            
            // Update UI
            document.getElementById('greeting-text').textContent = greetingMessage;
            document.getElementById('admin-message').textContent = adminMessage;
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Perubahan konten berhasil disimpan!');
        }
        
        function saveSettings() {
            const examDuration = parseInt(document.getElementById('exam-duration').value);
            
            // Update admin settings
            adminSettings.examDuration = examDuration;
            
            // Update subject toggle
            adminSettings.enabledSubjects = {
                "IPA": document.getElementById('toggle-ipa').checked
            };
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Pengaturan berhasil disimpan!');
        }
        
        function exportToCSV() {
            if (participantsData.length === 0) {
                alert('Tidak ada data peserta untuk diekspor');
                return;
            }
            
            // Create CSV header
            let csv = 'Nama,NIS,Sekolah,Tingkat,Kelas,Subject,Nilai,Kode Sertifikat,Tanggal Ujian,Jenis Perangkat\n';
            
            // Add data rows
            participantsData.forEach(participant => {
                csv += `"${participant.fullname}","${participant.studentId || ''}","${participant.school || ''}",`;
                csv += `"${participant.level || ''}","${participant.grade || ''}","${participant.subject || ''}",`;
                csv += `"${participant.score}","${participant.certificateCode || ''}","${new Date(participant.examDate).toLocaleString('id-ID')}",`;
                csv += `"${participant.deviceInfo?.deviceType || 'Tidak diketahui'}"\n`;
            });
            
            // Create download link
            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', `data-peserta-${new Date().toISOString().slice(0,10)}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        function exportToJSON() {
            if (participantsData.length === 0) {
                alert('Tidak ada data peserta untuk diekspor');
                return;
            }
            
            // Create JSON data
            const jsonData = JSON.stringify(participantsData, null, 2);
            
            // Create download link
            const blob = new Blob([jsonData], { type: 'application/json;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', `data-peserta-${new Date().toISOString().slice(0,10)}.json`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        function exportToExcel() {
            if (participantsData.length === 0) {
                alert('Tidak ada data peserta untuk diekspor');
                return;
            }
            
            // Prepare data for Excel
            const excelData = [
                ['Nama', 'NIS', 'Sekolah', 'Tingkat', 'Kelas', 'Mata Ujian', 'Nilai', 'Kode Sertifikat', 'Tanggal Ujian', 'Jenis Perangkat']
            ];
            
            participantsData.forEach(participant => {
                excelData.push([
                    participant.fullname,
                    participant.studentId || '',
                    participant.school || '',
                    participant.level || '',
                    participant.grade || '',
                    participant.subject || '',
                    participant.score,
                    participant.certificateCode || '',
                    new Date(participant.examDate).toLocaleString('id-ID'),
                    participant.deviceInfo?.deviceType || 'Tidak diketahui'
                ]);
            });
            
            // Create worksheet
            const ws = XLSX.utils.aoa_to_sheet(excelData);
            
            // Create workbook
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Data Peserta");
            
            // Export to Excel file
            XLSX.writeFile(wb, `data-peserta-${new Date().toISOString().slice(0,10)}.xlsx`);
        }
    </script>
</body>
</html>
